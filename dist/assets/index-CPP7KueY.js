function SI(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function rl(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var MC={exports:{}},Xm={},CC={exports:{}},$t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh=Symbol.for("react.element"),MI=Symbol.for("react.portal"),CI=Symbol.for("react.fragment"),bI=Symbol.for("react.strict_mode"),TI=Symbol.for("react.profiler"),RI=Symbol.for("react.provider"),PI=Symbol.for("react.context"),II=Symbol.for("react.forward_ref"),LI=Symbol.for("react.suspense"),BI=Symbol.for("react.memo"),DI=Symbol.for("react.lazy"),QE=Symbol.iterator;function NI(n){return n===null||typeof n!="object"?null:(n=QE&&n[QE]||n["@@iterator"],typeof n=="function"?n:null)}var bC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TC=Object.assign,RC={};function ff(n,e,t){this.props=n,this.context=e,this.refs=RC,this.updater=t||bC}ff.prototype.isReactComponent={};ff.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};ff.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function PC(){}PC.prototype=ff.prototype;function Q_(n,e,t){this.props=n,this.context=e,this.refs=RC,this.updater=t||bC}var q_=Q_.prototype=new PC;q_.constructor=Q_;TC(q_,ff.prototype);q_.isPureReactComponent=!0;var qE=Array.isArray,IC=Object.prototype.hasOwnProperty,ex={current:null},LC={key:!0,ref:!0,__self:!0,__source:!0};function BC(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)IC.call(e,r)&&!LC.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:zh,type:n,key:s,ref:o,props:i,_owner:ex.current}}function FI(n,e){return{$$typeof:zh,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function tx(n){return typeof n=="object"&&n!==null&&n.$$typeof===zh}function OI(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var eA=/\/+/g;function Y2(n,e){return typeof n=="object"&&n!==null&&n.key!=null?OI(""+n.key):e.toString(36)}function R0(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case zh:case MI:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+Y2(o,0):r,qE(i)?(t="",n!=null&&(t=n.replace(eA,"$&/")+"/"),R0(i,e,t,"",function(c){return c})):i!=null&&(tx(i)&&(i=FI(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(eA,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",qE(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+Y2(s,a);o+=R0(s,e,t,l,i)}else if(l=NI(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+Y2(s,a++),o+=R0(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function l1(n,e,t){if(n==null)return n;var r=[],i=0;return R0(n,r,"","",function(s){return e.call(t,s,i++)}),r}function kI(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var ii={current:null},P0={transition:null},UI={ReactCurrentDispatcher:ii,ReactCurrentBatchConfig:P0,ReactCurrentOwner:ex};$t.Children={map:l1,forEach:function(n,e,t){l1(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return l1(n,function(){e++}),e},toArray:function(n){return l1(n,function(e){return e})||[]},only:function(n){if(!tx(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};$t.Component=ff;$t.Fragment=CI;$t.Profiler=TI;$t.PureComponent=Q_;$t.StrictMode=bI;$t.Suspense=LI;$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UI;$t.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=TC({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ex.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)IC.call(e,l)&&!LC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:zh,type:n.type,key:i,ref:s,props:r,_owner:o}};$t.createContext=function(n){return n={$$typeof:PI,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:RI,_context:n},n.Consumer=n};$t.createElement=BC;$t.createFactory=function(n){var e=BC.bind(null,n);return e.type=n,e};$t.createRef=function(){return{current:null}};$t.forwardRef=function(n){return{$$typeof:II,render:n}};$t.isValidElement=tx;$t.lazy=function(n){return{$$typeof:DI,_payload:{_status:-1,_result:n},_init:kI}};$t.memo=function(n,e){return{$$typeof:BI,type:n,compare:e===void 0?null:e}};$t.startTransition=function(n){var e=P0.transition;P0.transition={};try{n()}finally{P0.transition=e}};$t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};$t.useCallback=function(n,e){return ii.current.useCallback(n,e)};$t.useContext=function(n){return ii.current.useContext(n)};$t.useDebugValue=function(){};$t.useDeferredValue=function(n){return ii.current.useDeferredValue(n)};$t.useEffect=function(n,e){return ii.current.useEffect(n,e)};$t.useId=function(){return ii.current.useId()};$t.useImperativeHandle=function(n,e,t){return ii.current.useImperativeHandle(n,e,t)};$t.useInsertionEffect=function(n,e){return ii.current.useInsertionEffect(n,e)};$t.useLayoutEffect=function(n,e){return ii.current.useLayoutEffect(n,e)};$t.useMemo=function(n,e){return ii.current.useMemo(n,e)};$t.useReducer=function(n,e,t){return ii.current.useReducer(n,e,t)};$t.useRef=function(n){return ii.current.useRef(n)};$t.useState=function(n){return ii.current.useState(n)};$t.useSyncExternalStore=function(n,e,t){return ii.current.useSyncExternalStore(n,e,t)};$t.useTransition=function(){return ii.current.useTransition()};$t.version="18.2.0";CC.exports=$t;var w=CC.exports;const le=rl(w),zI=SI({__proto__:null,default:le},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HI=w,GI=Symbol.for("react.element"),VI=Symbol.for("react.fragment"),WI=Object.prototype.hasOwnProperty,jI=HI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$I={key:!0,ref:!0,__self:!0,__source:!0};function DC(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)WI.call(e,r)&&!$I.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:GI,type:n,key:s,ref:o,props:i,_owner:jI.current}}Xm.Fragment=VI;Xm.jsx=DC;Xm.jsxs=DC;MC.exports=Xm;var N=MC.exports,Ny={},NC={exports:{}},zi={},FC={exports:{}},OC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,Y){var Q=F.length;F.push(Y);e:for(;0<Q;){var fe=Q-1>>>1,xe=F[fe];if(0<i(xe,Y))F[fe]=Y,F[Q]=xe,Q=fe;else break e}}function t(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var Y=F[0],Q=F.pop();if(Q!==Y){F[0]=Q;e:for(var fe=0,xe=F.length,Oe=xe>>>1;fe<Oe;){var X=2*(fe+1)-1,j=F[X],H=X+1,z=F[H];if(0>i(j,Q))H<xe&&0>i(z,j)?(F[fe]=z,F[H]=Q,fe=H):(F[fe]=j,F[X]=Q,fe=X);else if(H<xe&&0>i(z,Q))F[fe]=z,F[H]=Q,fe=H;else break e}}return Y}function i(F,Y){var Q=F.sortIndex-Y.sortIndex;return Q!==0?Q:F.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(F){for(var Y=t(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=F)r(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=t(c)}}function M(F){if(x=!1,_(F),!v)if(t(l)!==null)v=!0,re(R);else{var Y=t(c);Y!==null&&ue(M,Y.startTime-F)}}function R(F,Y){v=!1,x&&(x=!1,g(D),D=-1),m=!0;var Q=p;try{for(_(Y),h=t(l);h!==null&&(!(h.expirationTime>Y)||F&&!L());){var fe=h.callback;if(typeof fe=="function"){h.callback=null,p=h.priorityLevel;var xe=fe(h.expirationTime<=Y);Y=n.unstable_now(),typeof xe=="function"?h.callback=xe:h===t(l)&&r(l),_(Y)}else r(l);h=t(l)}if(h!==null)var Oe=!0;else{var X=t(c);X!==null&&ue(M,X.startTime-Y),Oe=!1}return Oe}finally{h=null,p=Q,m=!1}}var b=!1,P=null,D=-1,V=5,T=-1;function L(){return!(n.unstable_now()-T<V)}function G(){if(P!==null){var F=n.unstable_now();T=F;var Y=!0;try{Y=P(!0,F)}finally{Y?se():(b=!1,P=null)}}else b=!1}var se;if(typeof A=="function")se=function(){A(G)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,te=W.port2;W.port1.onmessage=G,se=function(){te.postMessage(null)}}else se=function(){y(G,0)};function re(F){P=F,b||(b=!0,se())}function ue(F,Y){D=y(function(){F(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,re(R))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var Q=p;p=Y;try{return F()}finally{p=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,Y){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Q=p;p=F;try{return Y()}finally{p=Q}},n.unstable_scheduleCallback=function(F,Y,Q){var fe=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?fe+Q:fe):Q=fe,F){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=Q+xe,F={id:u++,callback:Y,priorityLevel:F,startTime:Q,expirationTime:xe,sortIndex:-1},Q>fe?(F.sortIndex=Q,e(c,F),t(l)===null&&F===t(c)&&(x?(g(D),D=-1):x=!0,ue(M,Q-fe))):(F.sortIndex=xe,e(l,F),v||m||(v=!0,re(R))),F},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(F){var Y=p;return function(){var Q=p;p=Y;try{return F.apply(this,arguments)}finally{p=Q}}}})(OC);FC.exports=OC;var XI=FC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kC=w,Ui=XI;function Ve(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UC=new Set,nh={};function mc(n,e){Vu(n,e),Vu(n+"Capture",e)}function Vu(n,e){for(nh[n]=e,n=0;n<e.length;n++)UC.add(e[n])}var Ho=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fy=Object.prototype.hasOwnProperty,JI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tA={},nA={};function YI(n){return Fy.call(nA,n)?!0:Fy.call(tA,n)?!1:JI.test(n)?nA[n]=!0:(tA[n]=!0,!1)}function KI(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function ZI(n,e,t,r){if(e===null||typeof e>"u"||KI(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function si(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){wr[n]=new si(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];wr[e]=new si(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){wr[n]=new si(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){wr[n]=new si(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){wr[n]=new si(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){wr[n]=new si(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){wr[n]=new si(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){wr[n]=new si(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){wr[n]=new si(n,5,!1,n.toLowerCase(),null,!1,!1)});var nx=/[\-:]([a-z])/g;function rx(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(nx,rx);wr[e]=new si(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(nx,rx);wr[e]=new si(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(nx,rx);wr[e]=new si(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){wr[n]=new si(n,1,!1,n.toLowerCase(),null,!1,!1)});wr.xlinkHref=new si("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){wr[n]=new si(n,1,!1,n.toLowerCase(),null,!0,!0)});function ix(n,e,t,r){var i=wr.hasOwnProperty(e)?wr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZI(e,t,i,r)&&(t=null),r||i===null?YI(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Ko=kC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c1=Symbol.for("react.element"),du=Symbol.for("react.portal"),hu=Symbol.for("react.fragment"),sx=Symbol.for("react.strict_mode"),Oy=Symbol.for("react.profiler"),zC=Symbol.for("react.provider"),HC=Symbol.for("react.context"),ox=Symbol.for("react.forward_ref"),ky=Symbol.for("react.suspense"),Uy=Symbol.for("react.suspense_list"),ax=Symbol.for("react.memo"),Aa=Symbol.for("react.lazy"),GC=Symbol.for("react.offscreen"),rA=Symbol.iterator;function Zf(n){return n===null||typeof n!="object"?null:(n=rA&&n[rA]||n["@@iterator"],typeof n=="function"?n:null)}var Nn=Object.assign,K2;function Id(n){if(K2===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);K2=e&&e[1]||""}return`
`+K2+n}var Z2=!1;function Q2(n,e){if(!n||Z2)return"";Z2=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Z2=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Id(n):""}function QI(n){switch(n.tag){case 5:return Id(n.type);case 16:return Id("Lazy");case 13:return Id("Suspense");case 19:return Id("SuspenseList");case 0:case 2:case 15:return n=Q2(n.type,!1),n;case 11:return n=Q2(n.type.render,!1),n;case 1:return n=Q2(n.type,!0),n;default:return""}}function zy(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case hu:return"Fragment";case du:return"Portal";case Oy:return"Profiler";case sx:return"StrictMode";case ky:return"Suspense";case Uy:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case HC:return(n.displayName||"Context")+".Consumer";case zC:return(n._context.displayName||"Context")+".Provider";case ox:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ax:return e=n.displayName||null,e!==null?e:zy(n.type)||"Memo";case Aa:e=n._payload,n=n._init;try{return zy(n(e))}catch{}}return null}function qI(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zy(e);case 8:return e===sx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $a(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function VC(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eL(n){var e=VC(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function u1(n){n._valueTracker||(n._valueTracker=eL(n))}function WC(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=VC(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function q0(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Hy(n,e){var t=e.checked;return Nn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function iA(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=$a(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jC(n,e){e=e.checked,e!=null&&ix(n,"checked",e,!1)}function Gy(n,e){jC(n,e);var t=$a(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Vy(n,e.type,t):e.hasOwnProperty("defaultValue")&&Vy(n,e.type,$a(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function sA(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Vy(n,e,t){(e!=="number"||q0(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Ld=Array.isArray;function Iu(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+$a(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Wy(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return Nn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function oA(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ve(92));if(Ld(t)){if(1<t.length)throw Error(Ve(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:$a(t)}}function $C(n,e){var t=$a(e.value),r=$a(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function aA(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function XC(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jy(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?XC(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var f1,JC=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(f1=f1||document.createElement("div"),f1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=f1.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function rh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Od={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tL=["Webkit","ms","Moz","O"];Object.keys(Od).forEach(function(n){tL.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Od[e]=Od[n]})});function YC(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Od.hasOwnProperty(n)&&Od[n]?(""+e).trim():e+"px"}function KC(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=YC(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var nL=Nn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $y(n,e){if(e){if(nL[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ve(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ve(62))}}function Xy(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jy=null;function lx(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Yy=null,Lu=null,Bu=null;function lA(n){if(n=Vh(n)){if(typeof Yy!="function")throw Error(Ve(280));var e=n.stateNode;e&&(e=Qm(e),Yy(n.stateNode,n.type,e))}}function ZC(n){Lu?Bu?Bu.push(n):Bu=[n]:Lu=n}function QC(){if(Lu){var n=Lu,e=Bu;if(Bu=Lu=null,lA(n),e)for(n=0;n<e.length;n++)lA(e[n])}}function qC(n,e){return n(e)}function e6(){}var q2=!1;function t6(n,e,t){if(q2)return n(e,t);q2=!0;try{return qC(n,e,t)}finally{q2=!1,(Lu!==null||Bu!==null)&&(e6(),QC())}}function ih(n,e){var t=n.stateNode;if(t===null)return null;var r=Qm(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ve(231,e,typeof t));return t}var Ky=!1;if(Ho)try{var Qf={};Object.defineProperty(Qf,"passive",{get:function(){Ky=!0}}),window.addEventListener("test",Qf,Qf),window.removeEventListener("test",Qf,Qf)}catch{Ky=!1}function rL(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var kd=!1,em=null,tm=!1,Zy=null,iL={onError:function(n){kd=!0,em=n}};function sL(n,e,t,r,i,s,o,a,l){kd=!1,em=null,rL.apply(iL,arguments)}function oL(n,e,t,r,i,s,o,a,l){if(sL.apply(this,arguments),kd){if(kd){var c=em;kd=!1,em=null}else throw Error(Ve(198));tm||(tm=!0,Zy=c)}}function gc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function n6(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function cA(n){if(gc(n)!==n)throw Error(Ve(188))}function aL(n){var e=n.alternate;if(!e){if(e=gc(n),e===null)throw Error(Ve(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return cA(i),n;if(s===r)return cA(i),e;s=s.sibling}throw Error(Ve(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Ve(189))}}if(t.alternate!==r)throw Error(Ve(190))}if(t.tag!==3)throw Error(Ve(188));return t.stateNode.current===t?n:e}function r6(n){return n=aL(n),n!==null?i6(n):null}function i6(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=i6(n);if(e!==null)return e;n=n.sibling}return null}var s6=Ui.unstable_scheduleCallback,uA=Ui.unstable_cancelCallback,lL=Ui.unstable_shouldYield,cL=Ui.unstable_requestPaint,jn=Ui.unstable_now,uL=Ui.unstable_getCurrentPriorityLevel,cx=Ui.unstable_ImmediatePriority,o6=Ui.unstable_UserBlockingPriority,nm=Ui.unstable_NormalPriority,fL=Ui.unstable_LowPriority,a6=Ui.unstable_IdlePriority,Jm=null,ro=null;function dL(n){if(ro&&typeof ro.onCommitFiberRoot=="function")try{ro.onCommitFiberRoot(Jm,n,void 0,(n.current.flags&128)===128)}catch{}}var Ls=Math.clz32?Math.clz32:mL,hL=Math.log,pL=Math.LN2;function mL(n){return n>>>=0,n===0?32:31-(hL(n)/pL|0)|0}var d1=64,h1=4194304;function Bd(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function rm(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Bd(a):(s&=o,s!==0&&(r=Bd(s)))}else o=t&~i,o!==0?r=Bd(o):s!==0&&(r=Bd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Ls(e),i=1<<t,r|=n[t],e&=~i;return r}function gL(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vL(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Ls(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=gL(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function Qy(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function l6(){var n=d1;return d1<<=1,!(d1&4194240)&&(d1=64),n}function ev(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Hh(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Ls(e),n[e]=t}function yL(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Ls(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function ux(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Ls(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var ln=0;function c6(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var u6,fx,f6,d6,h6,qy=!1,p1=[],Ba=null,Da=null,Na=null,sh=new Map,oh=new Map,Ca=[],_L="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fA(n,e){switch(n){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":sh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oh.delete(e.pointerId)}}function qf(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Vh(e),e!==null&&fx(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function xL(n,e,t,r,i){switch(e){case"focusin":return Ba=qf(Ba,n,e,t,r,i),!0;case"dragenter":return Da=qf(Da,n,e,t,r,i),!0;case"mouseover":return Na=qf(Na,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return sh.set(s,qf(sh.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,oh.set(s,qf(oh.get(s)||null,n,e,t,r,i)),!0}return!1}function p6(n){var e=zl(n.target);if(e!==null){var t=gc(e);if(t!==null){if(e=t.tag,e===13){if(e=n6(t),e!==null){n.blockedOn=e,h6(n.priority,function(){f6(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function I0(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=e3(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Jy=r,t.target.dispatchEvent(r),Jy=null}else return e=Vh(t),e!==null&&fx(e),n.blockedOn=t,!1;e.shift()}return!0}function dA(n,e,t){I0(n)&&t.delete(e)}function EL(){qy=!1,Ba!==null&&I0(Ba)&&(Ba=null),Da!==null&&I0(Da)&&(Da=null),Na!==null&&I0(Na)&&(Na=null),sh.forEach(dA),oh.forEach(dA)}function ed(n,e){n.blockedOn===e&&(n.blockedOn=null,qy||(qy=!0,Ui.unstable_scheduleCallback(Ui.unstable_NormalPriority,EL)))}function ah(n){function e(i){return ed(i,n)}if(0<p1.length){ed(p1[0],n);for(var t=1;t<p1.length;t++){var r=p1[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Ba!==null&&ed(Ba,n),Da!==null&&ed(Da,n),Na!==null&&ed(Na,n),sh.forEach(e),oh.forEach(e),t=0;t<Ca.length;t++)r=Ca[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Ca.length&&(t=Ca[0],t.blockedOn===null);)p6(t),t.blockedOn===null&&Ca.shift()}var Du=Ko.ReactCurrentBatchConfig,im=!0;function AL(n,e,t,r){var i=ln,s=Du.transition;Du.transition=null;try{ln=1,dx(n,e,t,r)}finally{ln=i,Du.transition=s}}function wL(n,e,t,r){var i=ln,s=Du.transition;Du.transition=null;try{ln=4,dx(n,e,t,r)}finally{ln=i,Du.transition=s}}function dx(n,e,t,r){if(im){var i=e3(n,e,t,r);if(i===null)uv(n,e,r,sm,t),fA(n,r);else if(xL(i,n,e,t,r))r.stopPropagation();else if(fA(n,r),e&4&&-1<_L.indexOf(n)){for(;i!==null;){var s=Vh(i);if(s!==null&&u6(s),s=e3(n,e,t,r),s===null&&uv(n,e,r,sm,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else uv(n,e,r,null,t)}}var sm=null;function e3(n,e,t,r){if(sm=null,n=lx(r),n=zl(n),n!==null)if(e=gc(n),e===null)n=null;else if(t=e.tag,t===13){if(n=n6(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return sm=n,null}function m6(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uL()){case cx:return 1;case o6:return 4;case nm:case fL:return 16;case a6:return 536870912;default:return 16}default:return 16}}var Pa=null,hx=null,L0=null;function g6(){if(L0)return L0;var n,e=hx,t=e.length,r,i="value"in Pa?Pa.value:Pa.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return L0=i.slice(n,1<r?1-r:void 0)}function B0(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function m1(){return!0}function hA(){return!1}function Hi(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?m1:hA,this.isPropagationStopped=hA,this}return Nn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=m1)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=m1)},persist:function(){},isPersistent:m1}),e}var df={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},px=Hi(df),Gh=Nn({},df,{view:0,detail:0}),SL=Hi(Gh),tv,nv,td,Ym=Nn({},Gh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mx,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==td&&(td&&n.type==="mousemove"?(tv=n.screenX-td.screenX,nv=n.screenY-td.screenY):nv=tv=0,td=n),tv)},movementY:function(n){return"movementY"in n?n.movementY:nv}}),pA=Hi(Ym),ML=Nn({},Ym,{dataTransfer:0}),CL=Hi(ML),bL=Nn({},Gh,{relatedTarget:0}),rv=Hi(bL),TL=Nn({},df,{animationName:0,elapsedTime:0,pseudoElement:0}),RL=Hi(TL),PL=Nn({},df,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),IL=Hi(PL),LL=Nn({},df,{data:0}),mA=Hi(LL),BL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FL(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=NL[n])?!!e[n]:!1}function mx(){return FL}var OL=Nn({},Gh,{key:function(n){if(n.key){var e=BL[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=B0(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?DL[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mx,charCode:function(n){return n.type==="keypress"?B0(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?B0(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),kL=Hi(OL),UL=Nn({},Ym,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gA=Hi(UL),zL=Nn({},Gh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mx}),HL=Hi(zL),GL=Nn({},df,{propertyName:0,elapsedTime:0,pseudoElement:0}),VL=Hi(GL),WL=Nn({},Ym,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),jL=Hi(WL),$L=[9,13,27,32],gx=Ho&&"CompositionEvent"in window,Ud=null;Ho&&"documentMode"in document&&(Ud=document.documentMode);var XL=Ho&&"TextEvent"in window&&!Ud,v6=Ho&&(!gx||Ud&&8<Ud&&11>=Ud),vA=" ",yA=!1;function y6(n,e){switch(n){case"keyup":return $L.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _6(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var pu=!1;function JL(n,e){switch(n){case"compositionend":return _6(e);case"keypress":return e.which!==32?null:(yA=!0,vA);case"textInput":return n=e.data,n===vA&&yA?null:n;default:return null}}function YL(n,e){if(pu)return n==="compositionend"||!gx&&y6(n,e)?(n=g6(),L0=hx=Pa=null,pu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return v6&&e.locale!=="ko"?null:e.data;default:return null}}var KL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _A(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!KL[n.type]:e==="textarea"}function x6(n,e,t,r){ZC(r),e=om(e,"onChange"),0<e.length&&(t=new px("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var zd=null,lh=null;function ZL(n){I6(n,0)}function Km(n){var e=vu(n);if(WC(e))return n}function QL(n,e){if(n==="change")return e}var E6=!1;if(Ho){var iv;if(Ho){var sv="oninput"in document;if(!sv){var xA=document.createElement("div");xA.setAttribute("oninput","return;"),sv=typeof xA.oninput=="function"}iv=sv}else iv=!1;E6=iv&&(!document.documentMode||9<document.documentMode)}function EA(){zd&&(zd.detachEvent("onpropertychange",A6),lh=zd=null)}function A6(n){if(n.propertyName==="value"&&Km(lh)){var e=[];x6(e,lh,n,lx(n)),t6(ZL,e)}}function qL(n,e,t){n==="focusin"?(EA(),zd=e,lh=t,zd.attachEvent("onpropertychange",A6)):n==="focusout"&&EA()}function eB(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Km(lh)}function tB(n,e){if(n==="click")return Km(e)}function nB(n,e){if(n==="input"||n==="change")return Km(e)}function rB(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Fs=typeof Object.is=="function"?Object.is:rB;function ch(n,e){if(Fs(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!Fy.call(e,i)||!Fs(n[i],e[i]))return!1}return!0}function AA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function wA(n,e){var t=AA(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=AA(t)}}function w6(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?w6(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function S6(){for(var n=window,e=q0();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=q0(n.document)}return e}function vx(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function iB(n){var e=S6(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&w6(t.ownerDocument.documentElement,t)){if(r!==null&&vx(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=wA(t,s);var o=wA(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var sB=Ho&&"documentMode"in document&&11>=document.documentMode,mu=null,t3=null,Hd=null,n3=!1;function SA(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;n3||mu==null||mu!==q0(r)||(r=mu,"selectionStart"in r&&vx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hd&&ch(Hd,r)||(Hd=r,r=om(t3,"onSelect"),0<r.length&&(e=new px("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=mu)))}function g1(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var gu={animationend:g1("Animation","AnimationEnd"),animationiteration:g1("Animation","AnimationIteration"),animationstart:g1("Animation","AnimationStart"),transitionend:g1("Transition","TransitionEnd")},ov={},M6={};Ho&&(M6=document.createElement("div").style,"AnimationEvent"in window||(delete gu.animationend.animation,delete gu.animationiteration.animation,delete gu.animationstart.animation),"TransitionEvent"in window||delete gu.transitionend.transition);function Zm(n){if(ov[n])return ov[n];if(!gu[n])return n;var e=gu[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in M6)return ov[n]=e[t];return n}var C6=Zm("animationend"),b6=Zm("animationiteration"),T6=Zm("animationstart"),R6=Zm("transitionend"),P6=new Map,MA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function il(n,e){P6.set(n,e),mc(e,[n])}for(var av=0;av<MA.length;av++){var lv=MA[av],oB=lv.toLowerCase(),aB=lv[0].toUpperCase()+lv.slice(1);il(oB,"on"+aB)}il(C6,"onAnimationEnd");il(b6,"onAnimationIteration");il(T6,"onAnimationStart");il("dblclick","onDoubleClick");il("focusin","onFocus");il("focusout","onBlur");il(R6,"onTransitionEnd");Vu("onMouseEnter",["mouseout","mouseover"]);Vu("onMouseLeave",["mouseout","mouseover"]);Vu("onPointerEnter",["pointerout","pointerover"]);Vu("onPointerLeave",["pointerout","pointerover"]);mc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mc("onBeforeInput",["compositionend","keypress","textInput","paste"]);mc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dd));function CA(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,oL(r,e,void 0,n),n.currentTarget=null}function I6(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;CA(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;CA(i,a,c),s=l}}}if(tm)throw n=Zy,tm=!1,Zy=null,n}function _n(n,e){var t=e[a3];t===void 0&&(t=e[a3]=new Set);var r=n+"__bubble";t.has(r)||(L6(e,n,2,!1),t.add(r))}function cv(n,e,t){var r=0;e&&(r|=4),L6(t,n,r,e)}var v1="_reactListening"+Math.random().toString(36).slice(2);function uh(n){if(!n[v1]){n[v1]=!0,UC.forEach(function(t){t!=="selectionchange"&&(lB.has(t)||cv(t,!1,n),cv(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[v1]||(e[v1]=!0,cv("selectionchange",!1,e))}}function L6(n,e,t,r){switch(m6(e)){case 1:var i=AL;break;case 4:i=wL;break;default:i=dx}t=i.bind(null,e,t,n),i=void 0,!Ky||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function uv(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=zl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}t6(function(){var c=s,u=lx(t),h=[];e:{var p=P6.get(n);if(p!==void 0){var m=px,v=n;switch(n){case"keypress":if(B0(t)===0)break e;case"keydown":case"keyup":m=kL;break;case"focusin":v="focus",m=rv;break;case"focusout":v="blur",m=rv;break;case"beforeblur":case"afterblur":m=rv;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=pA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=CL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=HL;break;case C6:case b6:case T6:m=RL;break;case R6:m=VL;break;case"scroll":m=SL;break;case"wheel":m=jL;break;case"copy":case"cut":case"paste":m=IL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=gA}var x=(e&4)!==0,y=!x&&n==="scroll",g=x?p!==null?p+"Capture":null:p;x=[];for(var A=c,_;A!==null;){_=A;var M=_.stateNode;if(_.tag===5&&M!==null&&(_=M,g!==null&&(M=ih(A,g),M!=null&&x.push(fh(A,M,_)))),y)break;A=A.return}0<x.length&&(p=new m(p,v,null,t,u),h.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==Jy&&(v=t.relatedTarget||t.fromElement)&&(zl(v)||v[Go]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=c,v=v?zl(v):null,v!==null&&(y=gc(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(x=pA,M="onMouseLeave",g="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(x=gA,M="onPointerLeave",g="onPointerEnter",A="pointer"),y=m==null?p:vu(m),_=v==null?p:vu(v),p=new x(M,A+"leave",m,t,u),p.target=y,p.relatedTarget=_,M=null,zl(u)===c&&(x=new x(g,A+"enter",v,t,u),x.target=_,x.relatedTarget=y,M=x),y=M,m&&v)t:{for(x=m,g=v,A=0,_=x;_;_=Fc(_))A++;for(_=0,M=g;M;M=Fc(M))_++;for(;0<A-_;)x=Fc(x),A--;for(;0<_-A;)g=Fc(g),_--;for(;A--;){if(x===g||g!==null&&x===g.alternate)break t;x=Fc(x),g=Fc(g)}x=null}else x=null;m!==null&&bA(h,p,m,x,!1),v!==null&&y!==null&&bA(h,y,v,x,!0)}}e:{if(p=c?vu(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var R=QL;else if(_A(p))if(E6)R=nB;else{R=eB;var b=qL}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=tB);if(R&&(R=R(n,c))){x6(h,R,t,u);break e}b&&b(n,p,c),n==="focusout"&&(b=p._wrapperState)&&b.controlled&&p.type==="number"&&Vy(p,"number",p.value)}switch(b=c?vu(c):window,n){case"focusin":(_A(b)||b.contentEditable==="true")&&(mu=b,t3=c,Hd=null);break;case"focusout":Hd=t3=mu=null;break;case"mousedown":n3=!0;break;case"contextmenu":case"mouseup":case"dragend":n3=!1,SA(h,t,u);break;case"selectionchange":if(sB)break;case"keydown":case"keyup":SA(h,t,u)}var P;if(gx)e:{switch(n){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else pu?y6(n,t)&&(D="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(D="onCompositionStart");D&&(v6&&t.locale!=="ko"&&(pu||D!=="onCompositionStart"?D==="onCompositionEnd"&&pu&&(P=g6()):(Pa=u,hx="value"in Pa?Pa.value:Pa.textContent,pu=!0)),b=om(c,D),0<b.length&&(D=new mA(D,n,null,t,u),h.push({event:D,listeners:b}),P?D.data=P:(P=_6(t),P!==null&&(D.data=P)))),(P=XL?JL(n,t):YL(n,t))&&(c=om(c,"onBeforeInput"),0<c.length&&(u=new mA("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=P))}I6(h,e)})}function fh(n,e,t){return{instance:n,listener:e,currentTarget:t}}function om(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ih(n,t),s!=null&&r.unshift(fh(n,s,i)),s=ih(n,e),s!=null&&r.push(fh(n,s,i))),n=n.return}return r}function Fc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function bA(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ih(t,s),l!=null&&o.unshift(fh(t,l,a))):i||(l=ih(t,s),l!=null&&o.push(fh(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var cB=/\r\n?/g,uB=/\u0000|\uFFFD/g;function TA(n){return(typeof n=="string"?n:""+n).replace(cB,`
`).replace(uB,"")}function y1(n,e,t){if(e=TA(e),TA(n)!==e&&t)throw Error(Ve(425))}function am(){}var r3=null,i3=null;function s3(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var o3=typeof setTimeout=="function"?setTimeout:void 0,fB=typeof clearTimeout=="function"?clearTimeout:void 0,RA=typeof Promise=="function"?Promise:void 0,dB=typeof queueMicrotask=="function"?queueMicrotask:typeof RA<"u"?function(n){return RA.resolve(null).then(n).catch(hB)}:o3;function hB(n){setTimeout(function(){throw n})}function fv(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),ah(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);ah(e)}function Fa(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function PA(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var hf=Math.random().toString(36).slice(2),eo="__reactFiber$"+hf,dh="__reactProps$"+hf,Go="__reactContainer$"+hf,a3="__reactEvents$"+hf,pB="__reactListeners$"+hf,mB="__reactHandles$"+hf;function zl(n){var e=n[eo];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Go]||t[eo]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=PA(n);n!==null;){if(t=n[eo])return t;n=PA(n)}return e}n=t,t=n.parentNode}return null}function Vh(n){return n=n[eo]||n[Go],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function vu(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ve(33))}function Qm(n){return n[dh]||null}var l3=[],yu=-1;function sl(n){return{current:n}}function An(n){0>yu||(n.current=l3[yu],l3[yu]=null,yu--)}function vn(n,e){yu++,l3[yu]=n.current,n.current=e}var Xa={},Hr=sl(Xa),vi=sl(!1),sc=Xa;function Wu(n,e){var t=n.type.contextTypes;if(!t)return Xa;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function yi(n){return n=n.childContextTypes,n!=null}function lm(){An(vi),An(Hr)}function IA(n,e,t){if(Hr.current!==Xa)throw Error(Ve(168));vn(Hr,e),vn(vi,t)}function B6(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ve(108,qI(n)||"Unknown",i));return Nn({},t,r)}function cm(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Xa,sc=Hr.current,vn(Hr,n),vn(vi,vi.current),!0}function LA(n,e,t){var r=n.stateNode;if(!r)throw Error(Ve(169));t?(n=B6(n,e,sc),r.__reactInternalMemoizedMergedChildContext=n,An(vi),An(Hr),vn(Hr,n)):An(vi),vn(vi,t)}var Ro=null,qm=!1,dv=!1;function D6(n){Ro===null?Ro=[n]:Ro.push(n)}function gB(n){qm=!0,D6(n)}function ol(){if(!dv&&Ro!==null){dv=!0;var n=0,e=ln;try{var t=Ro;for(ln=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Ro=null,qm=!1}catch(i){throw Ro!==null&&(Ro=Ro.slice(n+1)),s6(cx,ol),i}finally{ln=e,dv=!1}}return null}var _u=[],xu=0,um=null,fm=0,is=[],ss=0,oc=null,Bo=1,Do="";function Dl(n,e){_u[xu++]=fm,_u[xu++]=um,um=n,fm=e}function N6(n,e,t){is[ss++]=Bo,is[ss++]=Do,is[ss++]=oc,oc=n;var r=Bo;n=Do;var i=32-Ls(r)-1;r&=~(1<<i),t+=1;var s=32-Ls(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Bo=1<<32-Ls(e)+i|t<<i|r,Do=s+n}else Bo=1<<s|t<<i|r,Do=n}function yx(n){n.return!==null&&(Dl(n,1),N6(n,1,0))}function _x(n){for(;n===um;)um=_u[--xu],_u[xu]=null,fm=_u[--xu],_u[xu]=null;for(;n===oc;)oc=is[--ss],is[ss]=null,Do=is[--ss],is[ss]=null,Bo=is[--ss],is[ss]=null}var Fi=null,Bi=null,Mn=!1,Ps=null;function F6(n,e){var t=ls(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function BA(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Fi=n,Bi=Fa(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Fi=n,Bi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=oc!==null?{id:Bo,overflow:Do}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ls(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Fi=n,Bi=null,!0):!1;default:return!1}}function c3(n){return(n.mode&1)!==0&&(n.flags&128)===0}function u3(n){if(Mn){var e=Bi;if(e){var t=e;if(!BA(n,e)){if(c3(n))throw Error(Ve(418));e=Fa(t.nextSibling);var r=Fi;e&&BA(n,e)?F6(r,t):(n.flags=n.flags&-4097|2,Mn=!1,Fi=n)}}else{if(c3(n))throw Error(Ve(418));n.flags=n.flags&-4097|2,Mn=!1,Fi=n}}}function DA(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Fi=n}function _1(n){if(n!==Fi)return!1;if(!Mn)return DA(n),Mn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!s3(n.type,n.memoizedProps)),e&&(e=Bi)){if(c3(n))throw O6(),Error(Ve(418));for(;e;)F6(n,e),e=Fa(e.nextSibling)}if(DA(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ve(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Bi=Fa(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Bi=null}}else Bi=Fi?Fa(n.stateNode.nextSibling):null;return!0}function O6(){for(var n=Bi;n;)n=Fa(n.nextSibling)}function ju(){Bi=Fi=null,Mn=!1}function xx(n){Ps===null?Ps=[n]:Ps.push(n)}var vB=Ko.ReactCurrentBatchConfig;function bs(n,e){if(n&&n.defaultProps){e=Nn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var dm=sl(null),hm=null,Eu=null,Ex=null;function Ax(){Ex=Eu=hm=null}function wx(n){var e=dm.current;An(dm),n._currentValue=e}function f3(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Nu(n,e){hm=n,Ex=Eu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(mi=!0),n.firstContext=null)}function hs(n){var e=n._currentValue;if(Ex!==n)if(n={context:n,memoizedValue:e,next:null},Eu===null){if(hm===null)throw Error(Ve(308));Eu=n,hm.dependencies={lanes:0,firstContext:n}}else Eu=Eu.next=n;return e}var Hl=null;function Sx(n){Hl===null?Hl=[n]:Hl.push(n)}function k6(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,Sx(e)):(t.next=i.next,i.next=t),e.interleaved=t,Vo(n,r)}function Vo(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var wa=!1;function Mx(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U6(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Oo(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Oa(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,qt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vo(n,t)}return i=r.interleaved,i===null?(e.next=e,Sx(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vo(n,t)}function D0(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,ux(n,t)}}function NA(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function pm(n,e,t,r){var i=n.updateQueue;wa=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,x=a;switch(p=e,m=t,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(m,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,p=typeof v=="function"?v.call(m,h,p):v,p==null)break e;h=Nn({},h,p);break e;case 2:wa=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=h):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);lc|=o,n.lanes=o,n.memoizedState=h}}function FA(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ve(191,i));i.call(r)}}}var z6=new kC.Component().refs;function d3(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Nn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var eg={isMounted:function(n){return(n=n._reactInternals)?gc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=ni(),i=Ua(n),s=Oo(r,i);s.payload=e,t!=null&&(s.callback=t),e=Oa(n,s,i),e!==null&&(Bs(e,n,i,r),D0(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=ni(),i=Ua(n),s=Oo(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Oa(n,s,i),e!==null&&(Bs(e,n,i,r),D0(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ni(),r=Ua(n),i=Oo(t,r);i.tag=2,e!=null&&(i.callback=e),e=Oa(n,i,r),e!==null&&(Bs(e,n,r,t),D0(e,n,r))}};function OA(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ch(t,r)||!ch(i,s):!0}function H6(n,e,t){var r=!1,i=Xa,s=e.contextType;return typeof s=="object"&&s!==null?s=hs(s):(i=yi(e)?sc:Hr.current,r=e.contextTypes,s=(r=r!=null)?Wu(n,i):Xa),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=eg,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function kA(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&eg.enqueueReplaceState(e,e.state,null)}function h3(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=z6,Mx(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=hs(s):(s=yi(e)?sc:Hr.current,i.context=Wu(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(d3(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&eg.enqueueReplaceState(i,i.state,null),pm(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function nd(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ve(309));var r=t.stateNode}if(!r)throw Error(Ve(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===z6&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ve(284));if(!t._owner)throw Error(Ve(290,n))}return n}function x1(n,e){throw n=Object.prototype.toString.call(e),Error(Ve(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function UA(n){var e=n._init;return e(n._payload)}function G6(n){function e(g,A){if(n){var _=g.deletions;_===null?(g.deletions=[A],g.flags|=16):_.push(A)}}function t(g,A){if(!n)return null;for(;A!==null;)e(g,A),A=A.sibling;return null}function r(g,A){for(g=new Map;A!==null;)A.key!==null?g.set(A.key,A):g.set(A.index,A),A=A.sibling;return g}function i(g,A){return g=za(g,A),g.index=0,g.sibling=null,g}function s(g,A,_){return g.index=_,n?(_=g.alternate,_!==null?(_=_.index,_<A?(g.flags|=2,A):_):(g.flags|=2,A)):(g.flags|=1048576,A)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,A,_,M){return A===null||A.tag!==6?(A=_v(_,g.mode,M),A.return=g,A):(A=i(A,_),A.return=g,A)}function l(g,A,_,M){var R=_.type;return R===hu?u(g,A,_.props.children,M,_.key):A!==null&&(A.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Aa&&UA(R)===A.type)?(M=i(A,_.props),M.ref=nd(g,A,_),M.return=g,M):(M=z0(_.type,_.key,_.props,null,g.mode,M),M.ref=nd(g,A,_),M.return=g,M)}function c(g,A,_,M){return A===null||A.tag!==4||A.stateNode.containerInfo!==_.containerInfo||A.stateNode.implementation!==_.implementation?(A=xv(_,g.mode,M),A.return=g,A):(A=i(A,_.children||[]),A.return=g,A)}function u(g,A,_,M,R){return A===null||A.tag!==7?(A=Zl(_,g.mode,M,R),A.return=g,A):(A=i(A,_),A.return=g,A)}function h(g,A,_){if(typeof A=="string"&&A!==""||typeof A=="number")return A=_v(""+A,g.mode,_),A.return=g,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case c1:return _=z0(A.type,A.key,A.props,null,g.mode,_),_.ref=nd(g,null,A),_.return=g,_;case du:return A=xv(A,g.mode,_),A.return=g,A;case Aa:var M=A._init;return h(g,M(A._payload),_)}if(Ld(A)||Zf(A))return A=Zl(A,g.mode,_,null),A.return=g,A;x1(g,A)}return null}function p(g,A,_,M){var R=A!==null?A.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return R!==null?null:a(g,A,""+_,M);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case c1:return _.key===R?l(g,A,_,M):null;case du:return _.key===R?c(g,A,_,M):null;case Aa:return R=_._init,p(g,A,R(_._payload),M)}if(Ld(_)||Zf(_))return R!==null?null:u(g,A,_,M,null);x1(g,_)}return null}function m(g,A,_,M,R){if(typeof M=="string"&&M!==""||typeof M=="number")return g=g.get(_)||null,a(A,g,""+M,R);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case c1:return g=g.get(M.key===null?_:M.key)||null,l(A,g,M,R);case du:return g=g.get(M.key===null?_:M.key)||null,c(A,g,M,R);case Aa:var b=M._init;return m(g,A,_,b(M._payload),R)}if(Ld(M)||Zf(M))return g=g.get(_)||null,u(A,g,M,R,null);x1(A,M)}return null}function v(g,A,_,M){for(var R=null,b=null,P=A,D=A=0,V=null;P!==null&&D<_.length;D++){P.index>D?(V=P,P=null):V=P.sibling;var T=p(g,P,_[D],M);if(T===null){P===null&&(P=V);break}n&&P&&T.alternate===null&&e(g,P),A=s(T,A,D),b===null?R=T:b.sibling=T,b=T,P=V}if(D===_.length)return t(g,P),Mn&&Dl(g,D),R;if(P===null){for(;D<_.length;D++)P=h(g,_[D],M),P!==null&&(A=s(P,A,D),b===null?R=P:b.sibling=P,b=P);return Mn&&Dl(g,D),R}for(P=r(g,P);D<_.length;D++)V=m(P,g,D,_[D],M),V!==null&&(n&&V.alternate!==null&&P.delete(V.key===null?D:V.key),A=s(V,A,D),b===null?R=V:b.sibling=V,b=V);return n&&P.forEach(function(L){return e(g,L)}),Mn&&Dl(g,D),R}function x(g,A,_,M){var R=Zf(_);if(typeof R!="function")throw Error(Ve(150));if(_=R.call(_),_==null)throw Error(Ve(151));for(var b=R=null,P=A,D=A=0,V=null,T=_.next();P!==null&&!T.done;D++,T=_.next()){P.index>D?(V=P,P=null):V=P.sibling;var L=p(g,P,T.value,M);if(L===null){P===null&&(P=V);break}n&&P&&L.alternate===null&&e(g,P),A=s(L,A,D),b===null?R=L:b.sibling=L,b=L,P=V}if(T.done)return t(g,P),Mn&&Dl(g,D),R;if(P===null){for(;!T.done;D++,T=_.next())T=h(g,T.value,M),T!==null&&(A=s(T,A,D),b===null?R=T:b.sibling=T,b=T);return Mn&&Dl(g,D),R}for(P=r(g,P);!T.done;D++,T=_.next())T=m(P,g,D,T.value,M),T!==null&&(n&&T.alternate!==null&&P.delete(T.key===null?D:T.key),A=s(T,A,D),b===null?R=T:b.sibling=T,b=T);return n&&P.forEach(function(G){return e(g,G)}),Mn&&Dl(g,D),R}function y(g,A,_,M){if(typeof _=="object"&&_!==null&&_.type===hu&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case c1:e:{for(var R=_.key,b=A;b!==null;){if(b.key===R){if(R=_.type,R===hu){if(b.tag===7){t(g,b.sibling),A=i(b,_.props.children),A.return=g,g=A;break e}}else if(b.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Aa&&UA(R)===b.type){t(g,b.sibling),A=i(b,_.props),A.ref=nd(g,b,_),A.return=g,g=A;break e}t(g,b);break}else e(g,b);b=b.sibling}_.type===hu?(A=Zl(_.props.children,g.mode,M,_.key),A.return=g,g=A):(M=z0(_.type,_.key,_.props,null,g.mode,M),M.ref=nd(g,A,_),M.return=g,g=M)}return o(g);case du:e:{for(b=_.key;A!==null;){if(A.key===b)if(A.tag===4&&A.stateNode.containerInfo===_.containerInfo&&A.stateNode.implementation===_.implementation){t(g,A.sibling),A=i(A,_.children||[]),A.return=g,g=A;break e}else{t(g,A);break}else e(g,A);A=A.sibling}A=xv(_,g.mode,M),A.return=g,g=A}return o(g);case Aa:return b=_._init,y(g,A,b(_._payload),M)}if(Ld(_))return v(g,A,_,M);if(Zf(_))return x(g,A,_,M);x1(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,A!==null&&A.tag===6?(t(g,A.sibling),A=i(A,_),A.return=g,g=A):(t(g,A),A=_v(_,g.mode,M),A.return=g,g=A),o(g)):t(g,A)}return y}var $u=G6(!0),V6=G6(!1),Wh={},io=sl(Wh),hh=sl(Wh),ph=sl(Wh);function Gl(n){if(n===Wh)throw Error(Ve(174));return n}function Cx(n,e){switch(vn(ph,e),vn(hh,n),vn(io,Wh),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jy(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=jy(e,n)}An(io),vn(io,e)}function Xu(){An(io),An(hh),An(ph)}function W6(n){Gl(ph.current);var e=Gl(io.current),t=jy(e,n.type);e!==t&&(vn(hh,n),vn(io,t))}function bx(n){hh.current===n&&(An(io),An(hh))}var In=sl(0);function mm(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hv=[];function Tx(){for(var n=0;n<hv.length;n++)hv[n]._workInProgressVersionPrimary=null;hv.length=0}var N0=Ko.ReactCurrentDispatcher,pv=Ko.ReactCurrentBatchConfig,ac=0,Dn=null,tr=null,hr=null,gm=!1,Gd=!1,mh=0,yB=0;function Rr(){throw Error(Ve(321))}function Rx(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Fs(n[t],e[t]))return!1;return!0}function Px(n,e,t,r,i,s){if(ac=s,Dn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,N0.current=n===null||n.memoizedState===null?AB:wB,n=t(r,i),Gd){s=0;do{if(Gd=!1,mh=0,25<=s)throw Error(Ve(301));s+=1,hr=tr=null,e.updateQueue=null,N0.current=SB,n=t(r,i)}while(Gd)}if(N0.current=vm,e=tr!==null&&tr.next!==null,ac=0,hr=tr=Dn=null,gm=!1,e)throw Error(Ve(300));return n}function Ix(){var n=mh!==0;return mh=0,n}function qs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?Dn.memoizedState=hr=n:hr=hr.next=n,hr}function ps(){if(tr===null){var n=Dn.alternate;n=n!==null?n.memoizedState:null}else n=tr.next;var e=hr===null?Dn.memoizedState:hr.next;if(e!==null)hr=e,tr=n;else{if(n===null)throw Error(Ve(310));tr=n,n={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},hr===null?Dn.memoizedState=hr=n:hr=hr.next=n}return hr}function gh(n,e){return typeof e=="function"?e(n):e}function mv(n){var e=ps(),t=e.queue;if(t===null)throw Error(Ve(311));t.lastRenderedReducer=n;var r=tr,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((ac&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Dn.lanes|=u,lc|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Fs(r,e.memoizedState)||(mi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Dn.lanes|=s,lc|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function gv(n){var e=ps(),t=e.queue;if(t===null)throw Error(Ve(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Fs(s,e.memoizedState)||(mi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function j6(){}function $6(n,e){var t=Dn,r=ps(),i=e(),s=!Fs(r.memoizedState,i);if(s&&(r.memoizedState=i,mi=!0),r=r.queue,Lx(Y6.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||hr!==null&&hr.memoizedState.tag&1){if(t.flags|=2048,vh(9,J6.bind(null,t,r,i,e),void 0,null),mr===null)throw Error(Ve(349));ac&30||X6(t,e,i)}return i}function X6(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Dn.updateQueue,e===null?(e={lastEffect:null,stores:null},Dn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function J6(n,e,t,r){e.value=t,e.getSnapshot=r,K6(e)&&Z6(n)}function Y6(n,e,t){return t(function(){K6(e)&&Z6(n)})}function K6(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Fs(n,t)}catch{return!0}}function Z6(n){var e=Vo(n,1);e!==null&&Bs(e,n,1,-1)}function zA(n){var e=qs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gh,lastRenderedState:n},e.queue=n,n=n.dispatch=EB.bind(null,Dn,n),[e.memoizedState,n]}function vh(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Dn.updateQueue,e===null?(e={lastEffect:null,stores:null},Dn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function Q6(){return ps().memoizedState}function F0(n,e,t,r){var i=qs();Dn.flags|=n,i.memoizedState=vh(1|e,t,void 0,r===void 0?null:r)}function tg(n,e,t,r){var i=ps();r=r===void 0?null:r;var s=void 0;if(tr!==null){var o=tr.memoizedState;if(s=o.destroy,r!==null&&Rx(r,o.deps)){i.memoizedState=vh(e,t,s,r);return}}Dn.flags|=n,i.memoizedState=vh(1|e,t,s,r)}function HA(n,e){return F0(8390656,8,n,e)}function Lx(n,e){return tg(2048,8,n,e)}function q6(n,e){return tg(4,2,n,e)}function e7(n,e){return tg(4,4,n,e)}function t7(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function n7(n,e,t){return t=t!=null?t.concat([n]):null,tg(4,4,t7.bind(null,e,n),t)}function Bx(){}function r7(n,e){var t=ps();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Rx(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function i7(n,e){var t=ps();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Rx(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function s7(n,e,t){return ac&21?(Fs(t,e)||(t=l6(),Dn.lanes|=t,lc|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,mi=!0),n.memoizedState=t)}function _B(n,e){var t=ln;ln=t!==0&&4>t?t:4,n(!0);var r=pv.transition;pv.transition={};try{n(!1),e()}finally{ln=t,pv.transition=r}}function o7(){return ps().memoizedState}function xB(n,e,t){var r=Ua(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},a7(n))l7(e,t);else if(t=k6(n,e,t,r),t!==null){var i=ni();Bs(t,n,r,i),c7(t,e,r)}}function EB(n,e,t){var r=Ua(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(a7(n))l7(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Fs(a,o)){var l=e.interleaved;l===null?(i.next=i,Sx(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=k6(n,e,i,r),t!==null&&(i=ni(),Bs(t,n,r,i),c7(t,e,r))}}function a7(n){var e=n.alternate;return n===Dn||e!==null&&e===Dn}function l7(n,e){Gd=gm=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function c7(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,ux(n,t)}}var vm={readContext:hs,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},AB={readContext:hs,useCallback:function(n,e){return qs().memoizedState=[n,e===void 0?null:e],n},useContext:hs,useEffect:HA,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,F0(4194308,4,t7.bind(null,e,n),t)},useLayoutEffect:function(n,e){return F0(4194308,4,n,e)},useInsertionEffect:function(n,e){return F0(4,2,n,e)},useMemo:function(n,e){var t=qs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=qs();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=xB.bind(null,Dn,n),[r.memoizedState,n]},useRef:function(n){var e=qs();return n={current:n},e.memoizedState=n},useState:zA,useDebugValue:Bx,useDeferredValue:function(n){return qs().memoizedState=n},useTransition:function(){var n=zA(!1),e=n[0];return n=_B.bind(null,n[1]),qs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Dn,i=qs();if(Mn){if(t===void 0)throw Error(Ve(407));t=t()}else{if(t=e(),mr===null)throw Error(Ve(349));ac&30||X6(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,HA(Y6.bind(null,r,s,n),[n]),r.flags|=2048,vh(9,J6.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=qs(),e=mr.identifierPrefix;if(Mn){var t=Do,r=Bo;t=(r&~(1<<32-Ls(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=mh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=yB++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},wB={readContext:hs,useCallback:r7,useContext:hs,useEffect:Lx,useImperativeHandle:n7,useInsertionEffect:q6,useLayoutEffect:e7,useMemo:i7,useReducer:mv,useRef:Q6,useState:function(){return mv(gh)},useDebugValue:Bx,useDeferredValue:function(n){var e=ps();return s7(e,tr.memoizedState,n)},useTransition:function(){var n=mv(gh)[0],e=ps().memoizedState;return[n,e]},useMutableSource:j6,useSyncExternalStore:$6,useId:o7,unstable_isNewReconciler:!1},SB={readContext:hs,useCallback:r7,useContext:hs,useEffect:Lx,useImperativeHandle:n7,useInsertionEffect:q6,useLayoutEffect:e7,useMemo:i7,useReducer:gv,useRef:Q6,useState:function(){return gv(gh)},useDebugValue:Bx,useDeferredValue:function(n){var e=ps();return tr===null?e.memoizedState=n:s7(e,tr.memoizedState,n)},useTransition:function(){var n=gv(gh)[0],e=ps().memoizedState;return[n,e]},useMutableSource:j6,useSyncExternalStore:$6,useId:o7,unstable_isNewReconciler:!1};function Ju(n,e){try{var t="",r=e;do t+=QI(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function vv(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function p3(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var MB=typeof WeakMap=="function"?WeakMap:Map;function u7(n,e,t){t=Oo(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){_m||(_m=!0,S3=r),p3(n,e)},t}function f7(n,e,t){t=Oo(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){p3(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){p3(n,e),typeof r!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function GA(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new MB;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=UB.bind(null,n,e,t),e.then(n,n))}function VA(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function WA(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Oo(-1,1),e.tag=2,Oa(t,e,1))),t.lanes|=1),n)}var CB=Ko.ReactCurrentOwner,mi=!1;function Zr(n,e,t,r){e.child=n===null?V6(e,null,t,r):$u(e,n.child,t,r)}function jA(n,e,t,r,i){t=t.render;var s=e.ref;return Nu(e,i),r=Px(n,e,t,r,s,i),t=Ix(),n!==null&&!mi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Wo(n,e,i)):(Mn&&t&&yx(e),e.flags|=1,Zr(n,e,r,i),e.child)}function $A(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!Hx(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,d7(n,e,s,r,i)):(n=z0(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:ch,t(o,r)&&n.ref===e.ref)return Wo(n,e,i)}return e.flags|=1,n=za(s,r),n.ref=e.ref,n.return=e,e.child=n}function d7(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(ch(s,r)&&n.ref===e.ref)if(mi=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(mi=!0);else return e.lanes=n.lanes,Wo(n,e,i)}return m3(n,e,t,r,i)}function h7(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},vn(wu,Ri),Ri|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,vn(wu,Ri),Ri|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,vn(wu,Ri),Ri|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,vn(wu,Ri),Ri|=r;return Zr(n,e,i,t),e.child}function p7(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function m3(n,e,t,r,i){var s=yi(t)?sc:Hr.current;return s=Wu(e,s),Nu(e,i),t=Px(n,e,t,r,s,i),r=Ix(),n!==null&&!mi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Wo(n,e,i)):(Mn&&r&&yx(e),e.flags|=1,Zr(n,e,t,i),e.child)}function XA(n,e,t,r,i){if(yi(t)){var s=!0;cm(e)}else s=!1;if(Nu(e,i),e.stateNode===null)O0(n,e),H6(e,t,r),h3(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=hs(c):(c=yi(t)?sc:Hr.current,c=Wu(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&kA(e,o,r,c),wa=!1;var p=e.memoizedState;o.state=p,pm(e,r,o,i),l=e.memoizedState,a!==r||p!==l||vi.current||wa?(typeof u=="function"&&(d3(e,t,u,r),l=e.memoizedState),(a=wa||OA(e,t,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,U6(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:bs(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=hs(l):(l=yi(t)?sc:Hr.current,l=Wu(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&kA(e,o,r,l),wa=!1,p=e.memoizedState,o.state=p,pm(e,r,o,i);var v=e.memoizedState;a!==h||p!==v||vi.current||wa?(typeof m=="function"&&(d3(e,t,m,r),v=e.memoizedState),(c=wa||OA(e,t,c,r,p,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return g3(n,e,t,r,s,i)}function g3(n,e,t,r,i,s){p7(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&LA(e,t,!1),Wo(n,e,s);r=e.stateNode,CB.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=$u(e,n.child,null,s),e.child=$u(e,null,a,s)):Zr(n,e,a,s),e.memoizedState=r.state,i&&LA(e,t,!0),e.child}function m7(n){var e=n.stateNode;e.pendingContext?IA(n,e.pendingContext,e.pendingContext!==e.context):e.context&&IA(n,e.context,!1),Cx(n,e.containerInfo)}function JA(n,e,t,r,i){return ju(),xx(i),e.flags|=256,Zr(n,e,t,r),e.child}var v3={dehydrated:null,treeContext:null,retryLane:0};function y3(n){return{baseLanes:n,cachePool:null,transitions:null}}function g7(n,e,t){var r=e.pendingProps,i=In.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),vn(In,i&1),n===null)return u3(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ig(o,r,0,null),n=Zl(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=y3(t),e.memoizedState=v3,n):Dx(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return bB(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=za(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=za(a,s):(s=Zl(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?y3(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=v3,r}return s=n.child,n=s.sibling,r=za(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function Dx(n,e){return e=ig({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function E1(n,e,t,r){return r!==null&&xx(r),$u(e,n.child,null,t),n=Dx(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function bB(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=vv(Error(Ve(422))),E1(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ig({mode:"visible",children:r.children},i,0,null),s=Zl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&$u(e,n.child,null,o),e.child.memoizedState=y3(o),e.memoizedState=v3,s);if(!(e.mode&1))return E1(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ve(419)),r=vv(s,r,void 0),E1(n,e,o,r)}if(a=(o&n.childLanes)!==0,mi||a){if(r=mr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vo(n,i),Bs(r,n,i,-1))}return zx(),r=vv(Error(Ve(421))),E1(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=zB.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Bi=Fa(i.nextSibling),Fi=e,Mn=!0,Ps=null,n!==null&&(is[ss++]=Bo,is[ss++]=Do,is[ss++]=oc,Bo=n.id,Do=n.overflow,oc=e),e=Dx(e,r.children),e.flags|=4096,e)}function YA(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),f3(n.return,e,t)}function yv(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function v7(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Zr(n,e,r.children,t),r=In.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&YA(n,t,e);else if(n.tag===19)YA(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(vn(In,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&mm(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),yv(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&mm(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}yv(e,!0,t,null,s);break;case"together":yv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function O0(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Wo(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),lc|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ve(153));if(e.child!==null){for(n=e.child,t=za(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=za(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function TB(n,e,t){switch(e.tag){case 3:m7(e),ju();break;case 5:W6(e);break;case 1:yi(e.type)&&cm(e);break;case 4:Cx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;vn(dm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(vn(In,In.current&1),e.flags|=128,null):t&e.child.childLanes?g7(n,e,t):(vn(In,In.current&1),n=Wo(n,e,t),n!==null?n.sibling:null);vn(In,In.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return v7(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),vn(In,In.current),r)break;return null;case 22:case 23:return e.lanes=0,h7(n,e,t)}return Wo(n,e,t)}var y7,_3,_7,x7;y7=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};_3=function(){};_7=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Gl(io.current);var s=null;switch(t){case"input":i=Hy(n,i),r=Hy(n,r),s=[];break;case"select":i=Nn({},i,{value:void 0}),r=Nn({},r,{value:void 0}),s=[];break;case"textarea":i=Wy(n,i),r=Wy(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=am)}$y(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(nh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(nh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_n("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};x7=function(n,e,t,r){t!==r&&(e.flags|=4)};function rd(n,e){if(!Mn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Pr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function RB(n,e,t){var r=e.pendingProps;switch(_x(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(e),null;case 1:return yi(e.type)&&lm(),Pr(e),null;case 3:return r=e.stateNode,Xu(),An(vi),An(Hr),Tx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(_1(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ps!==null&&(b3(Ps),Ps=null))),_3(n,e),Pr(e),null;case 5:bx(e);var i=Gl(ph.current);if(t=e.type,n!==null&&e.stateNode!=null)_7(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ve(166));return Pr(e),null}if(n=Gl(io.current),_1(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[eo]=e,r[dh]=s,n=(e.mode&1)!==0,t){case"dialog":_n("cancel",r),_n("close",r);break;case"iframe":case"object":case"embed":_n("load",r);break;case"video":case"audio":for(i=0;i<Dd.length;i++)_n(Dd[i],r);break;case"source":_n("error",r);break;case"img":case"image":case"link":_n("error",r),_n("load",r);break;case"details":_n("toggle",r);break;case"input":iA(r,s),_n("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},_n("invalid",r);break;case"textarea":oA(r,s),_n("invalid",r)}$y(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&y1(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&y1(r.textContent,a,n),i=["children",""+a]):nh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_n("scroll",r)}switch(t){case"input":u1(r),sA(r,s,!0);break;case"textarea":u1(r),aA(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=am)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=XC(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[eo]=e,n[dh]=r,y7(n,e,!1,!1),e.stateNode=n;e:{switch(o=Xy(t,r),t){case"dialog":_n("cancel",n),_n("close",n),i=r;break;case"iframe":case"object":case"embed":_n("load",n),i=r;break;case"video":case"audio":for(i=0;i<Dd.length;i++)_n(Dd[i],n);i=r;break;case"source":_n("error",n),i=r;break;case"img":case"image":case"link":_n("error",n),_n("load",n),i=r;break;case"details":_n("toggle",n),i=r;break;case"input":iA(n,r),i=Hy(n,r),_n("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Nn({},r,{value:void 0}),_n("invalid",n);break;case"textarea":oA(n,r),i=Wy(n,r),_n("invalid",n);break;default:i=r}$y(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?KC(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&JC(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&rh(n,l):typeof l=="number"&&rh(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(nh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&_n("scroll",n):l!=null&&ix(n,s,l,o))}switch(t){case"input":u1(n),sA(n,r,!1);break;case"textarea":u1(n),aA(n);break;case"option":r.value!=null&&n.setAttribute("value",""+$a(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Iu(n,!!r.multiple,s,!1):r.defaultValue!=null&&Iu(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=am)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pr(e),null;case 6:if(n&&e.stateNode!=null)x7(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ve(166));if(t=Gl(ph.current),Gl(io.current),_1(e)){if(r=e.stateNode,t=e.memoizedProps,r[eo]=e,(s=r.nodeValue!==t)&&(n=Fi,n!==null))switch(n.tag){case 3:y1(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&y1(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[eo]=e,e.stateNode=r}return Pr(e),null;case 13:if(An(In),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Mn&&Bi!==null&&e.mode&1&&!(e.flags&128))O6(),ju(),e.flags|=98560,s=!1;else if(s=_1(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Ve(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ve(317));s[eo]=e}else ju(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pr(e),s=!1}else Ps!==null&&(b3(Ps),Ps=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||In.current&1?ir===0&&(ir=3):zx())),e.updateQueue!==null&&(e.flags|=4),Pr(e),null);case 4:return Xu(),_3(n,e),n===null&&uh(e.stateNode.containerInfo),Pr(e),null;case 10:return wx(e.type._context),Pr(e),null;case 17:return yi(e.type)&&lm(),Pr(e),null;case 19:if(An(In),s=e.memoizedState,s===null)return Pr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)rd(s,!1);else{if(ir!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=mm(n),o!==null){for(e.flags|=128,rd(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return vn(In,In.current&1|2),e.child}n=n.sibling}s.tail!==null&&jn()>Yu&&(e.flags|=128,r=!0,rd(s,!1),e.lanes=4194304)}else{if(!r)if(n=mm(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),rd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Mn)return Pr(e),null}else 2*jn()-s.renderingStartTime>Yu&&t!==1073741824&&(e.flags|=128,r=!0,rd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=jn(),e.sibling=null,t=In.current,vn(In,r?t&1|2:t&1),e):(Pr(e),null);case 22:case 23:return Ux(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ri&1073741824&&(Pr(e),e.subtreeFlags&6&&(e.flags|=8192)):Pr(e),null;case 24:return null;case 25:return null}throw Error(Ve(156,e.tag))}function PB(n,e){switch(_x(e),e.tag){case 1:return yi(e.type)&&lm(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Xu(),An(vi),An(Hr),Tx(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return bx(e),null;case 13:if(An(In),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ve(340));ju()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return An(In),null;case 4:return Xu(),null;case 10:return wx(e.type._context),null;case 22:case 23:return Ux(),null;case 24:return null;default:return null}}var A1=!1,Dr=!1,IB=typeof WeakSet=="function"?WeakSet:Set,it=null;function Au(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){zn(n,e,r)}else t.current=null}function x3(n,e,t){try{t()}catch(r){zn(n,e,r)}}var KA=!1;function LB(n,e){if(r3=im,n=S6(),vx(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=n,p=null;t:for(;;){for(var m;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(i3={focusedElem:n,selectionRange:t},im=!1,it=e;it!==null;)if(e=it,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,it=n;else for(;it!==null;){e=it;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,y=v.memoizedState,g=e.stateNode,A=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:bs(e.type,x),y);g.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(M){zn(e,e.return,M)}if(n=e.sibling,n!==null){n.return=e.return,it=n;break}it=e.return}return v=KA,KA=!1,v}function Vd(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&x3(e,t,s)}i=i.next}while(i!==r)}}function ng(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function E3(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function E7(n){var e=n.alternate;e!==null&&(n.alternate=null,E7(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[eo],delete e[dh],delete e[a3],delete e[pB],delete e[mB])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function A7(n){return n.tag===5||n.tag===3||n.tag===4}function ZA(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||A7(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function A3(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=am));else if(r!==4&&(n=n.child,n!==null))for(A3(n,e,t),n=n.sibling;n!==null;)A3(n,e,t),n=n.sibling}function w3(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(w3(n,e,t),n=n.sibling;n!==null;)w3(n,e,t),n=n.sibling}var yr=null,Rs=!1;function ca(n,e,t){for(t=t.child;t!==null;)w7(n,e,t),t=t.sibling}function w7(n,e,t){if(ro&&typeof ro.onCommitFiberUnmount=="function")try{ro.onCommitFiberUnmount(Jm,t)}catch{}switch(t.tag){case 5:Dr||Au(t,e);case 6:var r=yr,i=Rs;yr=null,ca(n,e,t),yr=r,Rs=i,yr!==null&&(Rs?(n=yr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):yr.removeChild(t.stateNode));break;case 18:yr!==null&&(Rs?(n=yr,t=t.stateNode,n.nodeType===8?fv(n.parentNode,t):n.nodeType===1&&fv(n,t),ah(n)):fv(yr,t.stateNode));break;case 4:r=yr,i=Rs,yr=t.stateNode.containerInfo,Rs=!0,ca(n,e,t),yr=r,Rs=i;break;case 0:case 11:case 14:case 15:if(!Dr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&x3(t,e,o),i=i.next}while(i!==r)}ca(n,e,t);break;case 1:if(!Dr&&(Au(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){zn(t,e,a)}ca(n,e,t);break;case 21:ca(n,e,t);break;case 22:t.mode&1?(Dr=(r=Dr)||t.memoizedState!==null,ca(n,e,t),Dr=r):ca(n,e,t);break;default:ca(n,e,t)}}function QA(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new IB),e.forEach(function(r){var i=HB.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Es(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yr=a.stateNode,Rs=!1;break e;case 3:yr=a.stateNode.containerInfo,Rs=!0;break e;case 4:yr=a.stateNode.containerInfo,Rs=!0;break e}a=a.return}if(yr===null)throw Error(Ve(160));w7(s,o,i),yr=null,Rs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){zn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)S7(e,n),e=e.sibling}function S7(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Es(e,n),Zs(n),r&4){try{Vd(3,n,n.return),ng(3,n)}catch(x){zn(n,n.return,x)}try{Vd(5,n,n.return)}catch(x){zn(n,n.return,x)}}break;case 1:Es(e,n),Zs(n),r&512&&t!==null&&Au(t,t.return);break;case 5:if(Es(e,n),Zs(n),r&512&&t!==null&&Au(t,t.return),n.flags&32){var i=n.stateNode;try{rh(i,"")}catch(x){zn(n,n.return,x)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&jC(i,s),Xy(a,o);var c=Xy(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?KC(i,h):u==="dangerouslySetInnerHTML"?JC(i,h):u==="children"?rh(i,h):ix(i,u,h,c)}switch(a){case"input":Gy(i,s);break;case"textarea":$C(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Iu(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Iu(i,!!s.multiple,s.defaultValue,!0):Iu(i,!!s.multiple,s.multiple?[]:"",!1))}i[dh]=s}catch(x){zn(n,n.return,x)}}break;case 6:if(Es(e,n),Zs(n),r&4){if(n.stateNode===null)throw Error(Ve(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(x){zn(n,n.return,x)}}break;case 3:if(Es(e,n),Zs(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{ah(e.containerInfo)}catch(x){zn(n,n.return,x)}break;case 4:Es(e,n),Zs(n);break;case 13:Es(e,n),Zs(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ox=jn())),r&4&&QA(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Dr=(c=Dr)||u,Es(e,n),Dr=c):Es(e,n),Zs(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(it=n,u=n.child;u!==null;){for(h=it=u;it!==null;){switch(p=it,m=p.child,p.tag){case 0:case 11:case 14:case 15:Vd(4,p,p.return);break;case 1:Au(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){zn(r,t,x)}}break;case 5:Au(p,p.return);break;case 22:if(p.memoizedState!==null){ew(h);continue}}m!==null?(m.return=p,it=m):ew(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=YC("display",o))}catch(x){zn(n,n.return,x)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){zn(n,n.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Es(e,n),Zs(n),r&4&&QA(n);break;case 21:break;default:Es(e,n),Zs(n)}}function Zs(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(A7(t)){var r=t;break e}t=t.return}throw Error(Ve(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(rh(i,""),r.flags&=-33);var s=ZA(n);w3(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ZA(n);A3(n,a,o);break;default:throw Error(Ve(161))}}catch(l){zn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function BB(n,e,t){it=n,M7(n)}function M7(n,e,t){for(var r=(n.mode&1)!==0;it!==null;){var i=it,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||A1;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Dr;a=A1;var c=Dr;if(A1=o,(Dr=l)&&!c)for(it=i;it!==null;)o=it,l=o.child,o.tag===22&&o.memoizedState!==null?tw(i):l!==null?(l.return=o,it=l):tw(i);for(;s!==null;)it=s,M7(s),s=s.sibling;it=i,A1=a,Dr=c}qA(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,it=s):qA(n)}}function qA(n){for(;it!==null;){var e=it;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dr||ng(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:bs(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&FA(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}FA(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&ah(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ve(163))}Dr||e.flags&512&&E3(e)}catch(p){zn(e,e.return,p)}}if(e===n){it=null;break}if(t=e.sibling,t!==null){t.return=e.return,it=t;break}it=e.return}}function ew(n){for(;it!==null;){var e=it;if(e===n){it=null;break}var t=e.sibling;if(t!==null){t.return=e.return,it=t;break}it=e.return}}function tw(n){for(;it!==null;){var e=it;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{ng(4,e)}catch(l){zn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){zn(e,i,l)}}var s=e.return;try{E3(e)}catch(l){zn(e,s,l)}break;case 5:var o=e.return;try{E3(e)}catch(l){zn(e,o,l)}}}catch(l){zn(e,e.return,l)}if(e===n){it=null;break}var a=e.sibling;if(a!==null){a.return=e.return,it=a;break}it=e.return}}var DB=Math.ceil,ym=Ko.ReactCurrentDispatcher,Nx=Ko.ReactCurrentOwner,ds=Ko.ReactCurrentBatchConfig,qt=0,mr=null,Zn=null,xr=0,Ri=0,wu=sl(0),ir=0,yh=null,lc=0,rg=0,Fx=0,Wd=null,hi=null,Ox=0,Yu=1/0,To=null,_m=!1,S3=null,ka=null,w1=!1,Ia=null,xm=0,jd=0,M3=null,k0=-1,U0=0;function ni(){return qt&6?jn():k0!==-1?k0:k0=jn()}function Ua(n){return n.mode&1?qt&2&&xr!==0?xr&-xr:vB.transition!==null?(U0===0&&(U0=l6()),U0):(n=ln,n!==0||(n=window.event,n=n===void 0?16:m6(n.type)),n):1}function Bs(n,e,t,r){if(50<jd)throw jd=0,M3=null,Error(Ve(185));Hh(n,t,r),(!(qt&2)||n!==mr)&&(n===mr&&(!(qt&2)&&(rg|=t),ir===4&&ba(n,xr)),_i(n,r),t===1&&qt===0&&!(e.mode&1)&&(Yu=jn()+500,qm&&ol()))}function _i(n,e){var t=n.callbackNode;vL(n,e);var r=rm(n,n===mr?xr:0);if(r===0)t!==null&&uA(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&uA(t),e===1)n.tag===0?gB(nw.bind(null,n)):D6(nw.bind(null,n)),dB(function(){!(qt&6)&&ol()}),t=null;else{switch(c6(r)){case 1:t=cx;break;case 4:t=o6;break;case 16:t=nm;break;case 536870912:t=a6;break;default:t=nm}t=B7(t,C7.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function C7(n,e){if(k0=-1,U0=0,qt&6)throw Error(Ve(327));var t=n.callbackNode;if(Fu()&&n.callbackNode!==t)return null;var r=rm(n,n===mr?xr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Em(n,r);else{e=r;var i=qt;qt|=2;var s=T7();(mr!==n||xr!==e)&&(To=null,Yu=jn()+500,Kl(n,e));do try{OB();break}catch(a){b7(n,a)}while(!0);Ax(),ym.current=s,qt=i,Zn!==null?e=0:(mr=null,xr=0,e=ir)}if(e!==0){if(e===2&&(i=Qy(n),i!==0&&(r=i,e=C3(n,i))),e===1)throw t=yh,Kl(n,0),ba(n,r),_i(n,jn()),t;if(e===6)ba(n,r);else{if(i=n.current.alternate,!(r&30)&&!NB(i)&&(e=Em(n,r),e===2&&(s=Qy(n),s!==0&&(r=s,e=C3(n,s))),e===1))throw t=yh,Kl(n,0),ba(n,r),_i(n,jn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ve(345));case 2:Nl(n,hi,To);break;case 3:if(ba(n,r),(r&130023424)===r&&(e=Ox+500-jn(),10<e)){if(rm(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){ni(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=o3(Nl.bind(null,n,hi,To),e);break}Nl(n,hi,To);break;case 4:if(ba(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Ls(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=jn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DB(r/1960))-r,10<r){n.timeoutHandle=o3(Nl.bind(null,n,hi,To),r);break}Nl(n,hi,To);break;case 5:Nl(n,hi,To);break;default:throw Error(Ve(329))}}}return _i(n,jn()),n.callbackNode===t?C7.bind(null,n):null}function C3(n,e){var t=Wd;return n.current.memoizedState.isDehydrated&&(Kl(n,e).flags|=256),n=Em(n,e),n!==2&&(e=hi,hi=t,e!==null&&b3(e)),n}function b3(n){hi===null?hi=n:hi.push.apply(hi,n)}function NB(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Fs(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ba(n,e){for(e&=~Fx,e&=~rg,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Ls(e),r=1<<t;n[t]=-1,e&=~r}}function nw(n){if(qt&6)throw Error(Ve(327));Fu();var e=rm(n,0);if(!(e&1))return _i(n,jn()),null;var t=Em(n,e);if(n.tag!==0&&t===2){var r=Qy(n);r!==0&&(e=r,t=C3(n,r))}if(t===1)throw t=yh,Kl(n,0),ba(n,e),_i(n,jn()),t;if(t===6)throw Error(Ve(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Nl(n,hi,To),_i(n,jn()),null}function kx(n,e){var t=qt;qt|=1;try{return n(e)}finally{qt=t,qt===0&&(Yu=jn()+500,qm&&ol())}}function cc(n){Ia!==null&&Ia.tag===0&&!(qt&6)&&Fu();var e=qt;qt|=1;var t=ds.transition,r=ln;try{if(ds.transition=null,ln=1,n)return n()}finally{ln=r,ds.transition=t,qt=e,!(qt&6)&&ol()}}function Ux(){Ri=wu.current,An(wu)}function Kl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,fB(t)),Zn!==null)for(t=Zn.return;t!==null;){var r=t;switch(_x(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lm();break;case 3:Xu(),An(vi),An(Hr),Tx();break;case 5:bx(r);break;case 4:Xu();break;case 13:An(In);break;case 19:An(In);break;case 10:wx(r.type._context);break;case 22:case 23:Ux()}t=t.return}if(mr=n,Zn=n=za(n.current,null),xr=Ri=e,ir=0,yh=null,Fx=rg=lc=0,hi=Wd=null,Hl!==null){for(e=0;e<Hl.length;e++)if(t=Hl[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Hl=null}return n}function b7(n,e){do{var t=Zn;try{if(Ax(),N0.current=vm,gm){for(var r=Dn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}gm=!1}if(ac=0,hr=tr=Dn=null,Gd=!1,mh=0,Nx.current=null,t===null||t.return===null){ir=1,yh=e,Zn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=xr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=VA(o);if(m!==null){m.flags&=-257,WA(m,o,a,s,e),m.mode&1&&GA(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var x=new Set;x.add(l),e.updateQueue=x}else v.add(l);break e}else{if(!(e&1)){GA(s,c,e),zx();break e}l=Error(Ve(426))}}else if(Mn&&a.mode&1){var y=VA(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),WA(y,o,a,s,e),xx(Ju(l,a));break e}}s=l=Ju(l,a),ir!==4&&(ir=2),Wd===null?Wd=[s]:Wd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=u7(s,l,e);NA(s,g);break e;case 1:a=l;var A=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ka===null||!ka.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=f7(s,a,e);NA(s,M);break e}}s=s.return}while(s!==null)}P7(t)}catch(R){e=R,Zn===t&&t!==null&&(Zn=t=t.return);continue}break}while(!0)}function T7(){var n=ym.current;return ym.current=vm,n===null?vm:n}function zx(){(ir===0||ir===3||ir===2)&&(ir=4),mr===null||!(lc&268435455)&&!(rg&268435455)||ba(mr,xr)}function Em(n,e){var t=qt;qt|=2;var r=T7();(mr!==n||xr!==e)&&(To=null,Kl(n,e));do try{FB();break}catch(i){b7(n,i)}while(!0);if(Ax(),qt=t,ym.current=r,Zn!==null)throw Error(Ve(261));return mr=null,xr=0,ir}function FB(){for(;Zn!==null;)R7(Zn)}function OB(){for(;Zn!==null&&!lL();)R7(Zn)}function R7(n){var e=L7(n.alternate,n,Ri);n.memoizedProps=n.pendingProps,e===null?P7(n):Zn=e,Nx.current=null}function P7(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=PB(t,e),t!==null){t.flags&=32767,Zn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ir=6,Zn=null;return}}else if(t=RB(t,e,Ri),t!==null){Zn=t;return}if(e=e.sibling,e!==null){Zn=e;return}Zn=e=n}while(e!==null);ir===0&&(ir=5)}function Nl(n,e,t){var r=ln,i=ds.transition;try{ds.transition=null,ln=1,kB(n,e,t,r)}finally{ds.transition=i,ln=r}return null}function kB(n,e,t,r){do Fu();while(Ia!==null);if(qt&6)throw Error(Ve(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ve(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(yL(n,s),n===mr&&(Zn=mr=null,xr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||w1||(w1=!0,B7(nm,function(){return Fu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=ds.transition,ds.transition=null;var o=ln;ln=1;var a=qt;qt|=4,Nx.current=null,LB(n,t),S7(t,n),iB(i3),im=!!r3,i3=r3=null,n.current=t,BB(t),cL(),qt=a,ln=o,ds.transition=s}else n.current=t;if(w1&&(w1=!1,Ia=n,xm=i),s=n.pendingLanes,s===0&&(ka=null),dL(t.stateNode),_i(n,jn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(_m)throw _m=!1,n=S3,S3=null,n;return xm&1&&n.tag!==0&&Fu(),s=n.pendingLanes,s&1?n===M3?jd++:(jd=0,M3=n):jd=0,ol(),null}function Fu(){if(Ia!==null){var n=c6(xm),e=ds.transition,t=ln;try{if(ds.transition=null,ln=16>n?16:n,Ia===null)var r=!1;else{if(n=Ia,Ia=null,xm=0,qt&6)throw Error(Ve(331));var i=qt;for(qt|=4,it=n.current;it!==null;){var s=it,o=s.child;if(it.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(it=c;it!==null;){var u=it;switch(u.tag){case 0:case 11:case 15:Vd(8,u,s)}var h=u.child;if(h!==null)h.return=u,it=h;else for(;it!==null;){u=it;var p=u.sibling,m=u.return;if(E7(u),u===c){it=null;break}if(p!==null){p.return=m,it=p;break}it=m}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}it=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,it=o;else e:for(;it!==null;){if(s=it,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Vd(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,it=g;break e}it=s.return}}var A=n.current;for(it=A;it!==null;){o=it;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,it=_;else e:for(o=A;it!==null;){if(a=it,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ng(9,a)}}catch(R){zn(a,a.return,R)}if(a===o){it=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,it=M;break e}it=a.return}}if(qt=i,ol(),ro&&typeof ro.onPostCommitFiberRoot=="function")try{ro.onPostCommitFiberRoot(Jm,n)}catch{}r=!0}return r}finally{ln=t,ds.transition=e}}return!1}function rw(n,e,t){e=Ju(t,e),e=u7(n,e,1),n=Oa(n,e,1),e=ni(),n!==null&&(Hh(n,1,e),_i(n,e))}function zn(n,e,t){if(n.tag===3)rw(n,n,t);else for(;e!==null;){if(e.tag===3){rw(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ka===null||!ka.has(r))){n=Ju(t,n),n=f7(e,n,1),e=Oa(e,n,1),n=ni(),e!==null&&(Hh(e,1,n),_i(e,n));break}}e=e.return}}function UB(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=ni(),n.pingedLanes|=n.suspendedLanes&t,mr===n&&(xr&t)===t&&(ir===4||ir===3&&(xr&130023424)===xr&&500>jn()-Ox?Kl(n,0):Fx|=t),_i(n,e)}function I7(n,e){e===0&&(n.mode&1?(e=h1,h1<<=1,!(h1&130023424)&&(h1=4194304)):e=1);var t=ni();n=Vo(n,e),n!==null&&(Hh(n,e,t),_i(n,t))}function zB(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),I7(n,t)}function HB(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ve(314))}r!==null&&r.delete(e),I7(n,t)}var L7;L7=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||vi.current)mi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return mi=!1,TB(n,e,t);mi=!!(n.flags&131072)}else mi=!1,Mn&&e.flags&1048576&&N6(e,fm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;O0(n,e),n=e.pendingProps;var i=Wu(e,Hr.current);Nu(e,t),i=Px(null,e,r,n,i,t);var s=Ix();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yi(r)?(s=!0,cm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mx(e),i.updater=eg,e.stateNode=i,i._reactInternals=e,h3(e,r,n,t),e=g3(null,e,r,!0,s,t)):(e.tag=0,Mn&&s&&yx(e),Zr(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(O0(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=VB(r),n=bs(r,n),i){case 0:e=m3(null,e,r,n,t);break e;case 1:e=XA(null,e,r,n,t);break e;case 11:e=jA(null,e,r,n,t);break e;case 14:e=$A(null,e,r,bs(r.type,n),t);break e}throw Error(Ve(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bs(r,i),m3(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bs(r,i),XA(n,e,r,i,t);case 3:e:{if(m7(e),n===null)throw Error(Ve(387));r=e.pendingProps,s=e.memoizedState,i=s.element,U6(n,e),pm(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ju(Error(Ve(423)),e),e=JA(n,e,r,t,i);break e}else if(r!==i){i=Ju(Error(Ve(424)),e),e=JA(n,e,r,t,i);break e}else for(Bi=Fa(e.stateNode.containerInfo.firstChild),Fi=e,Mn=!0,Ps=null,t=V6(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(ju(),r===i){e=Wo(n,e,t);break e}Zr(n,e,r,t)}e=e.child}return e;case 5:return W6(e),n===null&&u3(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,s3(r,i)?o=null:s!==null&&s3(r,s)&&(e.flags|=32),p7(n,e),Zr(n,e,o,t),e.child;case 6:return n===null&&u3(e),null;case 13:return g7(n,e,t);case 4:return Cx(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=$u(e,null,r,t):Zr(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bs(r,i),jA(n,e,r,i,t);case 7:return Zr(n,e,e.pendingProps,t),e.child;case 8:return Zr(n,e,e.pendingProps.children,t),e.child;case 12:return Zr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,vn(dm,r._currentValue),r._currentValue=o,s!==null)if(Fs(s.value,o)){if(s.children===i.children&&!vi.current){e=Wo(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Oo(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),f3(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ve(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),f3(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Zr(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Nu(e,t),i=hs(i),r=r(i),e.flags|=1,Zr(n,e,r,t),e.child;case 14:return r=e.type,i=bs(r,e.pendingProps),i=bs(r.type,i),$A(n,e,r,i,t);case 15:return d7(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bs(r,i),O0(n,e),e.tag=1,yi(r)?(n=!0,cm(e)):n=!1,Nu(e,t),H6(e,r,i),h3(e,r,i,t),g3(null,e,r,!0,n,t);case 19:return v7(n,e,t);case 22:return h7(n,e,t)}throw Error(Ve(156,e.tag))};function B7(n,e){return s6(n,e)}function GB(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ls(n,e,t,r){return new GB(n,e,t,r)}function Hx(n){return n=n.prototype,!(!n||!n.isReactComponent)}function VB(n){if(typeof n=="function")return Hx(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ox)return 11;if(n===ax)return 14}return 2}function za(n,e){var t=n.alternate;return t===null?(t=ls(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function z0(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")Hx(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case hu:return Zl(t.children,i,s,e);case sx:o=8,i|=8;break;case Oy:return n=ls(12,t,e,i|2),n.elementType=Oy,n.lanes=s,n;case ky:return n=ls(13,t,e,i),n.elementType=ky,n.lanes=s,n;case Uy:return n=ls(19,t,e,i),n.elementType=Uy,n.lanes=s,n;case GC:return ig(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case zC:o=10;break e;case HC:o=9;break e;case ox:o=11;break e;case ax:o=14;break e;case Aa:o=16,r=null;break e}throw Error(Ve(130,n==null?n:typeof n,""))}return e=ls(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Zl(n,e,t,r){return n=ls(7,n,r,e),n.lanes=t,n}function ig(n,e,t,r){return n=ls(22,n,r,e),n.elementType=GC,n.lanes=t,n.stateNode={isHidden:!1},n}function _v(n,e,t){return n=ls(6,n,null,e),n.lanes=t,n}function xv(n,e,t){return e=ls(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function WB(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ev(0),this.expirationTimes=ev(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ev(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gx(n,e,t,r,i,s,o,a,l){return n=new WB(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ls(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mx(s),n}function jB(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:du,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function D7(n){if(!n)return Xa;n=n._reactInternals;e:{if(gc(n)!==n||n.tag!==1)throw Error(Ve(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ve(171))}if(n.tag===1){var t=n.type;if(yi(t))return B6(n,t,e)}return e}function N7(n,e,t,r,i,s,o,a,l){return n=Gx(t,r,!0,n,i,s,o,a,l),n.context=D7(null),t=n.current,r=ni(),i=Ua(t),s=Oo(r,i),s.callback=e??null,Oa(t,s,i),n.current.lanes=i,Hh(n,i,r),_i(n,r),n}function sg(n,e,t,r){var i=e.current,s=ni(),o=Ua(i);return t=D7(t),e.context===null?e.context=t:e.pendingContext=t,e=Oo(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Oa(i,e,o),n!==null&&(Bs(n,i,o,s),D0(n,i,o)),o}function Am(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function iw(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Vx(n,e){iw(n,e),(n=n.alternate)&&iw(n,e)}function $B(){return null}var F7=typeof reportError=="function"?reportError:function(n){console.error(n)};function Wx(n){this._internalRoot=n}og.prototype.render=Wx.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ve(409));sg(n,e,null,null)};og.prototype.unmount=Wx.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;cc(function(){sg(null,n,null,null)}),e[Go]=null}};function og(n){this._internalRoot=n}og.prototype.unstable_scheduleHydration=function(n){if(n){var e=d6();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ca.length&&e!==0&&e<Ca[t].priority;t++);Ca.splice(t,0,n),t===0&&p6(n)}};function jx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ag(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function sw(){}function XB(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Am(o);s.call(c)}}var o=N7(e,r,n,0,null,!1,!1,"",sw);return n._reactRootContainer=o,n[Go]=o.current,uh(n.nodeType===8?n.parentNode:n),cc(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Am(l);a.call(c)}}var l=Gx(n,0,!1,null,null,!1,!1,"",sw);return n._reactRootContainer=l,n[Go]=l.current,uh(n.nodeType===8?n.parentNode:n),cc(function(){sg(e,l,t,r)}),l}function lg(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Am(o);a.call(l)}}sg(e,o,n,i)}else o=XB(t,e,n,i,r);return Am(o)}u6=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Bd(e.pendingLanes);t!==0&&(ux(e,t|1),_i(e,jn()),!(qt&6)&&(Yu=jn()+500,ol()))}break;case 13:cc(function(){var r=Vo(n,1);if(r!==null){var i=ni();Bs(r,n,1,i)}}),Vx(n,1)}};fx=function(n){if(n.tag===13){var e=Vo(n,134217728);if(e!==null){var t=ni();Bs(e,n,134217728,t)}Vx(n,134217728)}};f6=function(n){if(n.tag===13){var e=Ua(n),t=Vo(n,e);if(t!==null){var r=ni();Bs(t,n,e,r)}Vx(n,e)}};d6=function(){return ln};h6=function(n,e){var t=ln;try{return ln=n,e()}finally{ln=t}};Yy=function(n,e,t){switch(e){case"input":if(Gy(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Qm(r);if(!i)throw Error(Ve(90));WC(r),Gy(r,i)}}}break;case"textarea":$C(n,t);break;case"select":e=t.value,e!=null&&Iu(n,!!t.multiple,e,!1)}};qC=kx;e6=cc;var JB={usingClientEntryPoint:!1,Events:[Vh,vu,Qm,ZC,QC,kx]},id={findFiberByHostInstance:zl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},YB={bundleType:id.bundleType,version:id.version,rendererPackageName:id.rendererPackageName,rendererConfig:id.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ko.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=r6(n),n===null?null:n.stateNode},findFiberByHostInstance:id.findFiberByHostInstance||$B,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var S1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!S1.isDisabled&&S1.supportsFiber)try{Jm=S1.inject(YB),ro=S1}catch{}}zi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JB;zi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jx(e))throw Error(Ve(200));return jB(n,e,null,t)};zi.createRoot=function(n,e){if(!jx(n))throw Error(Ve(299));var t=!1,r="",i=F7;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Gx(n,1,!1,null,null,t,!1,r,i),n[Go]=e.current,uh(n.nodeType===8?n.parentNode:n),new Wx(e)};zi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ve(188)):(n=Object.keys(n).join(","),Error(Ve(268,n)));return n=r6(e),n=n===null?null:n.stateNode,n};zi.flushSync=function(n){return cc(n)};zi.hydrate=function(n,e,t){if(!ag(e))throw Error(Ve(200));return lg(null,n,e,!0,t)};zi.hydrateRoot=function(n,e,t){if(!jx(n))throw Error(Ve(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=F7;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=N7(e,null,n,1,t??null,i,!1,s,o),n[Go]=e.current,uh(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new og(e)};zi.render=function(n,e,t){if(!ag(e))throw Error(Ve(200));return lg(null,n,e,!1,t)};zi.unmountComponentAtNode=function(n){if(!ag(n))throw Error(Ve(40));return n._reactRootContainer?(cc(function(){lg(null,null,n,!1,function(){n._reactRootContainer=null,n[Go]=null})}),!0):!1};zi.unstable_batchedUpdates=kx;zi.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!ag(t))throw Error(Ve(200));if(n==null||n._reactInternals===void 0)throw Error(Ve(38));return lg(n,e,t,!1,r)};zi.version="18.2.0-next-9e3b772b8-20220608";function O7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(O7)}catch(n){console.error(n)}}O7(),NC.exports=zi;var jh=NC.exports;const k7=rl(jh);var $x,ow=jh;$x=Ny.createRoot=ow.createRoot,Ny.hydrateRoot=ow.hydrateRoot;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const pf="161",KB={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},ZB={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},U7=0,T3=1,z7=2,QB=3,H7=0,cg=1,$d=2,Ts=3,lo=0,ri=1,qr=2,ko=0,Uo=1,R3=2,P3=3,I3=4,G7=5,Ta=100,V7=101,W7=102,L3=103,B3=104,j7=200,$7=201,X7=202,J7=203,wm=204,Sm=205,Y7=206,K7=207,Z7=208,Q7=209,q7=210,e8=211,t8=212,n8=213,r8=214,i8=0,s8=1,o8=2,_h=3,a8=4,l8=5,c8=6,u8=7,$h=0,f8=1,d8=2,so=0,h8=1,p8=2,m8=3,Xx=4,g8=5,v8=6,D3="attached",y8="detached",ug=300,co=301,Ja=302,Ku=303,xh=304,mf=306,Ya=1e3,_r=1001,Zu=1002,jt=1003,Eh=1004,qB=1004,Ra=1005,N3=1005,Ct=1006,Ou=1007,eD=1007,cs=1008,tD=1008,oo=1009,_8=1010,x8=1011,fg=1012,Jx=1013,No=1014,rr=1015,kr=1016,Yx=1017,Kx=1018,Ha=1020,E8=1021,Fr=1023,A8=1024,w8=1025,Ga=1026,uc=1027,Zx=1028,Qx=1029,S8=1030,qx=1031,e4=1033,H0=33776,G0=33777,V0=33778,W0=33779,F3=35840,O3=35841,k3=35842,U3=35843,t4=36196,z3=37492,H3=37496,G3=37808,V3=37809,W3=37810,j3=37811,$3=37812,X3=37813,J3=37814,Y3=37815,K3=37816,Z3=37817,Q3=37818,q3=37819,e_=37820,t_=37821,j0=36492,n_=36494,r_=36495,M8=36283,i_=36284,s_=36285,o_=36286,C8=2200,b8=2201,T8=2202,Qu=2300,fc=2301,$0=2302,Vl=2400,Wl=2401,Ah=2402,dg=2500,n4=2501,R8=0,r4=1,Mm=2,i4=3e3,Va=3001,P8=3200,I8=3201,al=0,L8=1,Ii="",un="srgb",xi="srgb-linear",hg="display-p3",Xh="display-p3-linear",wh="linear",gn="srgb",Sh="rec709",Mh="p3",nD=0,Fl=7680,rD=7681,iD=7682,sD=7683,oD=34055,aD=34056,lD=5386,cD=512,uD=513,fD=514,dD=515,hD=516,pD=517,mD=518,a_=519,B8=512,D8=513,N8=514,s4=515,F8=516,O8=517,k8=518,U8=519,Ch=35044,X0=35048,gD=35040,vD=35045,yD=35049,_D=35041,xD=35046,ED=35050,AD=35042,wD="100",l_="300 es",Cm=1035,to=2e3,bh=2001;class Zo{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Ir=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let aw=1234567;const Ql=Math.PI/180,qu=180/Math.PI;function Oi(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ir[n&255]+Ir[n>>8&255]+Ir[n>>16&255]+Ir[n>>24&255]+"-"+Ir[e&255]+Ir[e>>8&255]+"-"+Ir[e>>16&15|64]+Ir[e>>24&255]+"-"+Ir[t&63|128]+Ir[t>>8&255]+"-"+Ir[t>>16&255]+Ir[t>>24&255]+Ir[r&255]+Ir[r>>8&255]+Ir[r>>16&255]+Ir[r>>24&255]).toLowerCase()}function Hn(n,e,t){return Math.max(e,Math.min(t,n))}function o4(n,e){return(n%e+e)%e}function SD(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function MD(n,e,t){return n!==e?(t-n)/(e-n):0}function Xd(n,e,t){return(1-t)*n+t*e}function CD(n,e,t,r){return Xd(n,e,1-Math.exp(-t*r))}function bD(n,e=1){return e-Math.abs(o4(n,e*2)-e)}function TD(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function RD(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function PD(n,e){return n+Math.floor(Math.random()*(e-n+1))}function ID(n,e){return n+Math.random()*(e-n)}function LD(n){return n*(.5-Math.random())}function BD(n){n!==void 0&&(aw=n);let e=aw+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function DD(n){return n*Ql}function ND(n){return n*qu}function c_(n){return(n&n-1)===0&&n!==0}function FD(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function bm(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function OD(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),u=o((e+r)/2),h=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":n.set(a*u,l*h,l*p,a*c);break;case"YZY":n.set(l*p,a*u,l*h,a*c);break;case"ZXZ":n.set(l*h,l*p,a*u,a*c);break;case"XZX":n.set(a*u,l*v,l*m,a*c);break;case"YXY":n.set(l*m,a*u,l*v,a*c);break;case"ZYZ":n.set(l*v,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ei(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Ot(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Jh={DEG2RAD:Ql,RAD2DEG:qu,generateUUID:Oi,clamp:Hn,euclideanModulo:o4,mapLinear:SD,inverseLerp:MD,lerp:Xd,damp:CD,pingpong:bD,smoothstep:TD,smootherstep:RD,randInt:PD,randFloat:ID,randFloatSpread:LD,seededRandom:BD,degToRad:DD,radToDeg:ND,isPowerOfTwo:c_,ceilPowerOfTwo:FD,floorPowerOfTwo:bm,setQuaternionFromProperEuler:OD,normalize:Ot,denormalize:ei};class Ce{constructor(e=0,t=0){Ce.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Hn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Tt{constructor(e,t,r,i,s,o,a,l,c){Tt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,c)}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],h=r[7],p=r[2],m=r[5],v=r[8],x=i[0],y=i[3],g=i[6],A=i[1],_=i[4],M=i[7],R=i[2],b=i[5],P=i[8];return s[0]=o*x+a*A+l*R,s[3]=o*y+a*_+l*b,s[6]=o*g+a*M+l*P,s[1]=c*x+u*A+h*R,s[4]=c*y+u*_+h*b,s[7]=c*g+u*M+h*P,s[2]=p*x+m*A+v*R,s[5]=p*y+m*_+v*b,s[8]=p*g+m*M+v*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=u*o-a*c,p=a*l-u*s,m=c*s-o*l,v=t*h+r*p+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/v;return e[0]=h*x,e[1]=(i*c-u*r)*x,e[2]=(a*r-i*o)*x,e[3]=p*x,e[4]=(u*t-i*l)*x,e[5]=(i*s-a*t)*x,e[6]=m*x,e[7]=(r*l-c*t)*x,e[8]=(o*t-r*s)*x,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Ev.makeScale(e,t)),this}rotate(e){return this.premultiply(Ev.makeRotation(-e)),this}translate(e,t){return this.premultiply(Ev.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Ev=new Tt;function z8(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const kD={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Su(n,e){return new kD[n](e)}function Th(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function H8(){const n=Th("canvas");return n.style.display="block",n}const lw={};function ql(n){n in lw||(lw[n]=!0,console.warn(n))}const cw=new Tt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),uw=new Tt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),M1={[xi]:{transfer:wh,primaries:Sh,toReference:n=>n,fromReference:n=>n},[un]:{transfer:gn,primaries:Sh,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[Xh]:{transfer:wh,primaries:Mh,toReference:n=>n.applyMatrix3(uw),fromReference:n=>n.applyMatrix3(cw)},[hg]:{transfer:gn,primaries:Mh,toReference:n=>n.convertSRGBToLinear().applyMatrix3(uw),fromReference:n=>n.applyMatrix3(cw).convertLinearToSRGB()}},UD=new Set([xi,Xh]),an={enabled:!0,_workingColorSpace:xi,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!UD.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=M1[e].toReference,i=M1[t].fromReference;return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return M1[n].primaries},getTransfer:function(n){return n===Ii?wh:M1[n].transfer}};function ku(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Av(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Oc;class a4{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Oc===void 0&&(Oc=Th("canvas")),Oc.width=e.width,Oc.height=e.height;const r=Oc.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Oc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Th("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=ku(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(ku(t[r]/255)*255):t[r]=ku(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let zD=0;class jl{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:zD++}),this.uuid=Oi(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(wv(i[o].image)):s.push(wv(i[o]))}else s=wv(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function wv(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?a4.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let HD=0;class yn extends Zo{constructor(e=yn.DEFAULT_IMAGE,t=yn.DEFAULT_MAPPING,r=_r,i=_r,s=Ct,o=cs,a=Fr,l=oo,c=yn.DEFAULT_ANISOTROPY,u=Ii){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:HD++}),this.uuid=Oi(),this.name="",this.source=new jl(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ce(0,0),this.repeat=new Ce(1,1),this.center=new Ce(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Tt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(ql("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===Va?un:Ii),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ug)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ya:e.x=e.x-Math.floor(e.x);break;case _r:e.x=e.x<0?0:1;break;case Zu:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ya:e.y=e.y-Math.floor(e.y);break;case _r:e.y=e.y<0?0:1;break;case Zu:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return ql("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===un?Va:i4}set encoding(e){ql("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Va?un:Ii}}yn.DEFAULT_IMAGE=null;yn.DEFAULT_MAPPING=ug;yn.DEFAULT_ANISOTROPY=1;class Qt{constructor(e=0,t=0,r=0,i=1){Qt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],h=l[8],p=l[1],m=l[5],v=l[9],x=l[2],y=l[6],g=l[10];if(Math.abs(u-p)<.01&&Math.abs(h-x)<.01&&Math.abs(v-y)<.01){if(Math.abs(u+p)<.1&&Math.abs(h+x)<.1&&Math.abs(v+y)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const _=(c+1)/2,M=(m+1)/2,R=(g+1)/2,b=(u+p)/4,P=(h+x)/4,D=(v+y)/4;return _>M&&_>R?_<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(_),i=b/r,s=P/r):M>R?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=b/i,s=D/i):R<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(R),r=P/s,i=D/s),this.set(r,i,s,t),this}let A=Math.sqrt((y-v)*(y-v)+(h-x)*(h-x)+(p-u)*(p-u));return Math.abs(A)<.001&&(A=1),this.x=(y-v)/A,this.y=(h-x)/A,this.z=(p-u)/A,this.w=Math.acos((c+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class G8 extends Zo{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Qt(0,0,e,t),this.scissorTest=!1,this.viewport=new Qt(0,0,e,t);const i={width:e,height:t,depth:1};r.encoding!==void 0&&(ql("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Va?un:Ii),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ct,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new yn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new jl(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ms extends G8{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class pg extends yn{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=jt,this.minFilter=jt,this.wrapR=_r,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class GD extends ms{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new pg(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class l4 extends yn{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=jt,this.minFilter=jt,this.wrapR=_r,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class VD extends ms{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new l4(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class WD extends ms{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class $n{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],h=r[i+3];const p=s[o+0],m=s[o+1],v=s[o+2],x=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=x;return}if(h!==x||l!==p||c!==m||u!==v){let y=1-a;const g=l*p+c*m+u*v+h*x,A=g>=0?1:-1,_=1-g*g;if(_>Number.EPSILON){const R=Math.sqrt(_),b=Math.atan2(R,g*A);y=Math.sin(y*b)/R,a=Math.sin(a*b)/R}const M=a*A;if(l=l*y+p*M,c=c*y+m*M,u=u*y+v*M,h=h*y+x*M,y===1-a){const R=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=R,c*=R,u*=R,h*=R}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],h=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+u*h+l*m-c*p,e[t+1]=l*v+u*p+c*h-a*m,e[t+2]=c*v+u*m+a*p-l*h,e[t+3]=u*v-a*h-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),h=a(s/2),p=l(r/2),m=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=p*u*h+c*m*v,this._y=c*m*h-p*u*v,this._z=c*u*v+p*m*h,this._w=c*u*h-p*m*v;break;case"YXZ":this._x=p*u*h+c*m*v,this._y=c*m*h-p*u*v,this._z=c*u*v-p*m*h,this._w=c*u*h+p*m*v;break;case"ZXY":this._x=p*u*h-c*m*v,this._y=c*m*h+p*u*v,this._z=c*u*v+p*m*h,this._w=c*u*h-p*m*v;break;case"ZYX":this._x=p*u*h-c*m*v,this._y=c*m*h+p*u*v,this._z=c*u*v-p*m*h,this._w=c*u*h+p*m*v;break;case"YZX":this._x=p*u*h+c*m*v,this._y=c*m*h+p*u*v,this._z=c*u*v-p*m*h,this._w=c*u*h-p*m*v;break;case"XZY":this._x=p*u*h-c*m*v,this._y=c*m*h-p*u*v,this._z=c*u*v+p*m*h,this._w=c*u*h+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],h=t[10],p=r+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>h){const m=2*Math.sqrt(1+r-a-h);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>h){const m=2*Math.sqrt(1+a-r-h);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+h-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Hn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),h=Math.sin((1-t)*u)/c,p=Math.sin(t*u)/c;return this._w=o*h+this._w*p,this._x=r*h+this._x*p,this._y=i*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Z{constructor(e=0,t=0,r=0){Z.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(fw.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(fw.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),u=2*(a*t-s*i),h=2*(s*r-o*t);return this.x=t+l*c+o*h-a*u,this.y=r+l*u+a*c-s*h,this.z=i+l*h+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Sv.copy(this).projectOnVector(e),this.sub(Sv)}reflect(e){return this.sub(Sv.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Hn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Sv=new Z,fw=new $n;class zr{constructor(e=new Z(1/0,1/0,1/0),t=new Z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(As.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(As.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=As.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,As):As.fromBufferAttribute(s,o),As.applyMatrix4(e.matrixWorld),this.expandByPoint(As);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),C1.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),C1.copy(r.boundingBox)),C1.applyMatrix4(e.matrixWorld),this.union(C1)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,As),As.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(sd),b1.subVectors(this.max,sd),kc.subVectors(e.a,sd),Uc.subVectors(e.b,sd),zc.subVectors(e.c,sd),ua.subVectors(Uc,kc),fa.subVectors(zc,Uc),Al.subVectors(kc,zc);let t=[0,-ua.z,ua.y,0,-fa.z,fa.y,0,-Al.z,Al.y,ua.z,0,-ua.x,fa.z,0,-fa.x,Al.z,0,-Al.x,-ua.y,ua.x,0,-fa.y,fa.x,0,-Al.y,Al.x,0];return!Mv(t,kc,Uc,zc,b1)||(t=[1,0,0,0,1,0,0,0,1],!Mv(t,kc,Uc,zc,b1))?!1:(T1.crossVectors(ua,fa),t=[T1.x,T1.y,T1.z],Mv(t,kc,Uc,zc,b1))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,As).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(As).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(xo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),xo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),xo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),xo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),xo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),xo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),xo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),xo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(xo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const xo=[new Z,new Z,new Z,new Z,new Z,new Z,new Z,new Z],As=new Z,C1=new zr,kc=new Z,Uc=new Z,zc=new Z,ua=new Z,fa=new Z,Al=new Z,sd=new Z,b1=new Z,T1=new Z,wl=new Z;function Mv(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){wl.fromArray(n,s);const a=i.x*Math.abs(wl.x)+i.y*Math.abs(wl.y)+i.z*Math.abs(wl.z),l=e.dot(wl),c=t.dot(wl),u=r.dot(wl);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const jD=new zr,od=new Z,Cv=new Z;class Er{constructor(e=new Z,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):jD.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;od.subVectors(e,this.center);const t=od.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(od,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Cv.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(od.copy(e.center).add(Cv)),this.expandByPoint(od.copy(e.center).sub(Cv))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Eo=new Z,bv=new Z,R1=new Z,da=new Z,Tv=new Z,P1=new Z,Rv=new Z;class gf{constructor(e=new Z,t=new Z(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Eo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Eo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Eo.copy(this.origin).addScaledVector(this.direction,t),Eo.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){bv.copy(e).add(t).multiplyScalar(.5),R1.copy(t).sub(e).normalize(),da.copy(this.origin).sub(bv);const s=e.distanceTo(t)*.5,o=-this.direction.dot(R1),a=da.dot(this.direction),l=-da.dot(R1),c=da.lengthSq(),u=Math.abs(1-o*o);let h,p,m,v;if(u>0)if(h=o*l-a,p=o*a-l,v=s*u,h>=0)if(p>=-v)if(p<=v){const x=1/u;h*=x,p*=x,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+c}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p<=-v?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c):p<=v?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,h),i&&i.copy(bv).addScaledVector(R1,p),m}intersectSphere(e,t){Eo.subVectors(e.center,this.origin);const r=Eo.dot(this.direction),i=Eo.dot(Eo)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Eo)!==null}intersectTriangle(e,t,r,i,s){Tv.subVectors(t,e),P1.subVectors(r,e),Rv.crossVectors(Tv,P1);let o=this.direction.dot(Rv),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;da.subVectors(this.origin,e);const l=a*this.direction.dot(P1.crossVectors(da,P1));if(l<0)return null;const c=a*this.direction.dot(Tv.cross(da));if(c<0||l+c>o)return null;const u=-a*da.dot(Rv);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class yt{constructor(e,t,r,i,s,o,a,l,c,u,h,p,m,v,x,y){yt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,c,u,h,p,m,v,x,y)}set(e,t,r,i,s,o,a,l,c,u,h,p,m,v,x,y){const g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=i,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=h,g[14]=p,g[3]=m,g[7]=v,g[11]=x,g[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new yt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Hc.setFromMatrixColumn(e,0).length(),s=1/Hc.setFromMatrixColumn(e,1).length(),o=1/Hc.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*u,m=o*h,v=a*u,x=a*h;t[0]=l*u,t[4]=-l*h,t[8]=c,t[1]=m+v*c,t[5]=p-x*c,t[9]=-a*l,t[2]=x-p*c,t[6]=v+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*u,m=l*h,v=c*u,x=c*h;t[0]=p+x*a,t[4]=v*a-m,t[8]=o*c,t[1]=o*h,t[5]=o*u,t[9]=-a,t[2]=m*a-v,t[6]=x+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*u,m=l*h,v=c*u,x=c*h;t[0]=p-x*a,t[4]=-o*h,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*u,t[9]=x-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*u,m=o*h,v=a*u,x=a*h;t[0]=l*u,t[4]=v*c-m,t[8]=p*c+x,t[1]=l*h,t[5]=x*c+p,t[9]=m*c-v,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,v=a*l,x=a*c;t[0]=l*u,t[4]=x-p*h,t[8]=v*h+m,t[1]=h,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=m*h+v,t[10]=p-x*h}else if(e.order==="XZY"){const p=o*l,m=o*c,v=a*l,x=a*c;t[0]=l*u,t[4]=-h,t[8]=c*u,t[1]=p*h+x,t[5]=o*u,t[9]=m*h-v,t[2]=v*h-m,t[6]=a*u,t[10]=x*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose($D,e,XD)}lookAt(e,t,r){const i=this.elements;return Ci.subVectors(e,t),Ci.lengthSq()===0&&(Ci.z=1),Ci.normalize(),ha.crossVectors(r,Ci),ha.lengthSq()===0&&(Math.abs(r.z)===1?Ci.x+=1e-4:Ci.z+=1e-4,Ci.normalize(),ha.crossVectors(r,Ci)),ha.normalize(),I1.crossVectors(Ci,ha),i[0]=ha.x,i[4]=I1.x,i[8]=Ci.x,i[1]=ha.y,i[5]=I1.y,i[9]=Ci.y,i[2]=ha.z,i[6]=I1.z,i[10]=Ci.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],h=r[5],p=r[9],m=r[13],v=r[2],x=r[6],y=r[10],g=r[14],A=r[3],_=r[7],M=r[11],R=r[15],b=i[0],P=i[4],D=i[8],V=i[12],T=i[1],L=i[5],G=i[9],se=i[13],W=i[2],te=i[6],re=i[10],ue=i[14],F=i[3],Y=i[7],Q=i[11],fe=i[15];return s[0]=o*b+a*T+l*W+c*F,s[4]=o*P+a*L+l*te+c*Y,s[8]=o*D+a*G+l*re+c*Q,s[12]=o*V+a*se+l*ue+c*fe,s[1]=u*b+h*T+p*W+m*F,s[5]=u*P+h*L+p*te+m*Y,s[9]=u*D+h*G+p*re+m*Q,s[13]=u*V+h*se+p*ue+m*fe,s[2]=v*b+x*T+y*W+g*F,s[6]=v*P+x*L+y*te+g*Y,s[10]=v*D+x*G+y*re+g*Q,s[14]=v*V+x*se+y*ue+g*fe,s[3]=A*b+_*T+M*W+R*F,s[7]=A*P+_*L+M*te+R*Y,s[11]=A*D+_*G+M*re+R*Q,s[15]=A*V+_*se+M*ue+R*fe,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],h=e[6],p=e[10],m=e[14],v=e[3],x=e[7],y=e[11],g=e[15];return v*(+s*l*h-i*c*h-s*a*p+r*c*p+i*a*m-r*l*m)+x*(+t*l*m-t*c*p+s*o*p-i*o*m+i*c*u-s*l*u)+y*(+t*c*h-t*a*m-s*o*h+r*o*m+s*a*u-r*c*u)+g*(-i*a*u-t*l*h+t*a*p+i*o*h-r*o*p+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],p=e[10],m=e[11],v=e[12],x=e[13],y=e[14],g=e[15],A=h*y*c-x*p*c+x*l*m-a*y*m-h*l*g+a*p*g,_=v*p*c-u*y*c-v*l*m+o*y*m+u*l*g-o*p*g,M=u*x*c-v*h*c+v*a*m-o*x*m-u*a*g+o*h*g,R=v*h*l-u*x*l-v*a*p+o*x*p+u*a*y-o*h*y,b=t*A+r*_+i*M+s*R;if(b===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/b;return e[0]=A*P,e[1]=(x*p*s-h*y*s-x*i*m+r*y*m+h*i*g-r*p*g)*P,e[2]=(a*y*s-x*l*s+x*i*c-r*y*c-a*i*g+r*l*g)*P,e[3]=(h*l*s-a*p*s-h*i*c+r*p*c+a*i*m-r*l*m)*P,e[4]=_*P,e[5]=(u*y*s-v*p*s+v*i*m-t*y*m-u*i*g+t*p*g)*P,e[6]=(v*l*s-o*y*s-v*i*c+t*y*c+o*i*g-t*l*g)*P,e[7]=(o*p*s-u*l*s+u*i*c-t*p*c-o*i*m+t*l*m)*P,e[8]=M*P,e[9]=(v*h*s-u*x*s-v*r*m+t*x*m+u*r*g-t*h*g)*P,e[10]=(o*x*s-v*a*s+v*r*c-t*x*c-o*r*g+t*a*g)*P,e[11]=(u*a*s-o*h*s-u*r*c+t*h*c+o*r*m-t*a*m)*P,e[12]=R*P,e[13]=(u*x*i-v*h*i+v*r*p-t*x*p-u*r*y+t*h*y)*P,e[14]=(v*a*i-o*x*i-v*r*l+t*x*l+o*r*y-t*a*y)*P,e[15]=(o*h*i-u*a*i+u*r*l-t*h*l-o*r*p+t*a*p)*P,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,h=a+a,p=s*c,m=s*u,v=s*h,x=o*u,y=o*h,g=a*h,A=l*c,_=l*u,M=l*h,R=r.x,b=r.y,P=r.z;return i[0]=(1-(x+g))*R,i[1]=(m+M)*R,i[2]=(v-_)*R,i[3]=0,i[4]=(m-M)*b,i[5]=(1-(p+g))*b,i[6]=(y+A)*b,i[7]=0,i[8]=(v+_)*P,i[9]=(y-A)*P,i[10]=(1-(p+x))*P,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Hc.set(i[0],i[1],i[2]).length();const o=Hc.set(i[4],i[5],i[6]).length(),a=Hc.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],ws.copy(this);const c=1/s,u=1/o,h=1/a;return ws.elements[0]*=c,ws.elements[1]*=c,ws.elements[2]*=c,ws.elements[4]*=u,ws.elements[5]*=u,ws.elements[6]*=u,ws.elements[8]*=h,ws.elements[9]*=h,ws.elements[10]*=h,t.setFromRotationMatrix(ws),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o,a=to){const l=this.elements,c=2*s/(t-e),u=2*s/(r-i),h=(t+e)/(t-e),p=(r+i)/(r-i);let m,v;if(a===to)m=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===bh)m=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=u,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,s,o,a=to){const l=this.elements,c=1/(t-e),u=1/(r-i),h=1/(o-s),p=(t+e)*c,m=(r+i)*u;let v,x;if(a===to)v=(o+s)*h,x=-2*h;else if(a===bh)v=s*h,x=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=x,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Hc=new Z,ws=new yt,$D=new Z(0,0,0),XD=new Z(1,1,1),ha=new Z,I1=new Z,Ci=new Z,dw=new yt,hw=new $n;class vf{constructor(e=0,t=0,r=0,i=vf.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],h=i[2],p=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(Hn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Hn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Hn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Hn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Hn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Hn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return dw.makeRotationFromQuaternion(e),this.setFromRotationMatrix(dw,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return hw.setFromEuler(this),this.setFromQuaternion(hw,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}vf.DEFAULT_ORDER="XYZ";class ec{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let JD=0;const pw=new Z,Gc=new $n,Ao=new yt,L1=new Z,ad=new Z,YD=new Z,KD=new $n,mw=new Z(1,0,0),gw=new Z(0,1,0),vw=new Z(0,0,1),ZD={type:"added"},QD={type:"removed"};class Bt extends Zo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:JD++}),this.uuid=Oi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Bt.DEFAULT_UP.clone();const e=new Z,t=new vf,r=new $n,i=new Z(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new yt},normalMatrix:{value:new Tt}}),this.matrix=new yt,this.matrixWorld=new yt,this.matrixAutoUpdate=Bt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new ec,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Gc.setFromAxisAngle(e,t),this.quaternion.multiply(Gc),this}rotateOnWorldAxis(e,t){return Gc.setFromAxisAngle(e,t),this.quaternion.premultiply(Gc),this}rotateX(e){return this.rotateOnAxis(mw,e)}rotateY(e){return this.rotateOnAxis(gw,e)}rotateZ(e){return this.rotateOnAxis(vw,e)}translateOnAxis(e,t){return pw.copy(e).applyQuaternion(this.quaternion),this.position.add(pw.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(mw,e)}translateY(e){return this.translateOnAxis(gw,e)}translateZ(e){return this.translateOnAxis(vw,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ao.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?L1.copy(e):L1.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),ad.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ao.lookAt(ad,L1,this.up):Ao.lookAt(L1,ad,this.up),this.quaternion.setFromRotationMatrix(Ao),i&&(Ao.extractRotation(i.matrixWorld),Gc.setFromRotationMatrix(Ao),this.quaternion.premultiply(Gc.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(ZD)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(QD)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ao.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ao.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ao),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ad,e,YD),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ad,KD,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),h.length>0&&(r.shapes=h),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Bt.DEFAULT_UP=new Z(0,1,0);Bt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ss=new Z,wo=new Z,Pv=new Z,So=new Z,Vc=new Z,Wc=new Z,yw=new Z,Iv=new Z,Lv=new Z,Bv=new Z;class Li{constructor(e=new Z,t=new Z,r=new Z){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Ss.subVectors(e,t),i.cross(Ss);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Ss.subVectors(i,t),wo.subVectors(r,t),Pv.subVectors(e,t);const o=Ss.dot(Ss),a=Ss.dot(wo),l=Ss.dot(Pv),c=wo.dot(wo),u=wo.dot(Pv),h=o*c-a*a;if(h===0)return s.set(0,0,0),null;const p=1/h,m=(c*l-a*u)*p,v=(o*u-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,So)===null?!1:So.x>=0&&So.y>=0&&So.x+So.y<=1}static getInterpolation(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,So)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,So.x),l.addScaledVector(o,So.y),l.addScaledVector(a,So.z),l)}static isFrontFacing(e,t,r,i){return Ss.subVectors(r,t),wo.subVectors(e,t),Ss.cross(wo).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ss.subVectors(this.c,this.b),wo.subVectors(this.a,this.b),Ss.cross(wo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Li.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Li.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,s){return Li.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Li.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Li.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;Vc.subVectors(i,r),Wc.subVectors(s,r),Iv.subVectors(e,r);const l=Vc.dot(Iv),c=Wc.dot(Iv);if(l<=0&&c<=0)return t.copy(r);Lv.subVectors(e,i);const u=Vc.dot(Lv),h=Wc.dot(Lv);if(u>=0&&h<=u)return t.copy(i);const p=l*h-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(Vc,o);Bv.subVectors(e,s);const m=Vc.dot(Bv),v=Wc.dot(Bv);if(v>=0&&m<=v)return t.copy(s);const x=m*c-l*v;if(x<=0&&c>=0&&v<=0)return a=c/(c-v),t.copy(r).addScaledVector(Wc,a);const y=u*v-m*h;if(y<=0&&h-u>=0&&m-v>=0)return yw.subVectors(s,i),a=(h-u)/(h-u+(m-v)),t.copy(i).addScaledVector(yw,a);const g=1/(y+x+p);return o=x*g,a=p*g,t.copy(r).addScaledVector(Vc,o).addScaledVector(Wc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const V8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},pa={h:0,s:0,l:0},B1={h:0,s:0,l:0};function Dv(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}let Xe=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=un){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,an.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=an.workingColorSpace){return this.r=e,this.g=t,this.b=r,an.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=an.workingColorSpace){if(e=o4(e,1),t=Hn(t,0,1),r=Hn(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=Dv(o,s,e+1/3),this.g=Dv(o,s,e),this.b=Dv(o,s,e-1/3)}return an.toWorkingColorSpace(this,i),this}setStyle(e,t=un){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=un){const r=V8[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ku(e.r),this.g=ku(e.g),this.b=ku(e.b),this}copyLinearToSRGB(e){return this.r=Av(e.r),this.g=Av(e.g),this.b=Av(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=un){return an.fromWorkingColorSpace(Lr.copy(this),e),Math.round(Hn(Lr.r*255,0,255))*65536+Math.round(Hn(Lr.g*255,0,255))*256+Math.round(Hn(Lr.b*255,0,255))}getHexString(e=un){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=an.workingColorSpace){an.fromWorkingColorSpace(Lr.copy(this),t);const r=Lr.r,i=Lr.g,s=Lr.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=u<=.5?h/(o+a):h/(2-o-a),o){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=an.workingColorSpace){return an.fromWorkingColorSpace(Lr.copy(this),t),e.r=Lr.r,e.g=Lr.g,e.b=Lr.b,e}getStyle(e=un){an.fromWorkingColorSpace(Lr.copy(this),e);const t=Lr.r,r=Lr.g,i=Lr.b;return e!==un?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(pa),this.setHSL(pa.h+e,pa.s+t,pa.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(pa),e.getHSL(B1);const r=Xd(pa.h,B1.h,t),i=Xd(pa.s,B1.s,t),s=Xd(pa.l,B1.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Lr=new Xe;Xe.NAMES=V8;let qD=0;class Qn extends Zo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:qD++}),this.uuid=Oi(),this.name="",this.type="Material",this.blending=Uo,this.side=lo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=wm,this.blendDst=Sm,this.blendEquation=Ta,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Xe(0,0,0),this.blendAlpha=0,this.depthFunc=_h,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=a_,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Fl,this.stencilZFail=Fl,this.stencilZPass=Fl,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Uo&&(r.blending=this.blending),this.side!==lo&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==wm&&(r.blendSrc=this.blendSrc),this.blendDst!==Sm&&(r.blendDst=this.blendDst),this.blendEquation!==Ta&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==_h&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==a_&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Fl&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Fl&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Fl&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Di extends Qn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Xe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$h,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Io=eN();function eN(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function fi(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Hn(n,-65504,65504),Io.floatView[0]=n;const e=Io.uint32View[0],t=e>>23&511;return Io.baseTable[t]+((e&8388607)>>Io.shiftTable[t])}function Nd(n){const e=n>>10;return Io.uint32View[0]=Io.mantissaTable[Io.offsetTable[e]+(n&1023)]+Io.exponentTable[e],Io.floatView[0]}const $l={toHalfFloat:fi,fromHalfFloat:Nd},Kn=new Z,D1=new Ce;class Kt{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=Ch,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=rr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return ql("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)D1.fromBufferAttribute(this,t),D1.applyMatrix3(e),this.setXY(t,D1.x,D1.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Kn.fromBufferAttribute(this,t),Kn.applyMatrix3(e),this.setXYZ(t,Kn.x,Kn.y,Kn.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Kn.fromBufferAttribute(this,t),Kn.applyMatrix4(e),this.setXYZ(t,Kn.x,Kn.y,Kn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Kn.fromBufferAttribute(this,t),Kn.applyNormalMatrix(e),this.setXYZ(t,Kn.x,Kn.y,Kn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Kn.fromBufferAttribute(this,t),Kn.transformDirection(e),this.setXYZ(t,Kn.x,Kn.y,Kn.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=ei(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Ot(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ei(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ei(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ei(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ei(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),r=Ot(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),r=Ot(r,this.array),i=Ot(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),r=Ot(r,this.array),i=Ot(i,this.array),s=Ot(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ch&&(e.usage=this.usage),e}}class tN extends Kt{constructor(e,t,r){super(new Int8Array(e),t,r)}}class nN extends Kt{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class rN extends Kt{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class iN extends Kt{constructor(e,t,r){super(new Int16Array(e),t,r)}}class c4 extends Kt{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class sN extends Kt{constructor(e,t,r){super(new Int32Array(e),t,r)}}class u4 extends Kt{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class oN extends Kt{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=Nd(this.array[e*this.itemSize]);return this.normalized&&(t=ei(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize]=fi(t),this}getY(e){let t=Nd(this.array[e*this.itemSize+1]);return this.normalized&&(t=ei(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+1]=fi(t),this}getZ(e){let t=Nd(this.array[e*this.itemSize+2]);return this.normalized&&(t=ei(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+2]=fi(t),this}getW(e){let t=Nd(this.array[e*this.itemSize+3]);return this.normalized&&(t=ei(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+3]=fi(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),r=Ot(r,this.array)),this.array[e+0]=fi(t),this.array[e+1]=fi(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),r=Ot(r,this.array),i=Ot(i,this.array)),this.array[e+0]=fi(t),this.array[e+1]=fi(r),this.array[e+2]=fi(i),this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),r=Ot(r,this.array),i=Ot(i,this.array),s=Ot(s,this.array)),this.array[e+0]=fi(t),this.array[e+1]=fi(r),this.array[e+2]=fi(i),this.array[e+3]=fi(s),this}}class lt extends Kt{constructor(e,t,r){super(new Float32Array(e),t,r)}}class aN extends Kt{constructor(e,t,r){super(new Float64Array(e),t,r)}}let lN=0;const qi=new yt,Nv=new Bt,jc=new Z,bi=new zr,ld=new zr,dr=new Z;class Pt extends Zo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:lN++}),this.uuid=Oi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(z8(e)?u4:c4)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Tt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return qi.makeRotationFromQuaternion(e),this.applyMatrix4(qi),this}rotateX(e){return qi.makeRotationX(e),this.applyMatrix4(qi),this}rotateY(e){return qi.makeRotationY(e),this.applyMatrix4(qi),this}rotateZ(e){return qi.makeRotationZ(e),this.applyMatrix4(qi),this}translate(e,t,r){return qi.makeTranslation(e,t,r),this.applyMatrix4(qi),this}scale(e,t,r){return qi.makeScale(e,t,r),this.applyMatrix4(qi),this}lookAt(e){return Nv.lookAt(e),Nv.updateMatrix(),this.applyMatrix4(Nv.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(jc).negate(),this.translate(jc.x,jc.y,jc.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new lt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new zr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Z(-1/0,-1/0,-1/0),new Z(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];bi.setFromBufferAttribute(s),this.morphTargetsRelative?(dr.addVectors(this.boundingBox.min,bi.min),this.boundingBox.expandByPoint(dr),dr.addVectors(this.boundingBox.max,bi.max),this.boundingBox.expandByPoint(dr)):(this.boundingBox.expandByPoint(bi.min),this.boundingBox.expandByPoint(bi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Er);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Z,1/0);return}if(e){const r=this.boundingSphere.center;if(bi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];ld.setFromBufferAttribute(a),this.morphTargetsRelative?(dr.addVectors(bi.min,ld.min),bi.expandByPoint(dr),dr.addVectors(bi.max,ld.max),bi.expandByPoint(dr)):(bi.expandByPoint(ld.min),bi.expandByPoint(ld.max))}bi.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)dr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(dr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)dr.fromBufferAttribute(a,c),l&&(jc.fromBufferAttribute(e,c),dr.add(jc)),i=Math.max(i,r.distanceToSquared(dr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Kt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let T=0;T<a;T++)c[T]=new Z,u[T]=new Z;const h=new Z,p=new Z,m=new Z,v=new Ce,x=new Ce,y=new Ce,g=new Z,A=new Z;function _(T,L,G){h.fromArray(i,T*3),p.fromArray(i,L*3),m.fromArray(i,G*3),v.fromArray(o,T*2),x.fromArray(o,L*2),y.fromArray(o,G*2),p.sub(h),m.sub(h),x.sub(v),y.sub(v);const se=1/(x.x*y.y-y.x*x.y);isFinite(se)&&(g.copy(p).multiplyScalar(y.y).addScaledVector(m,-x.y).multiplyScalar(se),A.copy(m).multiplyScalar(x.x).addScaledVector(p,-y.x).multiplyScalar(se),c[T].add(g),c[L].add(g),c[G].add(g),u[T].add(A),u[L].add(A),u[G].add(A))}let M=this.groups;M.length===0&&(M=[{start:0,count:r.length}]);for(let T=0,L=M.length;T<L;++T){const G=M[T],se=G.start,W=G.count;for(let te=se,re=se+W;te<re;te+=3)_(r[te+0],r[te+1],r[te+2])}const R=new Z,b=new Z,P=new Z,D=new Z;function V(T){P.fromArray(s,T*3),D.copy(P);const L=c[T];R.copy(L),R.sub(P.multiplyScalar(P.dot(L))).normalize(),b.crossVectors(D,L);const se=b.dot(u[T])<0?-1:1;l[T*4]=R.x,l[T*4+1]=R.y,l[T*4+2]=R.z,l[T*4+3]=se}for(let T=0,L=M.length;T<L;++T){const G=M[T],se=G.start,W=G.count;for(let te=se,re=se+W;te<re;te+=3)V(r[te+0]),V(r[te+1]),V(r[te+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Kt(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new Z,s=new Z,o=new Z,a=new Z,l=new Z,c=new Z,u=new Z,h=new Z;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),x=e.getX(p+1),y=e.getX(p+2);i.fromBufferAttribute(t,v),s.fromBufferAttribute(t,x),o.fromBufferAttribute(t,y),u.subVectors(o,s),h.subVectors(i,s),u.cross(h),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,x),c.fromBufferAttribute(r,y),a.add(u),l.add(u),c.add(u),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),u.subVectors(o,s),h.subVectors(i,s),u.cross(h),r.setXYZ(p+0,u.x,u.y,u.z),r.setXYZ(p+1,u.x,u.y,u.z),r.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)dr.fromBufferAttribute(e,t),dr.normalize(),e.setXYZ(t,dr.x,dr.y,dr.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,h=a.normalized,p=new c.constructor(l.length*u);let m=0,v=0;for(let x=0,y=l.length;x<y;x++){a.isInterleavedBufferAttribute?m=l[x]*a.data.stride+a.offset:m=l[x]*u;for(let g=0;g<u;g++)p[v++]=c[m++]}return new Kt(p,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Pt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,h=c.length;u<h;u++){const p=c[u],m=e(p,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,p=c.length;h<p;h++){const m=c[h];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],h=s[c];for(let p=0,m=h.length;p<m;p++)u.push(h[p].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _w=new yt,Sl=new gf,N1=new Er,xw=new Z,$c=new Z,Xc=new Z,Jc=new Z,Fv=new Z,F1=new Z,O1=new Ce,k1=new Ce,U1=new Ce,Ew=new Z,Aw=new Z,ww=new Z,z1=new Z,H1=new Z;class Cn extends Bt{constructor(e=new Pt,t=new Di){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){F1.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],h=s[l];u!==0&&(Fv.fromBufferAttribute(h,e),o?F1.addScaledVector(Fv,u):F1.addScaledVector(Fv.sub(t),u))}t.add(F1)}return t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),N1.copy(r.boundingSphere),N1.applyMatrix4(s),Sl.copy(e.ray).recast(e.near),!(N1.containsPoint(Sl.origin)===!1&&(Sl.intersectSphere(N1,xw)===null||Sl.origin.distanceToSquared(xw)>(e.far-e.near)**2))&&(_w.copy(s).invert(),Sl.copy(e.ray).applyMatrix4(_w),!(r.boundingBox!==null&&Sl.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Sl)))}_computeIntersections(e,t,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,h=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,x=p.length;v<x;v++){const y=p[v],g=o[y.materialIndex],A=Math.max(y.start,m.start),_=Math.min(a.count,Math.min(y.start+y.count,m.start+m.count));for(let M=A,R=_;M<R;M+=3){const b=a.getX(M),P=a.getX(M+1),D=a.getX(M+2);i=G1(this,g,e,r,c,u,h,b,P,D),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=y.materialIndex,t.push(i))}}else{const v=Math.max(0,m.start),x=Math.min(a.count,m.start+m.count);for(let y=v,g=x;y<g;y+=3){const A=a.getX(y),_=a.getX(y+1),M=a.getX(y+2);i=G1(this,o,e,r,c,u,h,A,_,M),i&&(i.faceIndex=Math.floor(y/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,x=p.length;v<x;v++){const y=p[v],g=o[y.materialIndex],A=Math.max(y.start,m.start),_=Math.min(l.count,Math.min(y.start+y.count,m.start+m.count));for(let M=A,R=_;M<R;M+=3){const b=M,P=M+1,D=M+2;i=G1(this,g,e,r,c,u,h,b,P,D),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=y.materialIndex,t.push(i))}}else{const v=Math.max(0,m.start),x=Math.min(l.count,m.start+m.count);for(let y=v,g=x;y<g;y+=3){const A=y,_=y+1,M=y+2;i=G1(this,o,e,r,c,u,h,A,_,M),i&&(i.faceIndex=Math.floor(y/3),t.push(i))}}}}function cN(n,e,t,r,i,s,o,a){let l;if(e.side===ri?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===lo,a),l===null)return null;H1.copy(a),H1.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(H1);return c<t.near||c>t.far?null:{distance:c,point:H1.clone(),object:n}}function G1(n,e,t,r,i,s,o,a,l,c){n.getVertexPosition(a,$c),n.getVertexPosition(l,Xc),n.getVertexPosition(c,Jc);const u=cN(n,e,t,r,$c,Xc,Jc,z1);if(u){i&&(O1.fromBufferAttribute(i,a),k1.fromBufferAttribute(i,l),U1.fromBufferAttribute(i,c),u.uv=Li.getInterpolation(z1,$c,Xc,Jc,O1,k1,U1,new Ce)),s&&(O1.fromBufferAttribute(s,a),k1.fromBufferAttribute(s,l),U1.fromBufferAttribute(s,c),u.uv1=Li.getInterpolation(z1,$c,Xc,Jc,O1,k1,U1,new Ce),u.uv2=u.uv1),o&&(Ew.fromBufferAttribute(o,a),Aw.fromBufferAttribute(o,l),ww.fromBufferAttribute(o,c),u.normal=Li.getInterpolation(z1,$c,Xc,Jc,Ew,Aw,ww,new Z),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const h={a,b:l,c,normal:new Z,materialIndex:0};Li.getNormal($c,Xc,Jc,h.normal),u.face=h}return u}class vc extends Pt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],h=[];let p=0,m=0;v("z","y","x",-1,-1,r,t,e,o,s,0),v("z","y","x",1,-1,r,t,-e,o,s,1),v("x","z","y",1,1,e,r,t,i,o,2),v("x","z","y",1,-1,e,r,-t,i,o,3),v("x","y","z",1,-1,e,t,r,i,s,4),v("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new lt(c,3)),this.setAttribute("normal",new lt(u,3)),this.setAttribute("uv",new lt(h,2));function v(x,y,g,A,_,M,R,b,P,D,V){const T=M/P,L=R/D,G=M/2,se=R/2,W=b/2,te=P+1,re=D+1;let ue=0,F=0;const Y=new Z;for(let Q=0;Q<re;Q++){const fe=Q*L-se;for(let xe=0;xe<te;xe++){const Oe=xe*T-G;Y[x]=Oe*A,Y[y]=fe*_,Y[g]=W,c.push(Y.x,Y.y,Y.z),Y[x]=0,Y[y]=0,Y[g]=b>0?1:-1,u.push(Y.x,Y.y,Y.z),h.push(xe/P),h.push(1-Q/D),ue+=1}}for(let Q=0;Q<D;Q++)for(let fe=0;fe<P;fe++){const xe=p+fe+te*Q,Oe=p+fe+te*(Q+1),X=p+(fe+1)+te*(Q+1),j=p+(fe+1)+te*Q;l.push(xe,Oe,j),l.push(Oe,X,j),F+=6}a.addGroup(m,F,V),m+=F,p+=ue}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ef(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Kr(n){const e={};for(let t=0;t<n.length;t++){const r=ef(n[t]);for(const i in r)e[i]=r[i]}return e}function uN(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function W8(n){return n.getRenderTarget()===null?n.outputColorSpace:an.workingColorSpace}const j8={clone:ef,merge:Kr};var fN=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,dN=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Gr extends Qn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=fN,this.fragmentShader=dN,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ef(e.uniforms),this.uniformsGroups=uN(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Yh extends Bt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new yt,this.projectionMatrix=new yt,this.projectionMatrixInverse=new yt,this.coordinateSystem=to}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const ma=new Z,Sw=new Ce,Mw=new Ce;let nr=class extends Yh{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=qu*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ql*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return qu*2*Math.atan(Math.tan(Ql*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){ma.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(ma.x,ma.y).multiplyScalar(-e/ma.z),ma.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(ma.x,ma.y).multiplyScalar(-e/ma.z)}getViewSize(e,t){return this.getViewBounds(e,Sw,Mw),t.subVectors(Mw,Sw)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Ql*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};const Yc=-90,Kc=1;class $8 extends Bt{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new nr(Yc,Kc,e,t);i.layers=this.layers,this.add(i);const s=new nr(Yc,Kc,e,t);s.layers=this.layers,this.add(s);const o=new nr(Yc,Kc,e,t);o.layers=this.layers,this.add(o);const a=new nr(Yc,Kc,e,t);a.layers=this.layers,this.add(a);const l=new nr(Yc,Kc,e,t);l.layers=this.layers,this.add(l);const c=new nr(Yc,Kc,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===to)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===bh)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,h=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,s),e.setRenderTarget(r,1,i),e.render(t,o),e.setRenderTarget(r,2,i),e.render(t,a),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,c),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(t,u),e.setRenderTarget(h,p,m),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class Kh extends yn{constructor(e,t,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:co,super(e,t,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class f4 extends ms{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];t.encoding!==void 0&&(ql("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Va?un:Ii),this.texture=new Kh(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Ct}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new vc(5,5,5),s=new Gr({name:"CubemapFromEquirect",uniforms:ef(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ri,blending:ko});s.uniforms.tEquirect.value=t;const o=new Cn(i,s),a=t.minFilter;return t.minFilter===cs&&(t.minFilter=Ct),new $8(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const Ov=new Z,hN=new Z,pN=new Tt;class Sa{constructor(e=new Z(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=Ov.subVectors(r,t).cross(hN.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(Ov),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||pN.getNormalMatrix(e),i=this.coplanarPoint(Ov).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ml=new Er,V1=new Z;class Zh{constructor(e=new Sa,t=new Sa,r=new Sa,i=new Sa,s=new Sa,o=new Sa){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=to){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],h=i[6],p=i[7],m=i[8],v=i[9],x=i[10],y=i[11],g=i[12],A=i[13],_=i[14],M=i[15];if(r[0].setComponents(l-s,p-c,y-m,M-g).normalize(),r[1].setComponents(l+s,p+c,y+m,M+g).normalize(),r[2].setComponents(l+o,p+u,y+v,M+A).normalize(),r[3].setComponents(l-o,p-u,y-v,M-A).normalize(),r[4].setComponents(l-a,p-h,y-x,M-_).normalize(),t===to)r[5].setComponents(l+a,p+h,y+x,M+_).normalize();else if(t===bh)r[5].setComponents(a,h,x,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ml.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Ml.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ml)}intersectsSprite(e){return Ml.center.set(0,0,0),Ml.radius=.7071067811865476,Ml.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ml)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(V1.x=i.normal.x>0?e.max.x:e.min.x,V1.y=i.normal.y>0?e.max.y:e.min.y,V1.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(V1)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function X8(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function mN(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const h=c.array,p=c.usage,m=h.byteLength,v=n.createBuffer();n.bindBuffer(u,v),n.bufferData(u,h,p),c.onUploadCallback();let x;if(h instanceof Float32Array)x=n.FLOAT;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)x=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else x=n.UNSIGNED_SHORT;else if(h instanceof Int16Array)x=n.SHORT;else if(h instanceof Uint32Array)x=n.UNSIGNED_INT;else if(h instanceof Int32Array)x=n.INT;else if(h instanceof Int8Array)x=n.BYTE;else if(h instanceof Uint8Array)x=n.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)x=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:v,type:x,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version,size:m}}function s(c,u,h){const p=u.array,m=u._updateRange,v=u.updateRanges;if(n.bindBuffer(h,c),m.count===-1&&v.length===0&&n.bufferSubData(h,0,p),v.length!==0){for(let x=0,y=v.length;x<y;x++){const g=v[x];t?n.bufferSubData(h,g.start*p.BYTES_PER_ELEMENT,p,g.start,g.count):n.bufferSubData(h,g.start*p.BYTES_PER_ELEMENT,p.subarray(g.start,g.start+g.count))}u.clearUpdateRanges()}m.count!==-1&&(t?n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=r.get(c);if(h===void 0)r.set(c,i(c,u));else if(h.version<c.version){if(h.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(h.buffer,c,u),h.version=c.version}}return{get:o,remove:a,update:l}}class yf extends Pt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,h=e/a,p=t/l,m=[],v=[],x=[],y=[];for(let g=0;g<u;g++){const A=g*p-o;for(let _=0;_<c;_++){const M=_*h-s;v.push(M,-A,0),x.push(0,0,1),y.push(_/a),y.push(1-g/l)}}for(let g=0;g<l;g++)for(let A=0;A<a;A++){const _=A+c*g,M=A+c*(g+1),R=A+1+c*(g+1),b=A+1+c*g;m.push(_,M,b),m.push(M,R,b)}this.setIndex(m),this.setAttribute("position",new lt(v,3)),this.setAttribute("normal",new lt(x,3)),this.setAttribute("uv",new lt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yf(e.width,e.height,e.widthSegments,e.heightSegments)}}var gN=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,vN=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,yN=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,_N=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,xN=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,EN=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,AN=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,wN=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,SN=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,MN=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,CN=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,bN=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,TN=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,RN=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,PN=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,IN=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,LN=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,BN=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,DN=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,NN=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,FN=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,ON=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,kN=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,UN=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,zN=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,HN=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,GN=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,VN=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,WN=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,jN=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,$N="gl_FragColor = linearToOutputTexel( gl_FragColor );",XN=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,JN=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,YN=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,KN=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,ZN=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,QN=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,qN=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,eF=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,tF=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,nF=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,rF=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,iF=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,sF=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,oF=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,aF=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lF=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,cF=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,uF=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,fF=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,dF=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,hF=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,pF=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,mF=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,gF=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,vF=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,yF=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,_F=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,xF=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,EF=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,AF=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,wF=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,SF=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,MF=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,CF=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,bF=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,TF=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,RF=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,PF=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,IF=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,LF=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,BF=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,DF=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,NF=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,FF=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,OF=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,kF=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,UF=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,zF=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,HF=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,GF=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,VF=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,WF=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,jF=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,$F=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,XF=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,JF=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,YF=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,KF=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,ZF=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,QF=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,qF=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,eO=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,tO=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,nO=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,rO=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,iO=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,sO=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,oO=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,aO=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,lO=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,cO=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,uO=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,fO=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,dO=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,hO=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,pO=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const mO=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,gO=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vO=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,yO=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,_O=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,xO=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,EO=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,AO=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,wO=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,SO=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,MO=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,CO=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,bO=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,TO=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,RO=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,PO=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,IO=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,LO=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,BO=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,DO=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,NO=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,FO=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,OO=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kO=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,UO=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,zO=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,HO=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,GO=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,VO=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,WO=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,jO=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$O=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,XO=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,JO=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,kt={alphahash_fragment:gN,alphahash_pars_fragment:vN,alphamap_fragment:yN,alphamap_pars_fragment:_N,alphatest_fragment:xN,alphatest_pars_fragment:EN,aomap_fragment:AN,aomap_pars_fragment:wN,batching_pars_vertex:SN,batching_vertex:MN,begin_vertex:CN,beginnormal_vertex:bN,bsdfs:TN,iridescence_fragment:RN,bumpmap_pars_fragment:PN,clipping_planes_fragment:IN,clipping_planes_pars_fragment:LN,clipping_planes_pars_vertex:BN,clipping_planes_vertex:DN,color_fragment:NN,color_pars_fragment:FN,color_pars_vertex:ON,color_vertex:kN,common:UN,cube_uv_reflection_fragment:zN,defaultnormal_vertex:HN,displacementmap_pars_vertex:GN,displacementmap_vertex:VN,emissivemap_fragment:WN,emissivemap_pars_fragment:jN,colorspace_fragment:$N,colorspace_pars_fragment:XN,envmap_fragment:JN,envmap_common_pars_fragment:YN,envmap_pars_fragment:KN,envmap_pars_vertex:ZN,envmap_physical_pars_fragment:cF,envmap_vertex:QN,fog_vertex:qN,fog_pars_vertex:eF,fog_fragment:tF,fog_pars_fragment:nF,gradientmap_pars_fragment:rF,lightmap_fragment:iF,lightmap_pars_fragment:sF,lights_lambert_fragment:oF,lights_lambert_pars_fragment:aF,lights_pars_begin:lF,lights_toon_fragment:uF,lights_toon_pars_fragment:fF,lights_phong_fragment:dF,lights_phong_pars_fragment:hF,lights_physical_fragment:pF,lights_physical_pars_fragment:mF,lights_fragment_begin:gF,lights_fragment_maps:vF,lights_fragment_end:yF,logdepthbuf_fragment:_F,logdepthbuf_pars_fragment:xF,logdepthbuf_pars_vertex:EF,logdepthbuf_vertex:AF,map_fragment:wF,map_pars_fragment:SF,map_particle_fragment:MF,map_particle_pars_fragment:CF,metalnessmap_fragment:bF,metalnessmap_pars_fragment:TF,morphcolor_vertex:RF,morphnormal_vertex:PF,morphtarget_pars_vertex:IF,morphtarget_vertex:LF,normal_fragment_begin:BF,normal_fragment_maps:DF,normal_pars_fragment:NF,normal_pars_vertex:FF,normal_vertex:OF,normalmap_pars_fragment:kF,clearcoat_normal_fragment_begin:UF,clearcoat_normal_fragment_maps:zF,clearcoat_pars_fragment:HF,iridescence_pars_fragment:GF,opaque_fragment:VF,packing:WF,premultiplied_alpha_fragment:jF,project_vertex:$F,dithering_fragment:XF,dithering_pars_fragment:JF,roughnessmap_fragment:YF,roughnessmap_pars_fragment:KF,shadowmap_pars_fragment:ZF,shadowmap_pars_vertex:QF,shadowmap_vertex:qF,shadowmask_pars_fragment:eO,skinbase_vertex:tO,skinning_pars_vertex:nO,skinning_vertex:rO,skinnormal_vertex:iO,specularmap_fragment:sO,specularmap_pars_fragment:oO,tonemapping_fragment:aO,tonemapping_pars_fragment:lO,transmission_fragment:cO,transmission_pars_fragment:uO,uv_pars_fragment:fO,uv_pars_vertex:dO,uv_vertex:hO,worldpos_vertex:pO,background_vert:mO,background_frag:gO,backgroundCube_vert:vO,backgroundCube_frag:yO,cube_vert:_O,cube_frag:xO,depth_vert:EO,depth_frag:AO,distanceRGBA_vert:wO,distanceRGBA_frag:SO,equirect_vert:MO,equirect_frag:CO,linedashed_vert:bO,linedashed_frag:TO,meshbasic_vert:RO,meshbasic_frag:PO,meshlambert_vert:IO,meshlambert_frag:LO,meshmatcap_vert:BO,meshmatcap_frag:DO,meshnormal_vert:NO,meshnormal_frag:FO,meshphong_vert:OO,meshphong_frag:kO,meshphysical_vert:UO,meshphysical_frag:zO,meshtoon_vert:HO,meshtoon_frag:GO,points_vert:VO,points_frag:WO,shadow_vert:jO,shadow_frag:$O,sprite_vert:XO,sprite_frag:JO},Ke={common:{diffuse:{value:new Xe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Tt},alphaMap:{value:null},alphaMapTransform:{value:new Tt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Tt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Tt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Tt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Tt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Tt},normalScale:{value:new Ce(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Tt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Tt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Tt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Tt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Xe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Xe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Tt},alphaTest:{value:0},uvTransform:{value:new Tt}},sprite:{diffuse:{value:new Xe(16777215)},opacity:{value:1},center:{value:new Ce(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Tt},alphaMap:{value:null},alphaMapTransform:{value:new Tt},alphaTest:{value:0}}},Is={basic:{uniforms:Kr([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.fog]),vertexShader:kt.meshbasic_vert,fragmentShader:kt.meshbasic_frag},lambert:{uniforms:Kr([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.fog,Ke.lights,{emissive:{value:new Xe(0)}}]),vertexShader:kt.meshlambert_vert,fragmentShader:kt.meshlambert_frag},phong:{uniforms:Kr([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.fog,Ke.lights,{emissive:{value:new Xe(0)},specular:{value:new Xe(1118481)},shininess:{value:30}}]),vertexShader:kt.meshphong_vert,fragmentShader:kt.meshphong_frag},standard:{uniforms:Kr([Ke.common,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.roughnessmap,Ke.metalnessmap,Ke.fog,Ke.lights,{emissive:{value:new Xe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:kt.meshphysical_vert,fragmentShader:kt.meshphysical_frag},toon:{uniforms:Kr([Ke.common,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.gradientmap,Ke.fog,Ke.lights,{emissive:{value:new Xe(0)}}]),vertexShader:kt.meshtoon_vert,fragmentShader:kt.meshtoon_frag},matcap:{uniforms:Kr([Ke.common,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.fog,{matcap:{value:null}}]),vertexShader:kt.meshmatcap_vert,fragmentShader:kt.meshmatcap_frag},points:{uniforms:Kr([Ke.points,Ke.fog]),vertexShader:kt.points_vert,fragmentShader:kt.points_frag},dashed:{uniforms:Kr([Ke.common,Ke.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:kt.linedashed_vert,fragmentShader:kt.linedashed_frag},depth:{uniforms:Kr([Ke.common,Ke.displacementmap]),vertexShader:kt.depth_vert,fragmentShader:kt.depth_frag},normal:{uniforms:Kr([Ke.common,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,{opacity:{value:1}}]),vertexShader:kt.meshnormal_vert,fragmentShader:kt.meshnormal_frag},sprite:{uniforms:Kr([Ke.sprite,Ke.fog]),vertexShader:kt.sprite_vert,fragmentShader:kt.sprite_frag},background:{uniforms:{uvTransform:{value:new Tt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:kt.background_vert,fragmentShader:kt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:kt.backgroundCube_vert,fragmentShader:kt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:kt.cube_vert,fragmentShader:kt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:kt.equirect_vert,fragmentShader:kt.equirect_frag},distanceRGBA:{uniforms:Kr([Ke.common,Ke.displacementmap,{referencePosition:{value:new Z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:kt.distanceRGBA_vert,fragmentShader:kt.distanceRGBA_frag},shadow:{uniforms:Kr([Ke.lights,Ke.fog,{color:{value:new Xe(0)},opacity:{value:1}}]),vertexShader:kt.shadow_vert,fragmentShader:kt.shadow_frag}};Is.physical={uniforms:Kr([Is.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Tt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Tt},clearcoatNormalScale:{value:new Ce(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Tt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Tt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Tt},sheen:{value:0},sheenColor:{value:new Xe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Tt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Tt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Tt},transmissionSamplerSize:{value:new Ce},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Tt},attenuationDistance:{value:0},attenuationColor:{value:new Xe(0)},specularColor:{value:new Xe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Tt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Tt},anisotropyVector:{value:new Ce},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Tt}}]),vertexShader:kt.meshphysical_vert,fragmentShader:kt.meshphysical_frag};const W1={r:0,b:0,g:0};function YO(n,e,t,r,i,s,o){const a=new Xe(0);let l=s===!0?0:1,c,u,h=null,p=0,m=null;function v(y,g){let A=!1,_=g.isScene===!0?g.background:null;_&&_.isTexture&&(_=(g.backgroundBlurriness>0?t:e).get(_)),_===null?x(a,l):_&&_.isColor&&(x(_,1),A=!0);const M=n.xr.getEnvironmentBlendMode();M==="additive"?r.buffers.color.setClear(0,0,0,1,o):M==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(n.autoClear||A)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),_&&(_.isCubeTexture||_.mapping===mf)?(u===void 0&&(u=new Cn(new vc(1,1,1),new Gr({name:"BackgroundCubeMaterial",uniforms:ef(Is.backgroundCube.uniforms),vertexShader:Is.backgroundCube.vertexShader,fragmentShader:Is.backgroundCube.fragmentShader,side:ri,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(R,b,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=_,u.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=an.getTransfer(_.colorSpace)!==gn,(h!==_||p!==_.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,h=_,p=_.version,m=n.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null)):_&&_.isTexture&&(c===void 0&&(c=new Cn(new yf(2,2),new Gr({name:"BackgroundMaterial",uniforms:ef(Is.background.uniforms),vertexShader:Is.background.vertexShader,fragmentShader:Is.background.fragmentShader,side:lo,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=_,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=an.getTransfer(_.colorSpace)!==gn,_.matrixAutoUpdate===!0&&_.updateMatrix(),c.material.uniforms.uvTransform.value.copy(_.matrix),(h!==_||p!==_.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,h=_,p=_.version,m=n.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null))}function x(y,g){y.getRGB(W1,W8(n)),r.buffers.color.setClear(W1.r,W1.g,W1.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(y,g=1){a.set(y),l=g,x(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,x(a,l)},render:v}}function KO(n,e,t,r){const i=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let c=l,u=!1;function h(W,te,re,ue,F){let Y=!1;if(o){const Q=x(ue,re,te);c!==Q&&(c=Q,m(c.object)),Y=g(W,ue,re,F),Y&&A(W,ue,re,F)}else{const Q=te.wireframe===!0;(c.geometry!==ue.id||c.program!==re.id||c.wireframe!==Q)&&(c.geometry=ue.id,c.program=re.id,c.wireframe=Q,Y=!0)}F!==null&&t.update(F,n.ELEMENT_ARRAY_BUFFER),(Y||u)&&(u=!1,D(W,te,re,ue),F!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(F).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(W){return r.isWebGL2?n.bindVertexArray(W):s.bindVertexArrayOES(W)}function v(W){return r.isWebGL2?n.deleteVertexArray(W):s.deleteVertexArrayOES(W)}function x(W,te,re){const ue=re.wireframe===!0;let F=a[W.id];F===void 0&&(F={},a[W.id]=F);let Y=F[te.id];Y===void 0&&(Y={},F[te.id]=Y);let Q=Y[ue];return Q===void 0&&(Q=y(p()),Y[ue]=Q),Q}function y(W){const te=[],re=[],ue=[];for(let F=0;F<i;F++)te[F]=0,re[F]=0,ue[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:te,enabledAttributes:re,attributeDivisors:ue,object:W,attributes:{},index:null}}function g(W,te,re,ue){const F=c.attributes,Y=te.attributes;let Q=0;const fe=re.getAttributes();for(const xe in fe)if(fe[xe].location>=0){const X=F[xe];let j=Y[xe];if(j===void 0&&(xe==="instanceMatrix"&&W.instanceMatrix&&(j=W.instanceMatrix),xe==="instanceColor"&&W.instanceColor&&(j=W.instanceColor)),X===void 0||X.attribute!==j||j&&X.data!==j.data)return!0;Q++}return c.attributesNum!==Q||c.index!==ue}function A(W,te,re,ue){const F={},Y=te.attributes;let Q=0;const fe=re.getAttributes();for(const xe in fe)if(fe[xe].location>=0){let X=Y[xe];X===void 0&&(xe==="instanceMatrix"&&W.instanceMatrix&&(X=W.instanceMatrix),xe==="instanceColor"&&W.instanceColor&&(X=W.instanceColor));const j={};j.attribute=X,X&&X.data&&(j.data=X.data),F[xe]=j,Q++}c.attributes=F,c.attributesNum=Q,c.index=ue}function _(){const W=c.newAttributes;for(let te=0,re=W.length;te<re;te++)W[te]=0}function M(W){R(W,0)}function R(W,te){const re=c.newAttributes,ue=c.enabledAttributes,F=c.attributeDivisors;re[W]=1,ue[W]===0&&(n.enableVertexAttribArray(W),ue[W]=1),F[W]!==te&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](W,te),F[W]=te)}function b(){const W=c.newAttributes,te=c.enabledAttributes;for(let re=0,ue=te.length;re<ue;re++)te[re]!==W[re]&&(n.disableVertexAttribArray(re),te[re]=0)}function P(W,te,re,ue,F,Y,Q){Q===!0?n.vertexAttribIPointer(W,te,re,F,Y):n.vertexAttribPointer(W,te,re,ue,F,Y)}function D(W,te,re,ue){if(r.isWebGL2===!1&&(W.isInstancedMesh||ue.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const F=ue.attributes,Y=re.getAttributes(),Q=te.defaultAttributeValues;for(const fe in Y){const xe=Y[fe];if(xe.location>=0){let Oe=F[fe];if(Oe===void 0&&(fe==="instanceMatrix"&&W.instanceMatrix&&(Oe=W.instanceMatrix),fe==="instanceColor"&&W.instanceColor&&(Oe=W.instanceColor)),Oe!==void 0){const X=Oe.normalized,j=Oe.itemSize,H=t.get(Oe);if(H===void 0)continue;const z=H.buffer,ve=H.type,be=H.bytesPerElement,Ee=r.isWebGL2===!0&&(ve===n.INT||ve===n.UNSIGNED_INT||Oe.gpuType===Jx);if(Oe.isInterleavedBufferAttribute){const Te=Oe.data,J=Te.stride,Ae=Oe.offset;if(Te.isInstancedInterleavedBuffer){for(let ae=0;ae<xe.locationSize;ae++)R(xe.location+ae,Te.meshPerAttribute);W.isInstancedMesh!==!0&&ue._maxInstanceCount===void 0&&(ue._maxInstanceCount=Te.meshPerAttribute*Te.count)}else for(let ae=0;ae<xe.locationSize;ae++)M(xe.location+ae);n.bindBuffer(n.ARRAY_BUFFER,z);for(let ae=0;ae<xe.locationSize;ae++)P(xe.location+ae,j/xe.locationSize,ve,X,J*be,(Ae+j/xe.locationSize*ae)*be,Ee)}else{if(Oe.isInstancedBufferAttribute){for(let Te=0;Te<xe.locationSize;Te++)R(xe.location+Te,Oe.meshPerAttribute);W.isInstancedMesh!==!0&&ue._maxInstanceCount===void 0&&(ue._maxInstanceCount=Oe.meshPerAttribute*Oe.count)}else for(let Te=0;Te<xe.locationSize;Te++)M(xe.location+Te);n.bindBuffer(n.ARRAY_BUFFER,z);for(let Te=0;Te<xe.locationSize;Te++)P(xe.location+Te,j/xe.locationSize,ve,X,j*be,j/xe.locationSize*Te*be,Ee)}}else if(Q!==void 0){const X=Q[fe];if(X!==void 0)switch(X.length){case 2:n.vertexAttrib2fv(xe.location,X);break;case 3:n.vertexAttrib3fv(xe.location,X);break;case 4:n.vertexAttrib4fv(xe.location,X);break;default:n.vertexAttrib1fv(xe.location,X)}}}}b()}function V(){G();for(const W in a){const te=a[W];for(const re in te){const ue=te[re];for(const F in ue)v(ue[F].object),delete ue[F];delete te[re]}delete a[W]}}function T(W){if(a[W.id]===void 0)return;const te=a[W.id];for(const re in te){const ue=te[re];for(const F in ue)v(ue[F].object),delete ue[F];delete te[re]}delete a[W.id]}function L(W){for(const te in a){const re=a[te];if(re[W.id]===void 0)continue;const ue=re[W.id];for(const F in ue)v(ue[F].object),delete ue[F];delete re[W.id]}}function G(){se(),u=!0,c!==l&&(c=l,m(c.object))}function se(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:G,resetDefaultState:se,dispose:V,releaseStatesOfGeometry:T,releaseStatesOfProgram:L,initAttributes:_,enableAttribute:M,disableUnusedAttributes:b}}function ZO(n,e,t,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,h){n.drawArrays(s,u,h),t.update(h,s,1)}function l(u,h,p){if(p===0)return;let m,v;if(i)m=n,v="drawArraysInstanced";else if(m=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[v](s,u,h,p),t.update(h,s,p)}function c(u,h,p){if(p===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<p;v++)this.render(u[v],h[v]);else{m.multiDrawArraysWEBGL(s,u,0,h,0,p);let v=0;for(let x=0;x<p;x++)v+=h[x];t.update(v,s,1)}}this.setMode=o,this.render=a,this.renderInstances=l,this.renderMultiDraw=c}function QO(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(P){if(P==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,h=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),v=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),x=n.getParameter(n.MAX_VERTEX_ATTRIBS),y=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),g=n.getParameter(n.MAX_VARYING_VECTORS),A=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),_=p>0,M=o||e.has("OES_texture_float"),R=_&&M,b=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:x,maxVertexUniforms:y,maxVaryings:g,maxFragmentUniforms:A,vertexTextures:_,floatFragmentTextures:M,floatVertexTextures:R,maxSamples:b}}function qO(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Sa,a=new Tt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const m=h.length!==0||p||r!==0||i;return i=p,r=h.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){t=u(h,p,0)},this.setState=function(h,p,m){const v=h.clippingPlanes,x=h.clipIntersection,y=h.clipShadows,g=n.get(h);if(!i||v===null||v.length===0||s&&!y)s?u(null):c();else{const A=s?0:r,_=A*4;let M=g.clippingState||null;l.value=M,M=u(v,p,_,m);for(let R=0;R!==_;++R)M[R]=t[R];g.clippingState=M,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=A}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(h,p,m,v){const x=h!==null?h.length:0;let y=null;if(x!==0){if(y=l.value,v!==!0||y===null){const g=m+x*4,A=p.matrixWorldInverse;a.getNormalMatrix(A),(y===null||y.length<g)&&(y=new Float32Array(g));for(let _=0,M=m;_!==x;++_,M+=4)o.copy(h[_]).applyMatrix4(A,a),o.normal.toArray(y,M),y[M+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,y}}function ek(n){let e=new WeakMap;function t(o,a){return a===Ku?o.mapping=co:a===xh&&(o.mapping=Ja),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===Ku||a===xh)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new f4(l.height);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class _f extends Yh{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Mu=4,Cw=[.125,.215,.35,.446,.526,.582],Ul=20,kv=new _f,bw=new Xe;let Uv=null,zv=0,Hv=0;const Ol=(1+Math.sqrt(5))/2,Zc=1/Ol,Tw=[new Z(1,1,1),new Z(-1,1,1),new Z(1,1,-1),new Z(-1,1,-1),new Z(0,Ol,Zc),new Z(0,Ol,-Zc),new Z(Zc,0,Ol),new Z(-Zc,0,Ol),new Z(Ol,Zc,0),new Z(-Ol,Zc,0)];class u_{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){Uv=this._renderer.getRenderTarget(),zv=this._renderer.getActiveCubeFace(),Hv=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Iw(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Pw(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Uv,zv,Hv),e.scissorTest=!1,j1(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===co||e.mapping===Ja?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Uv=this._renderer.getRenderTarget(),zv=this._renderer.getActiveCubeFace(),Hv=this._renderer.getActiveMipmapLevel();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Ct,minFilter:Ct,generateMipmaps:!1,type:kr,format:Fr,colorSpace:xi,depthBuffer:!1},i=Rw(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Rw(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=tk(s)),this._blurMaterial=nk(s,e,t)}return i}_compileMaterial(e){const t=new Cn(this._lodPlanes[0],e);this._renderer.compile(t,kv)}_sceneToCubeUV(e,t,r,i){const a=new nr(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,p=u.toneMapping;u.getClearColor(bw),u.toneMapping=so,u.autoClear=!1;const m=new Di({name:"PMREM.Background",side:ri,depthWrite:!1,depthTest:!1}),v=new Cn(new vc,m);let x=!1;const y=e.background;y?y.isColor&&(m.color.copy(y),e.background=null,x=!0):(m.color.copy(bw),x=!0);for(let g=0;g<6;g++){const A=g%3;A===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):A===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const _=this._cubeSize;j1(i,A*_,g>2?_:0,_,_),u.setRenderTarget(i),x&&u.render(v,a),u.render(e,a)}v.geometry.dispose(),v.material.dispose(),u.toneMapping=p,u.autoClear=h,e.background=y}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===co||e.mapping===Ja;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=Iw()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Pw());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Cn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;j1(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,kv)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=Tw[(i-1)%Tw.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new Cn(this._lodPlanes[i],c),p=c.uniforms,m=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Ul-1),x=s/v,y=isFinite(s)?1+Math.floor(u*x):Ul;y>Ul&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Ul}`);const g=[];let A=0;for(let P=0;P<Ul;++P){const D=P/x,V=Math.exp(-D*D/2);g.push(V),P===0?A+=V:P<y&&(A+=2*V)}for(let P=0;P<g.length;P++)g[P]=g[P]/A;p.envMap.value=e.texture,p.samples.value=y,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:_}=this;p.dTheta.value=v,p.mipInt.value=_-r;const M=this._sizeLods[i],R=3*M*(i>_-Mu?i-_+Mu:0),b=4*(this._cubeSize-M);j1(t,R,b,3*M,2*M),l.setRenderTarget(t),l.render(h,kv)}}function tk(n){const e=[],t=[],r=[];let i=n;const s=n-Mu+1+Cw.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-Mu?l=Cw[o-n+Mu-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,h=1+c,p=[u,u,h,u,h,h,u,u,h,h,u,h],m=6,v=6,x=3,y=2,g=1,A=new Float32Array(x*v*m),_=new Float32Array(y*v*m),M=new Float32Array(g*v*m);for(let b=0;b<m;b++){const P=b%3*2/3-1,D=b>2?0:-1,V=[P,D,0,P+2/3,D,0,P+2/3,D+1,0,P,D,0,P+2/3,D+1,0,P,D+1,0];A.set(V,x*v*b),_.set(p,y*v*b);const T=[b,b,b,b,b,b];M.set(T,g*v*b)}const R=new Pt;R.setAttribute("position",new Kt(A,x)),R.setAttribute("uv",new Kt(_,y)),R.setAttribute("faceIndex",new Kt(M,g)),e.push(R),i>Mu&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function Rw(n,e,t){const r=new ms(n,e,t);return r.texture.mapping=mf,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function j1(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function nk(n,e,t){const r=new Float32Array(Ul),i=new Z(0,1,0);return new Gr({name:"SphericalGaussianBlur",defines:{n:Ul,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:d4(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ko,depthTest:!1,depthWrite:!1})}function Pw(){return new Gr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:d4(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ko,depthTest:!1,depthWrite:!1})}function Iw(){return new Gr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:d4(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ko,depthTest:!1,depthWrite:!1})}function d4(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function rk(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===Ku||l===xh,u=l===co||l===Ja;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new u_(n)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(c&&h&&h.height>0||u&&h&&i(h)){t===null&&(t=new u_(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function ik(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?(t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance")):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function sk(n,e,t,r){const i={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);for(const v in p.morphAttributes){const x=p.morphAttributes[v];for(let y=0,g=x.length;y<g;y++)e.remove(x[y])}p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const v in p)e.update(p[v],n.ARRAY_BUFFER);const m=h.morphAttributes;for(const v in m){const x=m[v];for(let y=0,g=x.length;y<g;y++)e.update(x[y],n.ARRAY_BUFFER)}}function c(h){const p=[],m=h.index,v=h.attributes.position;let x=0;if(m!==null){const A=m.array;x=m.version;for(let _=0,M=A.length;_<M;_+=3){const R=A[_+0],b=A[_+1],P=A[_+2];p.push(R,b,b,P,P,R)}}else if(v!==void 0){const A=v.array;x=v.version;for(let _=0,M=A.length/3-1;_<M;_+=3){const R=_+0,b=_+1,P=_+2;p.push(R,b,b,P,P,R)}}else return;const y=new(z8(p)?u4:c4)(p,1);y.version=x;const g=s.get(h);g&&e.remove(g),s.set(h,y)}function u(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:u}}function ok(n,e,t,r){const i=r.isWebGL2;let s;function o(m){s=m}let a,l;function c(m){a=m.type,l=m.bytesPerElement}function u(m,v){n.drawElements(s,v,a,m*l),t.update(v,s,1)}function h(m,v,x){if(x===0)return;let y,g;if(i)y=n,g="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[g](s,v,a,m*l,x),t.update(v,s,x)}function p(m,v,x){if(x===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let g=0;g<x;g++)this.render(m[g]/l,v[g]);else{y.multiDrawElementsWEBGL(s,v,0,a,m,0,x);let g=0;for(let A=0;A<x;A++)g+=v[A];t.update(g,s,1)}}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=h,this.renderMultiDraw=p}function ak(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function lk(n,e){return n[0]-e[0]}function ck(n,e){return Math.abs(e[1])-Math.abs(n[1])}function uk(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new Qt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,h){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=m!==void 0?m.length:0;let x=s.get(u);if(x===void 0||x.count!==v){let W=function(){G.dispose(),s.delete(u),u.removeEventListener("dispose",W)};x!==void 0&&x.texture.dispose();const A=u.morphAttributes.position!==void 0,_=u.morphAttributes.normal!==void 0,M=u.morphAttributes.color!==void 0,R=u.morphAttributes.position||[],b=u.morphAttributes.normal||[],P=u.morphAttributes.color||[];let D=0;A===!0&&(D=1),_===!0&&(D=2),M===!0&&(D=3);let V=u.attributes.position.count*D,T=1;V>e.maxTextureSize&&(T=Math.ceil(V/e.maxTextureSize),V=e.maxTextureSize);const L=new Float32Array(V*T*4*v),G=new pg(L,V,T,v);G.type=rr,G.needsUpdate=!0;const se=D*4;for(let te=0;te<v;te++){const re=R[te],ue=b[te],F=P[te],Y=V*T*4*te;for(let Q=0;Q<re.count;Q++){const fe=Q*se;A===!0&&(o.fromBufferAttribute(re,Q),L[Y+fe+0]=o.x,L[Y+fe+1]=o.y,L[Y+fe+2]=o.z,L[Y+fe+3]=0),_===!0&&(o.fromBufferAttribute(ue,Q),L[Y+fe+4]=o.x,L[Y+fe+5]=o.y,L[Y+fe+6]=o.z,L[Y+fe+7]=0),M===!0&&(o.fromBufferAttribute(F,Q),L[Y+fe+8]=o.x,L[Y+fe+9]=o.y,L[Y+fe+10]=o.z,L[Y+fe+11]=F.itemSize===4?o.w:1)}}x={count:v,texture:G,size:new Ce(V,T)},s.set(u,x),u.addEventListener("dispose",W)}let y=0;for(let A=0;A<p.length;A++)y+=p[A];const g=u.morphTargetsRelative?1:1-y;h.getUniforms().setValue(n,"morphTargetBaseInfluence",g),h.getUniforms().setValue(n,"morphTargetInfluences",p),h.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),h.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const m=p===void 0?0:p.length;let v=r[u.id];if(v===void 0||v.length!==m){v=[];for(let _=0;_<m;_++)v[_]=[_,0];r[u.id]=v}for(let _=0;_<m;_++){const M=v[_];M[0]=_,M[1]=p[_]}v.sort(ck);for(let _=0;_<8;_++)_<m&&v[_][1]?(a[_][0]=v[_][0],a[_][1]=v[_][1]):(a[_][0]=Number.MAX_SAFE_INTEGER,a[_][1]=0);a.sort(lk);const x=u.morphAttributes.position,y=u.morphAttributes.normal;let g=0;for(let _=0;_<8;_++){const M=a[_],R=M[0],b=M[1];R!==Number.MAX_SAFE_INTEGER&&b?(x&&u.getAttribute("morphTarget"+_)!==x[R]&&u.setAttribute("morphTarget"+_,x[R]),y&&u.getAttribute("morphNormal"+_)!==y[R]&&u.setAttribute("morphNormal"+_,y[R]),i[_]=b,g+=b):(x&&u.hasAttribute("morphTarget"+_)===!0&&u.deleteAttribute("morphTarget"+_),y&&u.hasAttribute("morphNormal"+_)===!0&&u.deleteAttribute("morphNormal"+_),i[_]=0)}const A=u.morphTargetsRelative?1:1-g;h.getUniforms().setValue(n,"morphTargetBaseInfluence",A),h.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function fk(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,h=e.get(l,u);if(i.get(h)!==c&&(e.update(h),i.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==c&&(p.update(),i.set(p,c))}return h}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}class mg extends yn{constructor(e,t,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:Ga,u!==Ga&&u!==uc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Ga&&(r=No),r===void 0&&u===uc&&(r=Ha),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:jt,this.minFilter=l!==void 0?l:jt,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const J8=new yn,Y8=new mg(1,1);Y8.compareFunction=s4;const K8=new pg,Z8=new l4,Q8=new Kh,Lw=[],Bw=[],Dw=new Float32Array(16),Nw=new Float32Array(9),Fw=new Float32Array(4);function xf(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=Lw[i];if(s===void 0&&(s=new Float32Array(i),Lw[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function or(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function ar(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function gg(n,e){let t=Bw[e];t===void 0&&(t=new Int32Array(e),Bw[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function dk(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function hk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(or(t,e))return;n.uniform2fv(this.addr,e),ar(t,e)}}function pk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(or(t,e))return;n.uniform3fv(this.addr,e),ar(t,e)}}function mk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(or(t,e))return;n.uniform4fv(this.addr,e),ar(t,e)}}function gk(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(or(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),ar(t,e)}else{if(or(t,r))return;Fw.set(r),n.uniformMatrix2fv(this.addr,!1,Fw),ar(t,r)}}function vk(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(or(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),ar(t,e)}else{if(or(t,r))return;Nw.set(r),n.uniformMatrix3fv(this.addr,!1,Nw),ar(t,r)}}function yk(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(or(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),ar(t,e)}else{if(or(t,r))return;Dw.set(r),n.uniformMatrix4fv(this.addr,!1,Dw),ar(t,r)}}function _k(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function xk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(or(t,e))return;n.uniform2iv(this.addr,e),ar(t,e)}}function Ek(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(or(t,e))return;n.uniform3iv(this.addr,e),ar(t,e)}}function Ak(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(or(t,e))return;n.uniform4iv(this.addr,e),ar(t,e)}}function wk(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Sk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(or(t,e))return;n.uniform2uiv(this.addr,e),ar(t,e)}}function Mk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(or(t,e))return;n.uniform3uiv(this.addr,e),ar(t,e)}}function Ck(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(or(t,e))return;n.uniform4uiv(this.addr,e),ar(t,e)}}function bk(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);const s=this.type===n.SAMPLER_2D_SHADOW?Y8:J8;t.setTexture2D(e||s,i)}function Tk(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||Z8,i)}function Rk(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||Q8,i)}function Pk(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||K8,i)}function Ik(n){switch(n){case 5126:return dk;case 35664:return hk;case 35665:return pk;case 35666:return mk;case 35674:return gk;case 35675:return vk;case 35676:return yk;case 5124:case 35670:return _k;case 35667:case 35671:return xk;case 35668:case 35672:return Ek;case 35669:case 35673:return Ak;case 5125:return wk;case 36294:return Sk;case 36295:return Mk;case 36296:return Ck;case 35678:case 36198:case 36298:case 36306:case 35682:return bk;case 35679:case 36299:case 36307:return Tk;case 35680:case 36300:case 36308:case 36293:return Rk;case 36289:case 36303:case 36311:case 36292:return Pk}}function Lk(n,e){n.uniform1fv(this.addr,e)}function Bk(n,e){const t=xf(e,this.size,2);n.uniform2fv(this.addr,t)}function Dk(n,e){const t=xf(e,this.size,3);n.uniform3fv(this.addr,t)}function Nk(n,e){const t=xf(e,this.size,4);n.uniform4fv(this.addr,t)}function Fk(n,e){const t=xf(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Ok(n,e){const t=xf(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function kk(n,e){const t=xf(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Uk(n,e){n.uniform1iv(this.addr,e)}function zk(n,e){n.uniform2iv(this.addr,e)}function Hk(n,e){n.uniform3iv(this.addr,e)}function Gk(n,e){n.uniform4iv(this.addr,e)}function Vk(n,e){n.uniform1uiv(this.addr,e)}function Wk(n,e){n.uniform2uiv(this.addr,e)}function jk(n,e){n.uniform3uiv(this.addr,e)}function $k(n,e){n.uniform4uiv(this.addr,e)}function Xk(n,e,t){const r=this.cache,i=e.length,s=gg(t,i);or(r,s)||(n.uniform1iv(this.addr,s),ar(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||J8,s[o])}function Jk(n,e,t){const r=this.cache,i=e.length,s=gg(t,i);or(r,s)||(n.uniform1iv(this.addr,s),ar(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||Z8,s[o])}function Yk(n,e,t){const r=this.cache,i=e.length,s=gg(t,i);or(r,s)||(n.uniform1iv(this.addr,s),ar(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||Q8,s[o])}function Kk(n,e,t){const r=this.cache,i=e.length,s=gg(t,i);or(r,s)||(n.uniform1iv(this.addr,s),ar(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||K8,s[o])}function Zk(n){switch(n){case 5126:return Lk;case 35664:return Bk;case 35665:return Dk;case 35666:return Nk;case 35674:return Fk;case 35675:return Ok;case 35676:return kk;case 5124:case 35670:return Uk;case 35667:case 35671:return zk;case 35668:case 35672:return Hk;case 35669:case 35673:return Gk;case 5125:return Vk;case 36294:return Wk;case 36295:return jk;case 36296:return $k;case 35678:case 36198:case 36298:case 36306:case 35682:return Xk;case 35679:case 36299:case 36307:return Jk;case 35680:case 36300:case 36308:case 36293:return Yk;case 36289:case 36303:case 36311:case 36292:return Kk}}class Qk{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=Ik(t.type)}}class qk{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Zk(t.type)}}class eU{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const Gv=/(\w+)(\])?(\[|\.)?/g;function Ow(n,e){n.seq.push(e),n.map[e.id]=e}function tU(n,e,t){const r=n.name,i=r.length;for(Gv.lastIndex=0;;){const s=Gv.exec(r),o=Gv.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){Ow(t,c===void 0?new Qk(a,n,e):new qk(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new eU(a),Ow(t,h)),t=h}}}class J0{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);tU(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function kw(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const nU=37297;let rU=0;function iU(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function sU(n){const e=an.getPrimaries(an.workingColorSpace),t=an.getPrimaries(n);let r;switch(e===t?r="":e===Mh&&t===Sh?r="LinearDisplayP3ToLinearSRGB":e===Sh&&t===Mh&&(r="LinearSRGBToLinearDisplayP3"),n){case xi:case Xh:return[r,"LinearTransferOETF"];case un:case hg:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[r,"LinearTransferOETF"]}}function Uw(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+iU(n.getShaderSource(e),o)}else return i}function oU(n,e){const t=sU(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function aU(n,e){let t;switch(e){case h8:t="Linear";break;case p8:t="Reinhard";break;case m8:t="OptimizedCineon";break;case Xx:t="ACESFilmic";break;case v8:t="AgX";break;case g8:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function lU(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.alphaToCoverage||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Cu).join(`
`)}function cU(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Cu).join(`
`)}function uU(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function fU(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Cu(n){return n!==""}function zw(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Hw(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const dU=/^[ \t]*#include +<([\w\d./]+)>/gm;function f_(n){return n.replace(dU,pU)}const hU=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function pU(n,e){let t=kt[e];if(t===void 0){const r=hU.get(e);if(r!==void 0)t=kt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return f_(t)}const mU=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Gw(n){return n.replace(mU,gU)}function gU(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function Vw(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	`;return n.isWebGL2&&(e+=`precision ${n.precision} sampler3D;
		precision ${n.precision} sampler2DArray;
		precision ${n.precision} sampler2DShadow;
		precision ${n.precision} samplerCubeShadow;
		precision ${n.precision} sampler2DArrayShadow;
		precision ${n.precision} isampler2D;
		precision ${n.precision} isampler3D;
		precision ${n.precision} isamplerCube;
		precision ${n.precision} isampler2DArray;
		precision ${n.precision} usampler2D;
		precision ${n.precision} usampler3D;
		precision ${n.precision} usamplerCube;
		precision ${n.precision} usampler2DArray;
		`),n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function vU(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===cg?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===$d?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ts&&(e="SHADOWMAP_TYPE_VSM"),e}function yU(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case co:case Ja:e="ENVMAP_TYPE_CUBE";break;case mf:e="ENVMAP_TYPE_CUBE_UV";break}return e}function _U(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Ja:e="ENVMAP_MODE_REFRACTION";break}return e}function xU(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case $h:e="ENVMAP_BLENDING_MULTIPLY";break;case f8:e="ENVMAP_BLENDING_MIX";break;case d8:e="ENVMAP_BLENDING_ADD";break}return e}function EU(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function AU(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=vU(t),c=yU(t),u=_U(t),h=xU(t),p=EU(t),m=t.isWebGL2?"":lU(t),v=cU(t),x=uU(s),y=i.createProgram();let g,A,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(Cu).join(`
`),g.length>0&&(g+=`
`),A=[m,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(Cu).join(`
`),A.length>0&&(A+=`
`)):(g=[Vw(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Cu).join(`
`),A=[m,Vw(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==so?"#define TONE_MAPPING":"",t.toneMapping!==so?kt.tonemapping_pars_fragment:"",t.toneMapping!==so?aU("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",kt.colorspace_pars_fragment,oU("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Cu).join(`
`)),o=f_(o),o=zw(o,t),o=Hw(o,t),a=f_(a),a=zw(a,t),a=Hw(a,t),o=Gw(o),a=Gw(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,g=[v,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,A=["precision mediump sampler2DArray;","#define varying in",t.glslVersion===l_?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===l_?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+A);const M=_+g+o,R=_+A+a,b=kw(i,i.VERTEX_SHADER,M),P=kw(i,i.FRAGMENT_SHADER,R);i.attachShader(y,b),i.attachShader(y,P),t.index0AttributeName!==void 0?i.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);function D(G){if(n.debug.checkShaderErrors){const se=i.getProgramInfoLog(y).trim(),W=i.getShaderInfoLog(b).trim(),te=i.getShaderInfoLog(P).trim();let re=!0,ue=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(re=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,y,b,P);else{const F=Uw(i,b,"vertex"),Y=Uw(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Material Name: `+G.name+`
Material Type: `+G.type+`

Program Info Log: `+se+`
`+F+`
`+Y)}else se!==""?console.warn("THREE.WebGLProgram: Program Info Log:",se):(W===""||te==="")&&(ue=!1);ue&&(G.diagnostics={runnable:re,programLog:se,vertexShader:{log:W,prefix:g},fragmentShader:{log:te,prefix:A}})}i.deleteShader(b),i.deleteShader(P),V=new J0(i,y),T=fU(i,y)}let V;this.getUniforms=function(){return V===void 0&&D(this),V};let T;this.getAttributes=function(){return T===void 0&&D(this),T};let L=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return L===!1&&(L=i.getProgramParameter(y,nU)),L},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=rU++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=b,this.fragmentShader=P,this}let wU=0;class SU{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new MU(e),t.set(e,r)),r}}class MU{constructor(e){this.id=wU++,this.code=e,this.usedTimes=0}}function CU(n,e,t,r,i,s,o){const a=new ec,l=new SU,c=new Set,u=[],h=i.isWebGL2,p=i.logarithmicDepthBuffer,m=i.vertexTextures;let v=i.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(T){return c.add(T),T===0?"uv":`uv${T}`}function g(T,L,G,se,W){const te=se.fog,re=W.geometry,ue=T.isMeshStandardMaterial?se.environment:null,F=(T.isMeshStandardMaterial?t:e).get(T.envMap||ue),Y=F&&F.mapping===mf?F.image.height:null,Q=x[T.type];T.precision!==null&&(v=i.getMaxPrecision(T.precision),v!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",v,"instead."));const fe=re.morphAttributes.position||re.morphAttributes.normal||re.morphAttributes.color,xe=fe!==void 0?fe.length:0;let Oe=0;re.morphAttributes.position!==void 0&&(Oe=1),re.morphAttributes.normal!==void 0&&(Oe=2),re.morphAttributes.color!==void 0&&(Oe=3);let X,j,H,z;if(Q){const rn=Is[Q];X=rn.vertexShader,j=rn.fragmentShader}else X=T.vertexShader,j=T.fragmentShader,l.update(T),H=l.getVertexShaderID(T),z=l.getFragmentShaderID(T);const ve=n.getRenderTarget(),be=W.isInstancedMesh===!0,Ee=W.isBatchedMesh===!0,Te=!!T.map,J=!!T.matcap,Ae=!!F,ae=!!T.aoMap,me=!!T.lightMap,ye=!!T.bumpMap,De=!!T.normalMap,oe=!!T.displacementMap,I=!!T.emissiveMap,k=!!T.metalnessMap,he=!!T.roughnessMap,Ne=T.anisotropy>0,ge=T.clearcoat>0,we=T.iridescence>0,Ge=T.sheen>0,Ue=T.transmission>0,Je=Ne&&!!T.anisotropyMap,st=ge&&!!T.clearcoatMap,ut=ge&&!!T.clearcoatNormalMap,Fe=ge&&!!T.clearcoatRoughnessMap,Dt=we&&!!T.iridescenceMap,St=we&&!!T.iridescenceThicknessMap,ft=Ge&&!!T.sheenColorMap,Ze=Ge&&!!T.sheenRoughnessMap,et=!!T.specularMap,gt=!!T.specularColorMap,At=!!T.specularIntensityMap,bt=Ue&&!!T.transmissionMap,Ut=Ue&&!!T.thicknessMap,He=!!T.gradientMap,ne=!!T.alphaMap,je=T.alphaTest>0,$e=!!T.alphaHash,ct=!!T.extensions;let mt=so;T.toneMapped&&(ve===null||ve.isXRRenderTarget===!0)&&(mt=n.toneMapping);const Zt={isWebGL2:h,shaderID:Q,shaderType:T.type,shaderName:T.name,vertexShader:X,fragmentShader:j,defines:T.defines,customVertexShaderID:H,customFragmentShaderID:z,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:v,batching:Ee,instancing:be,instancingColor:be&&W.instanceColor!==null,supportsVertexTextures:m,outputColorSpace:ve===null?n.outputColorSpace:ve.isXRRenderTarget===!0?ve.texture.colorSpace:xi,alphaToCoverage:!!T.alphaToCoverage,map:Te,matcap:J,envMap:Ae,envMapMode:Ae&&F.mapping,envMapCubeUVHeight:Y,aoMap:ae,lightMap:me,bumpMap:ye,normalMap:De,displacementMap:m&&oe,emissiveMap:I,normalMapObjectSpace:De&&T.normalMapType===L8,normalMapTangentSpace:De&&T.normalMapType===al,metalnessMap:k,roughnessMap:he,anisotropy:Ne,anisotropyMap:Je,clearcoat:ge,clearcoatMap:st,clearcoatNormalMap:ut,clearcoatRoughnessMap:Fe,iridescence:we,iridescenceMap:Dt,iridescenceThicknessMap:St,sheen:Ge,sheenColorMap:ft,sheenRoughnessMap:Ze,specularMap:et,specularColorMap:gt,specularIntensityMap:At,transmission:Ue,transmissionMap:bt,thicknessMap:Ut,gradientMap:He,opaque:T.transparent===!1&&T.blending===Uo&&T.alphaToCoverage===!1,alphaMap:ne,alphaTest:je,alphaHash:$e,combine:T.combine,mapUv:Te&&y(T.map.channel),aoMapUv:ae&&y(T.aoMap.channel),lightMapUv:me&&y(T.lightMap.channel),bumpMapUv:ye&&y(T.bumpMap.channel),normalMapUv:De&&y(T.normalMap.channel),displacementMapUv:oe&&y(T.displacementMap.channel),emissiveMapUv:I&&y(T.emissiveMap.channel),metalnessMapUv:k&&y(T.metalnessMap.channel),roughnessMapUv:he&&y(T.roughnessMap.channel),anisotropyMapUv:Je&&y(T.anisotropyMap.channel),clearcoatMapUv:st&&y(T.clearcoatMap.channel),clearcoatNormalMapUv:ut&&y(T.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Fe&&y(T.clearcoatRoughnessMap.channel),iridescenceMapUv:Dt&&y(T.iridescenceMap.channel),iridescenceThicknessMapUv:St&&y(T.iridescenceThicknessMap.channel),sheenColorMapUv:ft&&y(T.sheenColorMap.channel),sheenRoughnessMapUv:Ze&&y(T.sheenRoughnessMap.channel),specularMapUv:et&&y(T.specularMap.channel),specularColorMapUv:gt&&y(T.specularColorMap.channel),specularIntensityMapUv:At&&y(T.specularIntensityMap.channel),transmissionMapUv:bt&&y(T.transmissionMap.channel),thicknessMapUv:Ut&&y(T.thicknessMap.channel),alphaMapUv:ne&&y(T.alphaMap.channel),vertexTangents:!!re.attributes.tangent&&(De||Ne),vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!re.attributes.color&&re.attributes.color.itemSize===4,pointsUvs:W.isPoints===!0&&!!re.attributes.uv&&(Te||ne),fog:!!te,useFog:T.fog===!0,fogExp2:!!te&&te.isFogExp2,flatShading:T.flatShading===!0,sizeAttenuation:T.sizeAttenuation===!0,logarithmicDepthBuffer:p,skinning:W.isSkinnedMesh===!0,morphTargets:re.morphAttributes.position!==void 0,morphNormals:re.morphAttributes.normal!==void 0,morphColors:re.morphAttributes.color!==void 0,morphTargetsCount:xe,morphTextureStride:Oe,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numLightProbes:L.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:T.dithering,shadowMapEnabled:n.shadowMap.enabled&&G.length>0,shadowMapType:n.shadowMap.type,toneMapping:mt,useLegacyLights:n._useLegacyLights,decodeVideoTexture:Te&&T.map.isVideoTexture===!0&&an.getTransfer(T.map.colorSpace)===gn,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===qr,flipSided:T.side===ri,useDepthPacking:T.depthPacking>=0,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionDerivatives:ct&&T.extensions.derivatives===!0,extensionFragDepth:ct&&T.extensions.fragDepth===!0,extensionDrawBuffers:ct&&T.extensions.drawBuffers===!0,extensionShaderTextureLOD:ct&&T.extensions.shaderTextureLOD===!0,extensionClipCullDistance:ct&&T.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:ct&&T.extensions.multiDraw===!0&&r.has("WEBGL_multi_draw"),rendererExtensionFragDepth:h||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:T.customProgramCacheKey()};return Zt.vertexUv1s=c.has(1),Zt.vertexUv2s=c.has(2),Zt.vertexUv3s=c.has(3),c.clear(),Zt}function A(T){const L=[];if(T.shaderID?L.push(T.shaderID):(L.push(T.customVertexShaderID),L.push(T.customFragmentShaderID)),T.defines!==void 0)for(const G in T.defines)L.push(G),L.push(T.defines[G]);return T.isRawShaderMaterial===!1&&(_(L,T),M(L,T),L.push(n.outputColorSpace)),L.push(T.customProgramCacheKey),L.join()}function _(T,L){T.push(L.precision),T.push(L.outputColorSpace),T.push(L.envMapMode),T.push(L.envMapCubeUVHeight),T.push(L.mapUv),T.push(L.alphaMapUv),T.push(L.lightMapUv),T.push(L.aoMapUv),T.push(L.bumpMapUv),T.push(L.normalMapUv),T.push(L.displacementMapUv),T.push(L.emissiveMapUv),T.push(L.metalnessMapUv),T.push(L.roughnessMapUv),T.push(L.anisotropyMapUv),T.push(L.clearcoatMapUv),T.push(L.clearcoatNormalMapUv),T.push(L.clearcoatRoughnessMapUv),T.push(L.iridescenceMapUv),T.push(L.iridescenceThicknessMapUv),T.push(L.sheenColorMapUv),T.push(L.sheenRoughnessMapUv),T.push(L.specularMapUv),T.push(L.specularColorMapUv),T.push(L.specularIntensityMapUv),T.push(L.transmissionMapUv),T.push(L.thicknessMapUv),T.push(L.combine),T.push(L.fogExp2),T.push(L.sizeAttenuation),T.push(L.morphTargetsCount),T.push(L.morphAttributeCount),T.push(L.numDirLights),T.push(L.numPointLights),T.push(L.numSpotLights),T.push(L.numSpotLightMaps),T.push(L.numHemiLights),T.push(L.numRectAreaLights),T.push(L.numDirLightShadows),T.push(L.numPointLightShadows),T.push(L.numSpotLightShadows),T.push(L.numSpotLightShadowsWithMaps),T.push(L.numLightProbes),T.push(L.shadowMapType),T.push(L.toneMapping),T.push(L.numClippingPlanes),T.push(L.numClipIntersection),T.push(L.depthPacking)}function M(T,L){a.disableAll(),L.isWebGL2&&a.enable(0),L.supportsVertexTextures&&a.enable(1),L.instancing&&a.enable(2),L.instancingColor&&a.enable(3),L.matcap&&a.enable(4),L.envMap&&a.enable(5),L.normalMapObjectSpace&&a.enable(6),L.normalMapTangentSpace&&a.enable(7),L.clearcoat&&a.enable(8),L.iridescence&&a.enable(9),L.alphaTest&&a.enable(10),L.vertexColors&&a.enable(11),L.vertexAlphas&&a.enable(12),L.vertexUv1s&&a.enable(13),L.vertexUv2s&&a.enable(14),L.vertexUv3s&&a.enable(15),L.vertexTangents&&a.enable(16),L.anisotropy&&a.enable(17),L.alphaHash&&a.enable(18),L.batching&&a.enable(19),T.push(a.mask),a.disableAll(),L.fog&&a.enable(0),L.useFog&&a.enable(1),L.flatShading&&a.enable(2),L.logarithmicDepthBuffer&&a.enable(3),L.skinning&&a.enable(4),L.morphTargets&&a.enable(5),L.morphNormals&&a.enable(6),L.morphColors&&a.enable(7),L.premultipliedAlpha&&a.enable(8),L.shadowMapEnabled&&a.enable(9),L.useLegacyLights&&a.enable(10),L.doubleSided&&a.enable(11),L.flipSided&&a.enable(12),L.useDepthPacking&&a.enable(13),L.dithering&&a.enable(14),L.transmission&&a.enable(15),L.sheen&&a.enable(16),L.opaque&&a.enable(17),L.pointsUvs&&a.enable(18),L.decodeVideoTexture&&a.enable(19),L.alphaToCoverage&&a.enable(20),T.push(a.mask)}function R(T){const L=x[T.type];let G;if(L){const se=Is[L];G=j8.clone(se.uniforms)}else G=T.uniforms;return G}function b(T,L){let G;for(let se=0,W=u.length;se<W;se++){const te=u[se];if(te.cacheKey===L){G=te,++G.usedTimes;break}}return G===void 0&&(G=new AU(n,L,T,s),u.push(G)),G}function P(T){if(--T.usedTimes===0){const L=u.indexOf(T);u[L]=u[u.length-1],u.pop(),T.destroy()}}function D(T){l.remove(T)}function V(){l.dispose()}return{getParameters:g,getProgramCacheKey:A,getUniforms:R,acquireProgram:b,releaseProgram:P,releaseShaderCache:D,programs:u,dispose:V}}function bU(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function TU(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Ww(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function jw(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(h,p,m,v,x,y){let g=n[e];return g===void 0?(g={id:h.id,object:h,geometry:p,material:m,groupOrder:v,renderOrder:h.renderOrder,z:x,group:y},n[e]=g):(g.id=h.id,g.object=h,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=h.renderOrder,g.z=x,g.group=y),e++,g}function a(h,p,m,v,x,y){const g=o(h,p,m,v,x,y);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):t.push(g)}function l(h,p,m,v,x,y){const g=o(h,p,m,v,x,y);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):t.unshift(g)}function c(h,p){t.length>1&&t.sort(h||TU),r.length>1&&r.sort(p||Ww),i.length>1&&i.sort(p||Ww)}function u(){for(let h=e,p=n.length;h<p;h++){const m=n[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function RU(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new jw,n.set(r,[o])):i>=s.length?(o=new jw,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function PU(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Z,color:new Xe};break;case"SpotLight":t={position:new Z,direction:new Z,color:new Xe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Z,color:new Xe,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Z,skyColor:new Xe,groundColor:new Xe};break;case"RectAreaLight":t={color:new Xe,position:new Z,halfWidth:new Z,halfHeight:new Z};break}return n[e.id]=t,t}}}function IU(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ce};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ce};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ce,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let LU=0;function BU(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function DU(n,e){const t=new PU,r=IU(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new Z);const s=new Z,o=new yt,a=new yt;function l(u,h){let p=0,m=0,v=0;for(let G=0;G<9;G++)i.probe[G].set(0,0,0);let x=0,y=0,g=0,A=0,_=0,M=0,R=0,b=0,P=0,D=0,V=0;u.sort(BU);const T=h===!0?Math.PI:1;for(let G=0,se=u.length;G<se;G++){const W=u[G],te=W.color,re=W.intensity,ue=W.distance,F=W.shadow&&W.shadow.map?W.shadow.map.texture:null;if(W.isAmbientLight)p+=te.r*re*T,m+=te.g*re*T,v+=te.b*re*T;else if(W.isLightProbe){for(let Y=0;Y<9;Y++)i.probe[Y].addScaledVector(W.sh.coefficients[Y],re);V++}else if(W.isDirectionalLight){const Y=t.get(W);if(Y.color.copy(W.color).multiplyScalar(W.intensity*T),W.castShadow){const Q=W.shadow,fe=r.get(W);fe.shadowBias=Q.bias,fe.shadowNormalBias=Q.normalBias,fe.shadowRadius=Q.radius,fe.shadowMapSize=Q.mapSize,i.directionalShadow[x]=fe,i.directionalShadowMap[x]=F,i.directionalShadowMatrix[x]=W.shadow.matrix,M++}i.directional[x]=Y,x++}else if(W.isSpotLight){const Y=t.get(W);Y.position.setFromMatrixPosition(W.matrixWorld),Y.color.copy(te).multiplyScalar(re*T),Y.distance=ue,Y.coneCos=Math.cos(W.angle),Y.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),Y.decay=W.decay,i.spot[g]=Y;const Q=W.shadow;if(W.map&&(i.spotLightMap[P]=W.map,P++,Q.updateMatrices(W),W.castShadow&&D++),i.spotLightMatrix[g]=Q.matrix,W.castShadow){const fe=r.get(W);fe.shadowBias=Q.bias,fe.shadowNormalBias=Q.normalBias,fe.shadowRadius=Q.radius,fe.shadowMapSize=Q.mapSize,i.spotShadow[g]=fe,i.spotShadowMap[g]=F,b++}g++}else if(W.isRectAreaLight){const Y=t.get(W);Y.color.copy(te).multiplyScalar(re),Y.halfWidth.set(W.width*.5,0,0),Y.halfHeight.set(0,W.height*.5,0),i.rectArea[A]=Y,A++}else if(W.isPointLight){const Y=t.get(W);if(Y.color.copy(W.color).multiplyScalar(W.intensity*T),Y.distance=W.distance,Y.decay=W.decay,W.castShadow){const Q=W.shadow,fe=r.get(W);fe.shadowBias=Q.bias,fe.shadowNormalBias=Q.normalBias,fe.shadowRadius=Q.radius,fe.shadowMapSize=Q.mapSize,fe.shadowCameraNear=Q.camera.near,fe.shadowCameraFar=Q.camera.far,i.pointShadow[y]=fe,i.pointShadowMap[y]=F,i.pointShadowMatrix[y]=W.shadow.matrix,R++}i.point[y]=Y,y++}else if(W.isHemisphereLight){const Y=t.get(W);Y.skyColor.copy(W.color).multiplyScalar(re*T),Y.groundColor.copy(W.groundColor).multiplyScalar(re*T),i.hemi[_]=Y,_++}}A>0&&(e.isWebGL2?n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ke.LTC_FLOAT_1,i.rectAreaLTC2=Ke.LTC_FLOAT_2):(i.rectAreaLTC1=Ke.LTC_HALF_1,i.rectAreaLTC2=Ke.LTC_HALF_2):n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ke.LTC_FLOAT_1,i.rectAreaLTC2=Ke.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ke.LTC_HALF_1,i.rectAreaLTC2=Ke.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=v;const L=i.hash;(L.directionalLength!==x||L.pointLength!==y||L.spotLength!==g||L.rectAreaLength!==A||L.hemiLength!==_||L.numDirectionalShadows!==M||L.numPointShadows!==R||L.numSpotShadows!==b||L.numSpotMaps!==P||L.numLightProbes!==V)&&(i.directional.length=x,i.spot.length=g,i.rectArea.length=A,i.point.length=y,i.hemi.length=_,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=R,i.pointShadowMap.length=R,i.spotShadow.length=b,i.spotShadowMap.length=b,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=R,i.spotLightMatrix.length=b+P-D,i.spotLightMap.length=P,i.numSpotLightShadowsWithMaps=D,i.numLightProbes=V,L.directionalLength=x,L.pointLength=y,L.spotLength=g,L.rectAreaLength=A,L.hemiLength=_,L.numDirectionalShadows=M,L.numPointShadows=R,L.numSpotShadows=b,L.numSpotMaps=P,L.numLightProbes=V,i.version=LU++)}function c(u,h){let p=0,m=0,v=0,x=0,y=0;const g=h.matrixWorldInverse;for(let A=0,_=u.length;A<_;A++){const M=u[A];if(M.isDirectionalLight){const R=i.directional[p];R.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(g),p++}else if(M.isSpotLight){const R=i.spot[v];R.position.setFromMatrixPosition(M.matrixWorld),R.position.applyMatrix4(g),R.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(g),v++}else if(M.isRectAreaLight){const R=i.rectArea[x];R.position.setFromMatrixPosition(M.matrixWorld),R.position.applyMatrix4(g),a.identity(),o.copy(M.matrixWorld),o.premultiply(g),a.extractRotation(o),R.halfWidth.set(M.width*.5,0,0),R.halfHeight.set(0,M.height*.5,0),R.halfWidth.applyMatrix4(a),R.halfHeight.applyMatrix4(a),x++}else if(M.isPointLight){const R=i.point[m];R.position.setFromMatrixPosition(M.matrixWorld),R.position.applyMatrix4(g),m++}else if(M.isHemisphereLight){const R=i.hemi[y];R.direction.setFromMatrixPosition(M.matrixWorld),R.direction.transformDirection(g),y++}}}return{setup:l,setupView:c,state:i}}function $w(n,e){const t=new DU(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(h){r.push(h)}function a(h){i.push(h)}function l(h){t.setup(r,h)}function c(h){t.setupView(r,h)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function NU(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new $w(n,e),t.set(s,[l])):o>=a.length?(l=new $w(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class h4 extends Qn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=P8,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class p4 extends Qn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const FU=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,OU=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function kU(n,e,t){let r=new Zh;const i=new Ce,s=new Ce,o=new Qt,a=new h4({depthPacking:I8}),l=new p4,c={},u=t.maxTextureSize,h={[lo]:ri,[ri]:lo,[qr]:qr},p=new Gr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ce},radius:{value:4}},vertexShader:FU,fragmentShader:OU}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new Pt;v.setAttribute("position",new Kt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new Cn(v,p),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=cg;let g=this.type;this.render=function(b,P,D){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||b.length===0)return;const V=n.getRenderTarget(),T=n.getActiveCubeFace(),L=n.getActiveMipmapLevel(),G=n.state;G.setBlending(ko),G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);const se=g!==Ts&&this.type===Ts,W=g===Ts&&this.type!==Ts;for(let te=0,re=b.length;te<re;te++){const ue=b[te],F=ue.shadow;if(F===void 0){console.warn("THREE.WebGLShadowMap:",ue,"has no shadow.");continue}if(F.autoUpdate===!1&&F.needsUpdate===!1)continue;i.copy(F.mapSize);const Y=F.getFrameExtents();if(i.multiply(Y),s.copy(F.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/Y.x),i.x=s.x*Y.x,F.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/Y.y),i.y=s.y*Y.y,F.mapSize.y=s.y)),F.map===null||se===!0||W===!0){const fe=this.type!==Ts?{minFilter:jt,magFilter:jt}:{};F.map!==null&&F.map.dispose(),F.map=new ms(i.x,i.y,fe),F.map.texture.name=ue.name+".shadowMap",F.camera.updateProjectionMatrix()}n.setRenderTarget(F.map),n.clear();const Q=F.getViewportCount();for(let fe=0;fe<Q;fe++){const xe=F.getViewport(fe);o.set(s.x*xe.x,s.y*xe.y,s.x*xe.z,s.y*xe.w),G.viewport(o),F.updateMatrices(ue,fe),r=F.getFrustum(),M(P,D,F.camera,ue,this.type)}F.isPointLightShadow!==!0&&this.type===Ts&&A(F,D),F.needsUpdate=!1}g=this.type,y.needsUpdate=!1,n.setRenderTarget(V,T,L)};function A(b,P){const D=e.update(x);p.defines.VSM_SAMPLES!==b.blurSamples&&(p.defines.VSM_SAMPLES=b.blurSamples,m.defines.VSM_SAMPLES=b.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),b.mapPass===null&&(b.mapPass=new ms(i.x,i.y)),p.uniforms.shadow_pass.value=b.map.texture,p.uniforms.resolution.value=b.mapSize,p.uniforms.radius.value=b.radius,n.setRenderTarget(b.mapPass),n.clear(),n.renderBufferDirect(P,null,D,p,x,null),m.uniforms.shadow_pass.value=b.mapPass.texture,m.uniforms.resolution.value=b.mapSize,m.uniforms.radius.value=b.radius,n.setRenderTarget(b.map),n.clear(),n.renderBufferDirect(P,null,D,m,x,null)}function _(b,P,D,V){let T=null;const L=D.isPointLight===!0?b.customDistanceMaterial:b.customDepthMaterial;if(L!==void 0)T=L;else if(T=D.isPointLight===!0?l:a,n.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const G=T.uuid,se=P.uuid;let W=c[G];W===void 0&&(W={},c[G]=W);let te=W[se];te===void 0&&(te=T.clone(),W[se]=te,P.addEventListener("dispose",R)),T=te}if(T.visible=P.visible,T.wireframe=P.wireframe,V===Ts?T.side=P.shadowSide!==null?P.shadowSide:P.side:T.side=P.shadowSide!==null?P.shadowSide:h[P.side],T.alphaMap=P.alphaMap,T.alphaTest=P.alphaTest,T.map=P.map,T.clipShadows=P.clipShadows,T.clippingPlanes=P.clippingPlanes,T.clipIntersection=P.clipIntersection,T.displacementMap=P.displacementMap,T.displacementScale=P.displacementScale,T.displacementBias=P.displacementBias,T.wireframeLinewidth=P.wireframeLinewidth,T.linewidth=P.linewidth,D.isPointLight===!0&&T.isMeshDistanceMaterial===!0){const G=n.properties.get(T);G.light=D}return T}function M(b,P,D,V,T){if(b.visible===!1)return;if(b.layers.test(P.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&T===Ts)&&(!b.frustumCulled||r.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,b.matrixWorld);const se=e.update(b),W=b.material;if(Array.isArray(W)){const te=se.groups;for(let re=0,ue=te.length;re<ue;re++){const F=te[re],Y=W[F.materialIndex];if(Y&&Y.visible){const Q=_(b,Y,V,T);b.onBeforeShadow(n,b,P,D,se,Q,F),n.renderBufferDirect(D,null,se,Q,b,F),b.onAfterShadow(n,b,P,D,se,Q,F)}}}else if(W.visible){const te=_(b,W,V,T);b.onBeforeShadow(n,b,P,D,se,te,null),n.renderBufferDirect(D,null,se,te,b,null),b.onAfterShadow(n,b,P,D,se,te,null)}}const G=b.children;for(let se=0,W=G.length;se<W;se++)M(G[se],P,D,V,T)}function R(b){b.target.removeEventListener("dispose",R);for(const D in c){const V=c[D],T=b.target.uuid;T in V&&(V[T].dispose(),delete V[T])}}}function UU(n,e,t){const r=t.isWebGL2;function i(){let ne=!1;const je=new Qt;let $e=null;const ct=new Qt(0,0,0,0);return{setMask:function(mt){$e!==mt&&!ne&&(n.colorMask(mt,mt,mt,mt),$e=mt)},setLocked:function(mt){ne=mt},setClear:function(mt,Zt,rn,Fn,gr){gr===!0&&(mt*=Fn,Zt*=Fn,rn*=Fn),je.set(mt,Zt,rn,Fn),ct.equals(je)===!1&&(n.clearColor(mt,Zt,rn,Fn),ct.copy(je))},reset:function(){ne=!1,$e=null,ct.set(-1,0,0,0)}}}function s(){let ne=!1,je=null,$e=null,ct=null;return{setTest:function(mt){mt?be(n.DEPTH_TEST):Ee(n.DEPTH_TEST)},setMask:function(mt){je!==mt&&!ne&&(n.depthMask(mt),je=mt)},setFunc:function(mt){if($e!==mt){switch(mt){case i8:n.depthFunc(n.NEVER);break;case s8:n.depthFunc(n.ALWAYS);break;case o8:n.depthFunc(n.LESS);break;case _h:n.depthFunc(n.LEQUAL);break;case a8:n.depthFunc(n.EQUAL);break;case l8:n.depthFunc(n.GEQUAL);break;case c8:n.depthFunc(n.GREATER);break;case u8:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}$e=mt}},setLocked:function(mt){ne=mt},setClear:function(mt){ct!==mt&&(n.clearDepth(mt),ct=mt)},reset:function(){ne=!1,je=null,$e=null,ct=null}}}function o(){let ne=!1,je=null,$e=null,ct=null,mt=null,Zt=null,rn=null,Fn=null,gr=null;return{setTest:function(sn){ne||(sn?be(n.STENCIL_TEST):Ee(n.STENCIL_TEST))},setMask:function(sn){je!==sn&&!ne&&(n.stencilMask(sn),je=sn)},setFunc:function(sn,qn,oi){($e!==sn||ct!==qn||mt!==oi)&&(n.stencilFunc(sn,qn,oi),$e=sn,ct=qn,mt=oi)},setOp:function(sn,qn,oi){(Zt!==sn||rn!==qn||Fn!==oi)&&(n.stencilOp(sn,qn,oi),Zt=sn,rn=qn,Fn=oi)},setLocked:function(sn){ne=sn},setClear:function(sn){gr!==sn&&(n.clearStencil(sn),gr=sn)},reset:function(){ne=!1,je=null,$e=null,ct=null,mt=null,Zt=null,rn=null,Fn=null,gr=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,h=new WeakMap;let p={},m={},v=new WeakMap,x=[],y=null,g=!1,A=null,_=null,M=null,R=null,b=null,P=null,D=null,V=new Xe(0,0,0),T=0,L=!1,G=null,se=null,W=null,te=null,re=null;const ue=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let F=!1,Y=0;const Q=n.getParameter(n.VERSION);Q.indexOf("WebGL")!==-1?(Y=parseFloat(/^WebGL (\d)/.exec(Q)[1]),F=Y>=1):Q.indexOf("OpenGL ES")!==-1&&(Y=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),F=Y>=2);let fe=null,xe={};const Oe=n.getParameter(n.SCISSOR_BOX),X=n.getParameter(n.VIEWPORT),j=new Qt().fromArray(Oe),H=new Qt().fromArray(X);function z(ne,je,$e,ct){const mt=new Uint8Array(4),Zt=n.createTexture();n.bindTexture(ne,Zt),n.texParameteri(ne,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(ne,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let rn=0;rn<$e;rn++)r&&(ne===n.TEXTURE_3D||ne===n.TEXTURE_2D_ARRAY)?n.texImage3D(je,0,n.RGBA,1,1,ct,0,n.RGBA,n.UNSIGNED_BYTE,mt):n.texImage2D(je+rn,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,mt);return Zt}const ve={};ve[n.TEXTURE_2D]=z(n.TEXTURE_2D,n.TEXTURE_2D,1),ve[n.TEXTURE_CUBE_MAP]=z(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(ve[n.TEXTURE_2D_ARRAY]=z(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ve[n.TEXTURE_3D]=z(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),be(n.DEPTH_TEST),l.setFunc(_h),oe(!1),I(T3),be(n.CULL_FACE),ye(ko);function be(ne){p[ne]!==!0&&(n.enable(ne),p[ne]=!0)}function Ee(ne){p[ne]!==!1&&(n.disable(ne),p[ne]=!1)}function Te(ne,je){return m[ne]!==je?(n.bindFramebuffer(ne,je),m[ne]=je,r&&(ne===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=je),ne===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=je)),!0):!1}function J(ne,je){let $e=x,ct=!1;if(ne)if($e=v.get(je),$e===void 0&&($e=[],v.set(je,$e)),ne.isWebGLMultipleRenderTargets){const mt=ne.texture;if($e.length!==mt.length||$e[0]!==n.COLOR_ATTACHMENT0){for(let Zt=0,rn=mt.length;Zt<rn;Zt++)$e[Zt]=n.COLOR_ATTACHMENT0+Zt;$e.length=mt.length,ct=!0}}else $e[0]!==n.COLOR_ATTACHMENT0&&($e[0]=n.COLOR_ATTACHMENT0,ct=!0);else $e[0]!==n.BACK&&($e[0]=n.BACK,ct=!0);ct&&(t.isWebGL2?n.drawBuffers($e):e.get("WEBGL_draw_buffers").drawBuffersWEBGL($e))}function Ae(ne){return y!==ne?(n.useProgram(ne),y=ne,!0):!1}const ae={[Ta]:n.FUNC_ADD,[V7]:n.FUNC_SUBTRACT,[W7]:n.FUNC_REVERSE_SUBTRACT};if(r)ae[L3]=n.MIN,ae[B3]=n.MAX;else{const ne=e.get("EXT_blend_minmax");ne!==null&&(ae[L3]=ne.MIN_EXT,ae[B3]=ne.MAX_EXT)}const me={[j7]:n.ZERO,[$7]:n.ONE,[X7]:n.SRC_COLOR,[wm]:n.SRC_ALPHA,[q7]:n.SRC_ALPHA_SATURATE,[Z7]:n.DST_COLOR,[Y7]:n.DST_ALPHA,[J7]:n.ONE_MINUS_SRC_COLOR,[Sm]:n.ONE_MINUS_SRC_ALPHA,[Q7]:n.ONE_MINUS_DST_COLOR,[K7]:n.ONE_MINUS_DST_ALPHA,[e8]:n.CONSTANT_COLOR,[t8]:n.ONE_MINUS_CONSTANT_COLOR,[n8]:n.CONSTANT_ALPHA,[r8]:n.ONE_MINUS_CONSTANT_ALPHA};function ye(ne,je,$e,ct,mt,Zt,rn,Fn,gr,sn){if(ne===ko){g===!0&&(Ee(n.BLEND),g=!1);return}if(g===!1&&(be(n.BLEND),g=!0),ne!==G7){if(ne!==A||sn!==L){if((_!==Ta||b!==Ta)&&(n.blendEquation(n.FUNC_ADD),_=Ta,b=Ta),sn)switch(ne){case Uo:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case R3:n.blendFunc(n.ONE,n.ONE);break;case P3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case I3:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ne);break}else switch(ne){case Uo:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case R3:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case P3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case I3:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ne);break}M=null,R=null,P=null,D=null,V.set(0,0,0),T=0,A=ne,L=sn}return}mt=mt||je,Zt=Zt||$e,rn=rn||ct,(je!==_||mt!==b)&&(n.blendEquationSeparate(ae[je],ae[mt]),_=je,b=mt),($e!==M||ct!==R||Zt!==P||rn!==D)&&(n.blendFuncSeparate(me[$e],me[ct],me[Zt],me[rn]),M=$e,R=ct,P=Zt,D=rn),(Fn.equals(V)===!1||gr!==T)&&(n.blendColor(Fn.r,Fn.g,Fn.b,gr),V.copy(Fn),T=gr),A=ne,L=!1}function De(ne,je){ne.side===qr?Ee(n.CULL_FACE):be(n.CULL_FACE);let $e=ne.side===ri;je&&($e=!$e),oe($e),ne.blending===Uo&&ne.transparent===!1?ye(ko):ye(ne.blending,ne.blendEquation,ne.blendSrc,ne.blendDst,ne.blendEquationAlpha,ne.blendSrcAlpha,ne.blendDstAlpha,ne.blendColor,ne.blendAlpha,ne.premultipliedAlpha),l.setFunc(ne.depthFunc),l.setTest(ne.depthTest),l.setMask(ne.depthWrite),a.setMask(ne.colorWrite);const ct=ne.stencilWrite;c.setTest(ct),ct&&(c.setMask(ne.stencilWriteMask),c.setFunc(ne.stencilFunc,ne.stencilRef,ne.stencilFuncMask),c.setOp(ne.stencilFail,ne.stencilZFail,ne.stencilZPass)),he(ne.polygonOffset,ne.polygonOffsetFactor,ne.polygonOffsetUnits),ne.alphaToCoverage===!0?be(n.SAMPLE_ALPHA_TO_COVERAGE):Ee(n.SAMPLE_ALPHA_TO_COVERAGE)}function oe(ne){G!==ne&&(ne?n.frontFace(n.CW):n.frontFace(n.CCW),G=ne)}function I(ne){ne!==U7?(be(n.CULL_FACE),ne!==se&&(ne===T3?n.cullFace(n.BACK):ne===z7?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ee(n.CULL_FACE),se=ne}function k(ne){ne!==W&&(F&&n.lineWidth(ne),W=ne)}function he(ne,je,$e){ne?(be(n.POLYGON_OFFSET_FILL),(te!==je||re!==$e)&&(n.polygonOffset(je,$e),te=je,re=$e)):Ee(n.POLYGON_OFFSET_FILL)}function Ne(ne){ne?be(n.SCISSOR_TEST):Ee(n.SCISSOR_TEST)}function ge(ne){ne===void 0&&(ne=n.TEXTURE0+ue-1),fe!==ne&&(n.activeTexture(ne),fe=ne)}function we(ne,je,$e){$e===void 0&&(fe===null?$e=n.TEXTURE0+ue-1:$e=fe);let ct=xe[$e];ct===void 0&&(ct={type:void 0,texture:void 0},xe[$e]=ct),(ct.type!==ne||ct.texture!==je)&&(fe!==$e&&(n.activeTexture($e),fe=$e),n.bindTexture(ne,je||ve[ne]),ct.type=ne,ct.texture=je)}function Ge(){const ne=xe[fe];ne!==void 0&&ne.type!==void 0&&(n.bindTexture(ne.type,null),ne.type=void 0,ne.texture=void 0)}function Ue(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Je(){try{n.compressedTexImage3D.apply(n,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function st(){try{n.texSubImage2D.apply(n,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function ut(){try{n.texSubImage3D.apply(n,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Fe(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Dt(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function St(){try{n.texStorage2D.apply(n,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function ft(){try{n.texStorage3D.apply(n,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Ze(){try{n.texImage2D.apply(n,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function et(){try{n.texImage3D.apply(n,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function gt(ne){j.equals(ne)===!1&&(n.scissor(ne.x,ne.y,ne.z,ne.w),j.copy(ne))}function At(ne){H.equals(ne)===!1&&(n.viewport(ne.x,ne.y,ne.z,ne.w),H.copy(ne))}function bt(ne,je){let $e=h.get(je);$e===void 0&&($e=new WeakMap,h.set(je,$e));let ct=$e.get(ne);ct===void 0&&(ct=n.getUniformBlockIndex(je,ne.name),$e.set(ne,ct))}function Ut(ne,je){const ct=h.get(je).get(ne);u.get(je)!==ct&&(n.uniformBlockBinding(je,ct,ne.__bindingPointIndex),u.set(je,ct))}function He(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),r===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},fe=null,xe={},m={},v=new WeakMap,x=[],y=null,g=!1,A=null,_=null,M=null,R=null,b=null,P=null,D=null,V=new Xe(0,0,0),T=0,L=!1,G=null,se=null,W=null,te=null,re=null,j.set(0,0,n.canvas.width,n.canvas.height),H.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:be,disable:Ee,bindFramebuffer:Te,drawBuffers:J,useProgram:Ae,setBlending:ye,setMaterial:De,setFlipSided:oe,setCullFace:I,setLineWidth:k,setPolygonOffset:he,setScissorTest:Ne,activeTexture:ge,bindTexture:we,unbindTexture:Ge,compressedTexImage2D:Ue,compressedTexImage3D:Je,texImage2D:Ze,texImage3D:et,updateUBOMapping:bt,uniformBlockBinding:Ut,texStorage2D:St,texStorage3D:ft,texSubImage2D:st,texSubImage3D:ut,compressedTexSubImage2D:Fe,compressedTexSubImage3D:Dt,scissor:gt,viewport:At,reset:He}}function zU(n,e,t,r,i,s,o){const a=i.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new WeakMap;let h;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(I,k){return m?new OffscreenCanvas(I,k):Th("canvas")}function x(I,k,he,Ne){let ge=1;if((I.width>Ne||I.height>Ne)&&(ge=Ne/Math.max(I.width,I.height)),ge<1||k===!0)if(typeof HTMLImageElement<"u"&&I instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&I instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&I instanceof ImageBitmap){const we=k?bm:Math.floor,Ge=we(ge*I.width),Ue=we(ge*I.height);h===void 0&&(h=v(Ge,Ue));const Je=he?v(Ge,Ue):h;return Je.width=Ge,Je.height=Ue,Je.getContext("2d").drawImage(I,0,0,Ge,Ue),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+I.width+"x"+I.height+") to ("+Ge+"x"+Ue+")."),Je}else return"data"in I&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+I.width+"x"+I.height+")."),I;return I}function y(I){return c_(I.width)&&c_(I.height)}function g(I){return a?!1:I.wrapS!==_r||I.wrapT!==_r||I.minFilter!==jt&&I.minFilter!==Ct}function A(I,k){return I.generateMipmaps&&k&&I.minFilter!==jt&&I.minFilter!==Ct}function _(I){n.generateMipmap(I)}function M(I,k,he,Ne,ge=!1){if(a===!1)return k;if(I!==null){if(n[I]!==void 0)return n[I];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+I+"'")}let we=k;if(k===n.RED&&(he===n.FLOAT&&(we=n.R32F),he===n.HALF_FLOAT&&(we=n.R16F),he===n.UNSIGNED_BYTE&&(we=n.R8)),k===n.RED_INTEGER&&(he===n.UNSIGNED_BYTE&&(we=n.R8UI),he===n.UNSIGNED_SHORT&&(we=n.R16UI),he===n.UNSIGNED_INT&&(we=n.R32UI),he===n.BYTE&&(we=n.R8I),he===n.SHORT&&(we=n.R16I),he===n.INT&&(we=n.R32I)),k===n.RG&&(he===n.FLOAT&&(we=n.RG32F),he===n.HALF_FLOAT&&(we=n.RG16F),he===n.UNSIGNED_BYTE&&(we=n.RG8)),k===n.RGBA){const Ge=ge?wh:an.getTransfer(Ne);he===n.FLOAT&&(we=n.RGBA32F),he===n.HALF_FLOAT&&(we=n.RGBA16F),he===n.UNSIGNED_BYTE&&(we=Ge===gn?n.SRGB8_ALPHA8:n.RGBA8),he===n.UNSIGNED_SHORT_4_4_4_4&&(we=n.RGBA4),he===n.UNSIGNED_SHORT_5_5_5_1&&(we=n.RGB5_A1)}return(we===n.R16F||we===n.R32F||we===n.RG16F||we===n.RG32F||we===n.RGBA16F||we===n.RGBA32F)&&e.get("EXT_color_buffer_float"),we}function R(I,k,he){return A(I,he)===!0||I.isFramebufferTexture&&I.minFilter!==jt&&I.minFilter!==Ct?Math.log2(Math.max(k.width,k.height))+1:I.mipmaps!==void 0&&I.mipmaps.length>0?I.mipmaps.length:I.isCompressedTexture&&Array.isArray(I.image)?k.mipmaps.length:1}function b(I){return I===jt||I===Eh||I===Ra?n.NEAREST:n.LINEAR}function P(I){const k=I.target;k.removeEventListener("dispose",P),V(k),k.isVideoTexture&&u.delete(k)}function D(I){const k=I.target;k.removeEventListener("dispose",D),L(k)}function V(I){const k=r.get(I);if(k.__webglInit===void 0)return;const he=I.source,Ne=p.get(he);if(Ne){const ge=Ne[k.__cacheKey];ge.usedTimes--,ge.usedTimes===0&&T(I),Object.keys(Ne).length===0&&p.delete(he)}r.remove(I)}function T(I){const k=r.get(I);n.deleteTexture(k.__webglTexture);const he=I.source,Ne=p.get(he);delete Ne[k.__cacheKey],o.memory.textures--}function L(I){const k=I.texture,he=r.get(I),Ne=r.get(k);if(Ne.__webglTexture!==void 0&&(n.deleteTexture(Ne.__webglTexture),o.memory.textures--),I.depthTexture&&I.depthTexture.dispose(),I.isWebGLCubeRenderTarget)for(let ge=0;ge<6;ge++){if(Array.isArray(he.__webglFramebuffer[ge]))for(let we=0;we<he.__webglFramebuffer[ge].length;we++)n.deleteFramebuffer(he.__webglFramebuffer[ge][we]);else n.deleteFramebuffer(he.__webglFramebuffer[ge]);he.__webglDepthbuffer&&n.deleteRenderbuffer(he.__webglDepthbuffer[ge])}else{if(Array.isArray(he.__webglFramebuffer))for(let ge=0;ge<he.__webglFramebuffer.length;ge++)n.deleteFramebuffer(he.__webglFramebuffer[ge]);else n.deleteFramebuffer(he.__webglFramebuffer);if(he.__webglDepthbuffer&&n.deleteRenderbuffer(he.__webglDepthbuffer),he.__webglMultisampledFramebuffer&&n.deleteFramebuffer(he.__webglMultisampledFramebuffer),he.__webglColorRenderbuffer)for(let ge=0;ge<he.__webglColorRenderbuffer.length;ge++)he.__webglColorRenderbuffer[ge]&&n.deleteRenderbuffer(he.__webglColorRenderbuffer[ge]);he.__webglDepthRenderbuffer&&n.deleteRenderbuffer(he.__webglDepthRenderbuffer)}if(I.isWebGLMultipleRenderTargets)for(let ge=0,we=k.length;ge<we;ge++){const Ge=r.get(k[ge]);Ge.__webglTexture&&(n.deleteTexture(Ge.__webglTexture),o.memory.textures--),r.remove(k[ge])}r.remove(k),r.remove(I)}let G=0;function se(){G=0}function W(){const I=G;return I>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+I+" texture units while this GPU supports only "+i.maxTextures),G+=1,I}function te(I){const k=[];return k.push(I.wrapS),k.push(I.wrapT),k.push(I.wrapR||0),k.push(I.magFilter),k.push(I.minFilter),k.push(I.anisotropy),k.push(I.internalFormat),k.push(I.format),k.push(I.type),k.push(I.generateMipmaps),k.push(I.premultiplyAlpha),k.push(I.flipY),k.push(I.unpackAlignment),k.push(I.colorSpace),k.join()}function re(I,k){const he=r.get(I);if(I.isVideoTexture&&De(I),I.isRenderTargetTexture===!1&&I.version>0&&he.__version!==I.version){const Ne=I.image;if(Ne===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ne.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{j(he,I,k);return}}t.bindTexture(n.TEXTURE_2D,he.__webglTexture,n.TEXTURE0+k)}function ue(I,k){const he=r.get(I);if(I.version>0&&he.__version!==I.version){j(he,I,k);return}t.bindTexture(n.TEXTURE_2D_ARRAY,he.__webglTexture,n.TEXTURE0+k)}function F(I,k){const he=r.get(I);if(I.version>0&&he.__version!==I.version){j(he,I,k);return}t.bindTexture(n.TEXTURE_3D,he.__webglTexture,n.TEXTURE0+k)}function Y(I,k){const he=r.get(I);if(I.version>0&&he.__version!==I.version){H(he,I,k);return}t.bindTexture(n.TEXTURE_CUBE_MAP,he.__webglTexture,n.TEXTURE0+k)}const Q={[Ya]:n.REPEAT,[_r]:n.CLAMP_TO_EDGE,[Zu]:n.MIRRORED_REPEAT},fe={[jt]:n.NEAREST,[Eh]:n.NEAREST_MIPMAP_NEAREST,[Ra]:n.NEAREST_MIPMAP_LINEAR,[Ct]:n.LINEAR,[Ou]:n.LINEAR_MIPMAP_NEAREST,[cs]:n.LINEAR_MIPMAP_LINEAR},xe={[B8]:n.NEVER,[U8]:n.ALWAYS,[D8]:n.LESS,[s4]:n.LEQUAL,[N8]:n.EQUAL,[k8]:n.GEQUAL,[F8]:n.GREATER,[O8]:n.NOTEQUAL};function Oe(I,k,he){if(k.type===rr&&e.has("OES_texture_float_linear")===!1&&(k.magFilter===Ct||k.magFilter===Ou||k.magFilter===Ra||k.magFilter===cs||k.minFilter===Ct||k.minFilter===Ou||k.minFilter===Ra||k.minFilter===cs)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),he?(n.texParameteri(I,n.TEXTURE_WRAP_S,Q[k.wrapS]),n.texParameteri(I,n.TEXTURE_WRAP_T,Q[k.wrapT]),(I===n.TEXTURE_3D||I===n.TEXTURE_2D_ARRAY)&&n.texParameteri(I,n.TEXTURE_WRAP_R,Q[k.wrapR]),n.texParameteri(I,n.TEXTURE_MAG_FILTER,fe[k.magFilter]),n.texParameteri(I,n.TEXTURE_MIN_FILTER,fe[k.minFilter])):(n.texParameteri(I,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(I,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(I===n.TEXTURE_3D||I===n.TEXTURE_2D_ARRAY)&&n.texParameteri(I,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(k.wrapS!==_r||k.wrapT!==_r)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(I,n.TEXTURE_MAG_FILTER,b(k.magFilter)),n.texParameteri(I,n.TEXTURE_MIN_FILTER,b(k.minFilter)),k.minFilter!==jt&&k.minFilter!==Ct&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),k.compareFunction&&(n.texParameteri(I,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(I,n.TEXTURE_COMPARE_FUNC,xe[k.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ne=e.get("EXT_texture_filter_anisotropic");if(k.magFilter===jt||k.minFilter!==Ra&&k.minFilter!==cs||k.type===rr&&e.has("OES_texture_float_linear")===!1||a===!1&&k.type===kr&&e.has("OES_texture_half_float_linear")===!1)return;(k.anisotropy>1||r.get(k).__currentAnisotropy)&&(n.texParameterf(I,Ne.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,i.getMaxAnisotropy())),r.get(k).__currentAnisotropy=k.anisotropy)}}function X(I,k){let he=!1;I.__webglInit===void 0&&(I.__webglInit=!0,k.addEventListener("dispose",P));const Ne=k.source;let ge=p.get(Ne);ge===void 0&&(ge={},p.set(Ne,ge));const we=te(k);if(we!==I.__cacheKey){ge[we]===void 0&&(ge[we]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,he=!0),ge[we].usedTimes++;const Ge=ge[I.__cacheKey];Ge!==void 0&&(ge[I.__cacheKey].usedTimes--,Ge.usedTimes===0&&T(k)),I.__cacheKey=we,I.__webglTexture=ge[we].texture}return he}function j(I,k,he){let Ne=n.TEXTURE_2D;(k.isDataArrayTexture||k.isCompressedArrayTexture)&&(Ne=n.TEXTURE_2D_ARRAY),k.isData3DTexture&&(Ne=n.TEXTURE_3D);const ge=X(I,k),we=k.source;t.bindTexture(Ne,I.__webglTexture,n.TEXTURE0+he);const Ge=r.get(we);if(we.version!==Ge.__version||ge===!0){t.activeTexture(n.TEXTURE0+he);const Ue=an.getPrimaries(an.workingColorSpace),Je=k.colorSpace===Ii?null:an.getPrimaries(k.colorSpace),st=k.colorSpace===Ii||Ue===Je?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,k.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,k.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,st);const ut=g(k)&&y(k.image)===!1;let Fe=x(k.image,ut,!1,i.maxTextureSize);Fe=oe(k,Fe);const Dt=y(Fe)||a,St=s.convert(k.format,k.colorSpace);let ft=s.convert(k.type),Ze=M(k.internalFormat,St,ft,k.colorSpace,k.isVideoTexture);Oe(Ne,k,Dt);let et;const gt=k.mipmaps,At=a&&k.isVideoTexture!==!0&&Ze!==t4,bt=Ge.__version===void 0||ge===!0,Ut=we.dataReady,He=R(k,Fe,Dt);if(k.isDepthTexture)Ze=n.DEPTH_COMPONENT,a?k.type===rr?Ze=n.DEPTH_COMPONENT32F:k.type===No?Ze=n.DEPTH_COMPONENT24:k.type===Ha?Ze=n.DEPTH24_STENCIL8:Ze=n.DEPTH_COMPONENT16:k.type===rr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),k.format===Ga&&Ze===n.DEPTH_COMPONENT&&k.type!==fg&&k.type!==No&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),k.type=No,ft=s.convert(k.type)),k.format===uc&&Ze===n.DEPTH_COMPONENT&&(Ze=n.DEPTH_STENCIL,k.type!==Ha&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),k.type=Ha,ft=s.convert(k.type))),bt&&(At?t.texStorage2D(n.TEXTURE_2D,1,Ze,Fe.width,Fe.height):t.texImage2D(n.TEXTURE_2D,0,Ze,Fe.width,Fe.height,0,St,ft,null));else if(k.isDataTexture)if(gt.length>0&&Dt){At&&bt&&t.texStorage2D(n.TEXTURE_2D,He,Ze,gt[0].width,gt[0].height);for(let ne=0,je=gt.length;ne<je;ne++)et=gt[ne],At?Ut&&t.texSubImage2D(n.TEXTURE_2D,ne,0,0,et.width,et.height,St,ft,et.data):t.texImage2D(n.TEXTURE_2D,ne,Ze,et.width,et.height,0,St,ft,et.data);k.generateMipmaps=!1}else At?(bt&&t.texStorage2D(n.TEXTURE_2D,He,Ze,Fe.width,Fe.height),Ut&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Fe.width,Fe.height,St,ft,Fe.data)):t.texImage2D(n.TEXTURE_2D,0,Ze,Fe.width,Fe.height,0,St,ft,Fe.data);else if(k.isCompressedTexture)if(k.isCompressedArrayTexture){At&&bt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,He,Ze,gt[0].width,gt[0].height,Fe.depth);for(let ne=0,je=gt.length;ne<je;ne++)et=gt[ne],k.format!==Fr?St!==null?At?Ut&&t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ne,0,0,0,et.width,et.height,Fe.depth,St,et.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,ne,Ze,et.width,et.height,Fe.depth,0,et.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):At?Ut&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,ne,0,0,0,et.width,et.height,Fe.depth,St,ft,et.data):t.texImage3D(n.TEXTURE_2D_ARRAY,ne,Ze,et.width,et.height,Fe.depth,0,St,ft,et.data)}else{At&&bt&&t.texStorage2D(n.TEXTURE_2D,He,Ze,gt[0].width,gt[0].height);for(let ne=0,je=gt.length;ne<je;ne++)et=gt[ne],k.format!==Fr?St!==null?At?Ut&&t.compressedTexSubImage2D(n.TEXTURE_2D,ne,0,0,et.width,et.height,St,et.data):t.compressedTexImage2D(n.TEXTURE_2D,ne,Ze,et.width,et.height,0,et.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):At?Ut&&t.texSubImage2D(n.TEXTURE_2D,ne,0,0,et.width,et.height,St,ft,et.data):t.texImage2D(n.TEXTURE_2D,ne,Ze,et.width,et.height,0,St,ft,et.data)}else if(k.isDataArrayTexture)At?(bt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,He,Ze,Fe.width,Fe.height,Fe.depth),Ut&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Fe.width,Fe.height,Fe.depth,St,ft,Fe.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,Ze,Fe.width,Fe.height,Fe.depth,0,St,ft,Fe.data);else if(k.isData3DTexture)At?(bt&&t.texStorage3D(n.TEXTURE_3D,He,Ze,Fe.width,Fe.height,Fe.depth),Ut&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Fe.width,Fe.height,Fe.depth,St,ft,Fe.data)):t.texImage3D(n.TEXTURE_3D,0,Ze,Fe.width,Fe.height,Fe.depth,0,St,ft,Fe.data);else if(k.isFramebufferTexture){if(bt)if(At)t.texStorage2D(n.TEXTURE_2D,He,Ze,Fe.width,Fe.height);else{let ne=Fe.width,je=Fe.height;for(let $e=0;$e<He;$e++)t.texImage2D(n.TEXTURE_2D,$e,Ze,ne,je,0,St,ft,null),ne>>=1,je>>=1}}else if(gt.length>0&&Dt){At&&bt&&t.texStorage2D(n.TEXTURE_2D,He,Ze,gt[0].width,gt[0].height);for(let ne=0,je=gt.length;ne<je;ne++)et=gt[ne],At?Ut&&t.texSubImage2D(n.TEXTURE_2D,ne,0,0,St,ft,et):t.texImage2D(n.TEXTURE_2D,ne,Ze,St,ft,et);k.generateMipmaps=!1}else At?(bt&&t.texStorage2D(n.TEXTURE_2D,He,Ze,Fe.width,Fe.height),Ut&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,St,ft,Fe)):t.texImage2D(n.TEXTURE_2D,0,Ze,St,ft,Fe);A(k,Dt)&&_(Ne),Ge.__version=we.version,k.onUpdate&&k.onUpdate(k)}I.__version=k.version}function H(I,k,he){if(k.image.length!==6)return;const Ne=X(I,k),ge=k.source;t.bindTexture(n.TEXTURE_CUBE_MAP,I.__webglTexture,n.TEXTURE0+he);const we=r.get(ge);if(ge.version!==we.__version||Ne===!0){t.activeTexture(n.TEXTURE0+he);const Ge=an.getPrimaries(an.workingColorSpace),Ue=k.colorSpace===Ii?null:an.getPrimaries(k.colorSpace),Je=k.colorSpace===Ii||Ge===Ue?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,k.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,k.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Je);const st=k.isCompressedTexture||k.image[0].isCompressedTexture,ut=k.image[0]&&k.image[0].isDataTexture,Fe=[];for(let ne=0;ne<6;ne++)!st&&!ut?Fe[ne]=x(k.image[ne],!1,!0,i.maxCubemapSize):Fe[ne]=ut?k.image[ne].image:k.image[ne],Fe[ne]=oe(k,Fe[ne]);const Dt=Fe[0],St=y(Dt)||a,ft=s.convert(k.format,k.colorSpace),Ze=s.convert(k.type),et=M(k.internalFormat,ft,Ze,k.colorSpace),gt=a&&k.isVideoTexture!==!0,At=we.__version===void 0||Ne===!0,bt=ge.dataReady;let Ut=R(k,Dt,St);Oe(n.TEXTURE_CUBE_MAP,k,St);let He;if(st){gt&&At&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Ut,et,Dt.width,Dt.height);for(let ne=0;ne<6;ne++){He=Fe[ne].mipmaps;for(let je=0;je<He.length;je++){const $e=He[je];k.format!==Fr?ft!==null?gt?bt&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,je,0,0,$e.width,$e.height,ft,$e.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,je,et,$e.width,$e.height,0,$e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):gt?bt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,je,0,0,$e.width,$e.height,ft,Ze,$e.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,je,et,$e.width,$e.height,0,ft,Ze,$e.data)}}}else{He=k.mipmaps,gt&&At&&(He.length>0&&Ut++,t.texStorage2D(n.TEXTURE_CUBE_MAP,Ut,et,Fe[0].width,Fe[0].height));for(let ne=0;ne<6;ne++)if(ut){gt?bt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0,0,0,Fe[ne].width,Fe[ne].height,ft,Ze,Fe[ne].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0,et,Fe[ne].width,Fe[ne].height,0,ft,Ze,Fe[ne].data);for(let je=0;je<He.length;je++){const ct=He[je].image[ne].image;gt?bt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,je+1,0,0,ct.width,ct.height,ft,Ze,ct.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,je+1,et,ct.width,ct.height,0,ft,Ze,ct.data)}}else{gt?bt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0,0,0,ft,Ze,Fe[ne]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0,et,ft,Ze,Fe[ne]);for(let je=0;je<He.length;je++){const $e=He[je];gt?bt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,je+1,0,0,ft,Ze,$e.image[ne]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,je+1,et,ft,Ze,$e.image[ne])}}}A(k,St)&&_(n.TEXTURE_CUBE_MAP),we.__version=ge.version,k.onUpdate&&k.onUpdate(k)}I.__version=k.version}function z(I,k,he,Ne,ge,we){const Ge=s.convert(he.format,he.colorSpace),Ue=s.convert(he.type),Je=M(he.internalFormat,Ge,Ue,he.colorSpace);if(!r.get(k).__hasExternalTextures){const ut=Math.max(1,k.width>>we),Fe=Math.max(1,k.height>>we);ge===n.TEXTURE_3D||ge===n.TEXTURE_2D_ARRAY?t.texImage3D(ge,we,Je,ut,Fe,k.depth,0,Ge,Ue,null):t.texImage2D(ge,we,Je,ut,Fe,0,Ge,Ue,null)}t.bindFramebuffer(n.FRAMEBUFFER,I),ye(k)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ne,ge,r.get(he).__webglTexture,0,me(k)):(ge===n.TEXTURE_2D||ge>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&ge<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ne,ge,r.get(he).__webglTexture,we),t.bindFramebuffer(n.FRAMEBUFFER,null)}function ve(I,k,he){if(n.bindRenderbuffer(n.RENDERBUFFER,I),k.depthBuffer&&!k.stencilBuffer){let Ne=a===!0?n.DEPTH_COMPONENT24:n.DEPTH_COMPONENT16;if(he||ye(k)){const ge=k.depthTexture;ge&&ge.isDepthTexture&&(ge.type===rr?Ne=n.DEPTH_COMPONENT32F:ge.type===No&&(Ne=n.DEPTH_COMPONENT24));const we=me(k);ye(k)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,we,Ne,k.width,k.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,we,Ne,k.width,k.height)}else n.renderbufferStorage(n.RENDERBUFFER,Ne,k.width,k.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,I)}else if(k.depthBuffer&&k.stencilBuffer){const Ne=me(k);he&&ye(k)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ne,n.DEPTH24_STENCIL8,k.width,k.height):ye(k)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ne,n.DEPTH24_STENCIL8,k.width,k.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,k.width,k.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,I)}else{const Ne=k.isWebGLMultipleRenderTargets===!0?k.texture:[k.texture];for(let ge=0;ge<Ne.length;ge++){const we=Ne[ge],Ge=s.convert(we.format,we.colorSpace),Ue=s.convert(we.type),Je=M(we.internalFormat,Ge,Ue,we.colorSpace),st=me(k);he&&ye(k)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,st,Je,k.width,k.height):ye(k)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,st,Je,k.width,k.height):n.renderbufferStorage(n.RENDERBUFFER,Je,k.width,k.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function be(I,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,I),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(k.depthTexture).__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),re(k.depthTexture,0);const Ne=r.get(k.depthTexture).__webglTexture,ge=me(k);if(k.depthTexture.format===Ga)ye(k)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ne,0,ge):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ne,0);else if(k.depthTexture.format===uc)ye(k)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ne,0,ge):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ne,0);else throw new Error("Unknown depthTexture format")}function Ee(I){const k=r.get(I),he=I.isWebGLCubeRenderTarget===!0;if(I.depthTexture&&!k.__autoAllocateDepthBuffer){if(he)throw new Error("target.depthTexture not supported in Cube render targets");be(k.__webglFramebuffer,I)}else if(he){k.__webglDepthbuffer=[];for(let Ne=0;Ne<6;Ne++)t.bindFramebuffer(n.FRAMEBUFFER,k.__webglFramebuffer[Ne]),k.__webglDepthbuffer[Ne]=n.createRenderbuffer(),ve(k.__webglDepthbuffer[Ne],I,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,k.__webglFramebuffer),k.__webglDepthbuffer=n.createRenderbuffer(),ve(k.__webglDepthbuffer,I,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Te(I,k,he){const Ne=r.get(I);k!==void 0&&z(Ne.__webglFramebuffer,I,I.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),he!==void 0&&Ee(I)}function J(I){const k=I.texture,he=r.get(I),Ne=r.get(k);I.addEventListener("dispose",D),I.isWebGLMultipleRenderTargets!==!0&&(Ne.__webglTexture===void 0&&(Ne.__webglTexture=n.createTexture()),Ne.__version=k.version,o.memory.textures++);const ge=I.isWebGLCubeRenderTarget===!0,we=I.isWebGLMultipleRenderTargets===!0,Ge=y(I)||a;if(ge){he.__webglFramebuffer=[];for(let Ue=0;Ue<6;Ue++)if(a&&k.mipmaps&&k.mipmaps.length>0){he.__webglFramebuffer[Ue]=[];for(let Je=0;Je<k.mipmaps.length;Je++)he.__webglFramebuffer[Ue][Je]=n.createFramebuffer()}else he.__webglFramebuffer[Ue]=n.createFramebuffer()}else{if(a&&k.mipmaps&&k.mipmaps.length>0){he.__webglFramebuffer=[];for(let Ue=0;Ue<k.mipmaps.length;Ue++)he.__webglFramebuffer[Ue]=n.createFramebuffer()}else he.__webglFramebuffer=n.createFramebuffer();if(we)if(i.drawBuffers){const Ue=I.texture;for(let Je=0,st=Ue.length;Je<st;Je++){const ut=r.get(Ue[Je]);ut.__webglTexture===void 0&&(ut.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&I.samples>0&&ye(I)===!1){const Ue=we?k:[k];he.__webglMultisampledFramebuffer=n.createFramebuffer(),he.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,he.__webglMultisampledFramebuffer);for(let Je=0;Je<Ue.length;Je++){const st=Ue[Je];he.__webglColorRenderbuffer[Je]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,he.__webglColorRenderbuffer[Je]);const ut=s.convert(st.format,st.colorSpace),Fe=s.convert(st.type),Dt=M(st.internalFormat,ut,Fe,st.colorSpace,I.isXRRenderTarget===!0),St=me(I);n.renderbufferStorageMultisample(n.RENDERBUFFER,St,Dt,I.width,I.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Je,n.RENDERBUFFER,he.__webglColorRenderbuffer[Je])}n.bindRenderbuffer(n.RENDERBUFFER,null),I.depthBuffer&&(he.__webglDepthRenderbuffer=n.createRenderbuffer(),ve(he.__webglDepthRenderbuffer,I,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(ge){t.bindTexture(n.TEXTURE_CUBE_MAP,Ne.__webglTexture),Oe(n.TEXTURE_CUBE_MAP,k,Ge);for(let Ue=0;Ue<6;Ue++)if(a&&k.mipmaps&&k.mipmaps.length>0)for(let Je=0;Je<k.mipmaps.length;Je++)z(he.__webglFramebuffer[Ue][Je],I,k,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,Je);else z(he.__webglFramebuffer[Ue],I,k,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0);A(k,Ge)&&_(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(we){const Ue=I.texture;for(let Je=0,st=Ue.length;Je<st;Je++){const ut=Ue[Je],Fe=r.get(ut);t.bindTexture(n.TEXTURE_2D,Fe.__webglTexture),Oe(n.TEXTURE_2D,ut,Ge),z(he.__webglFramebuffer,I,ut,n.COLOR_ATTACHMENT0+Je,n.TEXTURE_2D,0),A(ut,Ge)&&_(n.TEXTURE_2D)}t.unbindTexture()}else{let Ue=n.TEXTURE_2D;if((I.isWebGL3DRenderTarget||I.isWebGLArrayRenderTarget)&&(a?Ue=I.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ue,Ne.__webglTexture),Oe(Ue,k,Ge),a&&k.mipmaps&&k.mipmaps.length>0)for(let Je=0;Je<k.mipmaps.length;Je++)z(he.__webglFramebuffer[Je],I,k,n.COLOR_ATTACHMENT0,Ue,Je);else z(he.__webglFramebuffer,I,k,n.COLOR_ATTACHMENT0,Ue,0);A(k,Ge)&&_(Ue),t.unbindTexture()}I.depthBuffer&&Ee(I)}function Ae(I){const k=y(I)||a,he=I.isWebGLMultipleRenderTargets===!0?I.texture:[I.texture];for(let Ne=0,ge=he.length;Ne<ge;Ne++){const we=he[Ne];if(A(we,k)){const Ge=I.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Ue=r.get(we).__webglTexture;t.bindTexture(Ge,Ue),_(Ge),t.unbindTexture()}}}function ae(I){if(a&&I.samples>0&&ye(I)===!1){const k=I.isWebGLMultipleRenderTargets?I.texture:[I.texture],he=I.width,Ne=I.height;let ge=n.COLOR_BUFFER_BIT;const we=[],Ge=I.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ue=r.get(I),Je=I.isWebGLMultipleRenderTargets===!0;if(Je)for(let st=0;st<k.length;st++)t.bindFramebuffer(n.FRAMEBUFFER,Ue.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+st,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Ue.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+st,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Ue.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ue.__webglFramebuffer);for(let st=0;st<k.length;st++){we.push(n.COLOR_ATTACHMENT0+st),I.depthBuffer&&we.push(Ge);const ut=Ue.__ignoreDepthValues!==void 0?Ue.__ignoreDepthValues:!1;if(ut===!1&&(I.depthBuffer&&(ge|=n.DEPTH_BUFFER_BIT),I.stencilBuffer&&(ge|=n.STENCIL_BUFFER_BIT)),Je&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Ue.__webglColorRenderbuffer[st]),ut===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Ge]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Ge])),Je){const Fe=r.get(k[st]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Fe,0)}n.blitFramebuffer(0,0,he,Ne,0,0,he,Ne,ge,n.NEAREST),c&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,we)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Je)for(let st=0;st<k.length;st++){t.bindFramebuffer(n.FRAMEBUFFER,Ue.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+st,n.RENDERBUFFER,Ue.__webglColorRenderbuffer[st]);const ut=r.get(k[st]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Ue.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+st,n.TEXTURE_2D,ut,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ue.__webglMultisampledFramebuffer)}}function me(I){return Math.min(i.maxSamples,I.samples)}function ye(I){const k=r.get(I);return a&&I.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&k.__useRenderToTexture!==!1}function De(I){const k=o.render.frame;u.get(I)!==k&&(u.set(I,k),I.update())}function oe(I,k){const he=I.colorSpace,Ne=I.format,ge=I.type;return I.isCompressedTexture===!0||I.isVideoTexture===!0||I.format===Cm||he!==xi&&he!==Ii&&(an.getTransfer(he)===gn?a===!1?e.has("EXT_sRGB")===!0&&Ne===Fr?(I.format=Cm,I.minFilter=Ct,I.generateMipmaps=!1):k=a4.sRGBToLinear(k):(Ne!==Fr||ge!==oo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",he)),k}this.allocateTextureUnit=W,this.resetTextureUnits=se,this.setTexture2D=re,this.setTexture2DArray=ue,this.setTexture3D=F,this.setTextureCube=Y,this.rebindTextures=Te,this.setupRenderTarget=J,this.updateRenderTargetMipmap=Ae,this.updateMultisampleRenderTarget=ae,this.setupDepthRenderbuffer=Ee,this.setupFrameBufferTexture=z,this.useMultisampledRTT=ye}function q8(n,e,t){const r=t.isWebGL2;function i(s,o=Ii){let a;const l=an.getTransfer(o);if(s===oo)return n.UNSIGNED_BYTE;if(s===Yx)return n.UNSIGNED_SHORT_4_4_4_4;if(s===Kx)return n.UNSIGNED_SHORT_5_5_5_1;if(s===_8)return n.BYTE;if(s===x8)return n.SHORT;if(s===fg)return n.UNSIGNED_SHORT;if(s===Jx)return n.INT;if(s===No)return n.UNSIGNED_INT;if(s===rr)return n.FLOAT;if(s===kr)return r?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===E8)return n.ALPHA;if(s===Fr)return n.RGBA;if(s===A8)return n.LUMINANCE;if(s===w8)return n.LUMINANCE_ALPHA;if(s===Ga)return n.DEPTH_COMPONENT;if(s===uc)return n.DEPTH_STENCIL;if(s===Cm)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===Zx)return n.RED;if(s===Qx)return n.RED_INTEGER;if(s===S8)return n.RG;if(s===qx)return n.RG_INTEGER;if(s===e4)return n.RGBA_INTEGER;if(s===H0||s===G0||s===V0||s===W0)if(l===gn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===H0)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===G0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===V0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===W0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===H0)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===G0)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===V0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===W0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===F3||s===O3||s===k3||s===U3)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===F3)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===O3)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===k3)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===U3)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===t4)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===z3||s===H3)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===z3)return l===gn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===H3)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===G3||s===V3||s===W3||s===j3||s===$3||s===X3||s===J3||s===Y3||s===K3||s===Z3||s===Q3||s===q3||s===e_||s===t_)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===G3)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===V3)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===W3)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===j3)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===$3)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===X3)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===J3)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Y3)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===K3)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===Z3)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Q3)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===q3)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===e_)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===t_)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===j0||s===n_||s===r_)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===j0)return l===gn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===n_)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===r_)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===M8||s===i_||s===s_||s===o_)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===j0)return a.COMPRESSED_RED_RGTC1_EXT;if(s===i_)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===s_)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===o_)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Ha?r?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class eb extends nr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class no extends Bt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const HU={type:"move"};class Vv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new no,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new no,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new no,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Z),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const x of e.hand.values()){const y=t.getJointPose(x,r),g=this._getHandJoint(c,x);y!==null&&(g.matrix.fromArray(y.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=y.radius),g.visible=y!==null}const u=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],p=u.position.distanceTo(h.position),m=.02,v=.005;c.inputState.pinching&&p>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(HU)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new no;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}const GU=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,VU=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class WU{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(this.texture===null){const i=new yn,s=e.properties.get(i);s.__webglTexture=t.texture,(t.depthNear!=r.depthNear||t.depthFar!=r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}render(e,t){if(this.texture!==null){if(this.mesh===null){const r=t.cameras[0].viewport,i=new Gr({extensions:{fragDepth:!0},vertexShader:GU,fragmentShader:VU,uniforms:{depthColor:{value:this.texture},depthWidth:{value:r.z},depthHeight:{value:r.w}}});this.mesh=new Cn(new yf(20,20),i)}e.render(this.mesh,t)}}reset(){this.texture=null,this.mesh=null}}class jU extends Zo{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,h=null,p=null,m=null,v=null;const x=new WU,y=t.getContextAttributes();let g=null,A=null;const _=[],M=[],R=new Ce;let b=null;const P=new nr;P.layers.enable(1),P.viewport=new Qt;const D=new nr;D.layers.enable(2),D.viewport=new Qt;const V=[P,D],T=new eb;T.layers.enable(1),T.layers.enable(2);let L=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(X){let j=_[X];return j===void 0&&(j=new Vv,_[X]=j),j.getTargetRaySpace()},this.getControllerGrip=function(X){let j=_[X];return j===void 0&&(j=new Vv,_[X]=j),j.getGripSpace()},this.getHand=function(X){let j=_[X];return j===void 0&&(j=new Vv,_[X]=j),j.getHandSpace()};function se(X){const j=M.indexOf(X.inputSource);if(j===-1)return;const H=_[j];H!==void 0&&(H.update(X.inputSource,X.frame,c||o),H.dispatchEvent({type:X.type,data:X.inputSource}))}function W(){i.removeEventListener("select",se),i.removeEventListener("selectstart",se),i.removeEventListener("selectend",se),i.removeEventListener("squeeze",se),i.removeEventListener("squeezestart",se),i.removeEventListener("squeezeend",se),i.removeEventListener("end",W),i.removeEventListener("inputsourceschange",te);for(let X=0;X<_.length;X++){const j=M[X];j!==null&&(M[X]=null,_[X].disconnect(j))}L=null,G=null,x.reset(),e.setRenderTarget(g),m=null,p=null,h=null,i=null,A=null,Oe.stop(),r.isPresenting=!1,e.setPixelRatio(b),e.setSize(R.width,R.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(X){s=X,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(X){a=X,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(X){c=X},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return h},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(X){if(i=X,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",se),i.addEventListener("selectstart",se),i.addEventListener("selectend",se),i.addEventListener("squeeze",se),i.addEventListener("squeezestart",se),i.addEventListener("squeezeend",se),i.addEventListener("end",W),i.addEventListener("inputsourceschange",te),y.xrCompatible!==!0&&await t.makeXRCompatible(),b=e.getPixelRatio(),e.getSize(R),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const j={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,t,j),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),A=new ms(m.framebufferWidth,m.framebufferHeight,{format:Fr,type:oo,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let j=null,H=null,z=null;y.depth&&(z=y.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,j=y.stencil?uc:Ga,H=y.stencil?Ha:No);const ve={colorFormat:t.RGBA8,depthFormat:z,scaleFactor:s};h=new XRWebGLBinding(i,t),p=h.createProjectionLayer(ve),i.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),A=new ms(p.textureWidth,p.textureHeight,{format:Fr,type:oo,depthTexture:new mg(p.textureWidth,p.textureHeight,H,void 0,void 0,void 0,void 0,void 0,void 0,j),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0});const be=e.properties.get(A);be.__ignoreDepthValues=p.ignoreDepthValues}A.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),Oe.setContext(i),Oe.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function te(X){for(let j=0;j<X.removed.length;j++){const H=X.removed[j],z=M.indexOf(H);z>=0&&(M[z]=null,_[z].disconnect(H))}for(let j=0;j<X.added.length;j++){const H=X.added[j];let z=M.indexOf(H);if(z===-1){for(let be=0;be<_.length;be++)if(be>=M.length){M.push(H),z=be;break}else if(M[be]===null){M[be]=H,z=be;break}if(z===-1)break}const ve=_[z];ve&&ve.connect(H)}}const re=new Z,ue=new Z;function F(X,j,H){re.setFromMatrixPosition(j.matrixWorld),ue.setFromMatrixPosition(H.matrixWorld);const z=re.distanceTo(ue),ve=j.projectionMatrix.elements,be=H.projectionMatrix.elements,Ee=ve[14]/(ve[10]-1),Te=ve[14]/(ve[10]+1),J=(ve[9]+1)/ve[5],Ae=(ve[9]-1)/ve[5],ae=(ve[8]-1)/ve[0],me=(be[8]+1)/be[0],ye=Ee*ae,De=Ee*me,oe=z/(-ae+me),I=oe*-ae;j.matrixWorld.decompose(X.position,X.quaternion,X.scale),X.translateX(I),X.translateZ(oe),X.matrixWorld.compose(X.position,X.quaternion,X.scale),X.matrixWorldInverse.copy(X.matrixWorld).invert();const k=Ee+oe,he=Te+oe,Ne=ye-I,ge=De+(z-I),we=J*Te/he*k,Ge=Ae*Te/he*k;X.projectionMatrix.makePerspective(Ne,ge,we,Ge,k,he),X.projectionMatrixInverse.copy(X.projectionMatrix).invert()}function Y(X,j){j===null?X.matrixWorld.copy(X.matrix):X.matrixWorld.multiplyMatrices(j.matrixWorld,X.matrix),X.matrixWorldInverse.copy(X.matrixWorld).invert()}this.updateCamera=function(X){if(i===null)return;x.texture!==null&&(X.near=x.depthNear,X.far=x.depthFar),T.near=D.near=P.near=X.near,T.far=D.far=P.far=X.far,(L!==T.near||G!==T.far)&&(i.updateRenderState({depthNear:T.near,depthFar:T.far}),L=T.near,G=T.far,P.near=L,P.far=G,D.near=L,D.far=G,P.updateProjectionMatrix(),D.updateProjectionMatrix(),X.updateProjectionMatrix());const j=X.parent,H=T.cameras;Y(T,j);for(let z=0;z<H.length;z++)Y(H[z],j);H.length===2?F(T,P,D):T.projectionMatrix.copy(P.projectionMatrix),Q(X,T,j)};function Q(X,j,H){H===null?X.matrix.copy(j.matrixWorld):(X.matrix.copy(H.matrixWorld),X.matrix.invert(),X.matrix.multiply(j.matrixWorld)),X.matrix.decompose(X.position,X.quaternion,X.scale),X.updateMatrixWorld(!0),X.projectionMatrix.copy(j.projectionMatrix),X.projectionMatrixInverse.copy(j.projectionMatrixInverse),X.isPerspectiveCamera&&(X.fov=qu*2*Math.atan(1/X.projectionMatrix.elements[5]),X.zoom=1)}this.getCamera=function(){return T},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(X){l=X,p!==null&&(p.fixedFoveation=X),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=X)},this.hasDepthSensing=function(){return x.texture!==null};let fe=null;function xe(X,j){if(u=j.getViewerPose(c||o),v=j,u!==null){const H=u.views;m!==null&&(e.setRenderTargetFramebuffer(A,m.framebuffer),e.setRenderTarget(A));let z=!1;H.length!==T.cameras.length&&(T.cameras.length=0,z=!0);for(let be=0;be<H.length;be++){const Ee=H[be];let Te=null;if(m!==null)Te=m.getViewport(Ee);else{const Ae=h.getViewSubImage(p,Ee);Te=Ae.viewport,be===0&&(e.setRenderTargetTextures(A,Ae.colorTexture,p.ignoreDepthValues?void 0:Ae.depthStencilTexture),e.setRenderTarget(A))}let J=V[be];J===void 0&&(J=new nr,J.layers.enable(be),J.viewport=new Qt,V[be]=J),J.matrix.fromArray(Ee.transform.matrix),J.matrix.decompose(J.position,J.quaternion,J.scale),J.projectionMatrix.fromArray(Ee.projectionMatrix),J.projectionMatrixInverse.copy(J.projectionMatrix).invert(),J.viewport.set(Te.x,Te.y,Te.width,Te.height),be===0&&(T.matrix.copy(J.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),z===!0&&T.cameras.push(J)}const ve=i.enabledFeatures;if(ve&&ve.includes("depth-sensing")){const be=h.getDepthInformation(H[0]);be&&be.isValid&&be.texture&&x.init(e,be,i.renderState)}}for(let H=0;H<_.length;H++){const z=M[H],ve=_[H];z!==null&&ve!==void 0&&ve.update(z,j,c||o)}x.render(e,T),fe&&fe(X,j),j.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:j}),v=null}const Oe=new X8;Oe.setAnimationLoop(xe),this.setAnimationLoop=function(X){fe=X},this.dispose=function(){}}}function $U(n,e){function t(y,g){y.matrixAutoUpdate===!0&&y.updateMatrix(),g.value.copy(y.matrix)}function r(y,g){g.color.getRGB(y.fogColor.value,W8(n)),g.isFog?(y.fogNear.value=g.near,y.fogFar.value=g.far):g.isFogExp2&&(y.fogDensity.value=g.density)}function i(y,g,A,_,M){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(y,g):g.isMeshToonMaterial?(s(y,g),h(y,g)):g.isMeshPhongMaterial?(s(y,g),u(y,g)):g.isMeshStandardMaterial?(s(y,g),p(y,g),g.isMeshPhysicalMaterial&&m(y,g,M)):g.isMeshMatcapMaterial?(s(y,g),v(y,g)):g.isMeshDepthMaterial?s(y,g):g.isMeshDistanceMaterial?(s(y,g),x(y,g)):g.isMeshNormalMaterial?s(y,g):g.isLineBasicMaterial?(o(y,g),g.isLineDashedMaterial&&a(y,g)):g.isPointsMaterial?l(y,g,A,_):g.isSpriteMaterial?c(y,g):g.isShadowMaterial?(y.color.value.copy(g.color),y.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(y,g){y.opacity.value=g.opacity,g.color&&y.diffuse.value.copy(g.color),g.emissive&&y.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(y.map.value=g.map,t(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,t(g.alphaMap,y.alphaMapTransform)),g.bumpMap&&(y.bumpMap.value=g.bumpMap,t(g.bumpMap,y.bumpMapTransform),y.bumpScale.value=g.bumpScale,g.side===ri&&(y.bumpScale.value*=-1)),g.normalMap&&(y.normalMap.value=g.normalMap,t(g.normalMap,y.normalMapTransform),y.normalScale.value.copy(g.normalScale),g.side===ri&&y.normalScale.value.negate()),g.displacementMap&&(y.displacementMap.value=g.displacementMap,t(g.displacementMap,y.displacementMapTransform),y.displacementScale.value=g.displacementScale,y.displacementBias.value=g.displacementBias),g.emissiveMap&&(y.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,y.emissiveMapTransform)),g.specularMap&&(y.specularMap.value=g.specularMap,t(g.specularMap,y.specularMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest);const A=e.get(g).envMap;if(A&&(y.envMap.value=A,y.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=g.reflectivity,y.ior.value=g.ior,y.refractionRatio.value=g.refractionRatio),g.lightMap){y.lightMap.value=g.lightMap;const _=n._useLegacyLights===!0?Math.PI:1;y.lightMapIntensity.value=g.lightMapIntensity*_,t(g.lightMap,y.lightMapTransform)}g.aoMap&&(y.aoMap.value=g.aoMap,y.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,y.aoMapTransform))}function o(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,g.map&&(y.map.value=g.map,t(g.map,y.mapTransform))}function a(y,g){y.dashSize.value=g.dashSize,y.totalSize.value=g.dashSize+g.gapSize,y.scale.value=g.scale}function l(y,g,A,_){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.size.value=g.size*A,y.scale.value=_*.5,g.map&&(y.map.value=g.map,t(g.map,y.uvTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,t(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function c(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.rotation.value=g.rotation,g.map&&(y.map.value=g.map,t(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,t(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function u(y,g){y.specular.value.copy(g.specular),y.shininess.value=Math.max(g.shininess,1e-4)}function h(y,g){g.gradientMap&&(y.gradientMap.value=g.gradientMap)}function p(y,g){y.metalness.value=g.metalness,g.metalnessMap&&(y.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,y.metalnessMapTransform)),y.roughness.value=g.roughness,g.roughnessMap&&(y.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,y.roughnessMapTransform)),e.get(g).envMap&&(y.envMapIntensity.value=g.envMapIntensity)}function m(y,g,A){y.ior.value=g.ior,g.sheen>0&&(y.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),y.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(y.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,y.sheenColorMapTransform)),g.sheenRoughnessMap&&(y.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,y.sheenRoughnessMapTransform))),g.clearcoat>0&&(y.clearcoat.value=g.clearcoat,y.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(y.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,y.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(y.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===ri&&y.clearcoatNormalScale.value.negate())),g.iridescence>0&&(y.iridescence.value=g.iridescence,y.iridescenceIOR.value=g.iridescenceIOR,y.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(y.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,y.iridescenceMapTransform)),g.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),g.transmission>0&&(y.transmission.value=g.transmission,y.transmissionSamplerMap.value=A.texture,y.transmissionSamplerSize.value.set(A.width,A.height),g.transmissionMap&&(y.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,y.transmissionMapTransform)),y.thickness.value=g.thickness,g.thicknessMap&&(y.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=g.attenuationDistance,y.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(y.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(y.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=g.specularIntensity,y.specularColor.value.copy(g.specularColor),g.specularColorMap&&(y.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,y.specularColorMapTransform)),g.specularIntensityMap&&(y.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,y.specularIntensityMapTransform))}function v(y,g){g.matcap&&(y.matcap.value=g.matcap)}function x(y,g){const A=e.get(g).light;y.referencePosition.value.setFromMatrixPosition(A.matrixWorld),y.nearDistance.value=A.shadow.camera.near,y.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function XU(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(A,_){const M=_.program;r.uniformBlockBinding(A,M)}function c(A,_){let M=i[A.id];M===void 0&&(v(A),M=u(A),i[A.id]=M,A.addEventListener("dispose",y));const R=_.program;r.updateUBOMapping(A,R);const b=e.render.frame;s[A.id]!==b&&(p(A),s[A.id]=b)}function u(A){const _=h();A.__bindingPointIndex=_;const M=n.createBuffer(),R=A.__size,b=A.usage;return n.bindBuffer(n.UNIFORM_BUFFER,M),n.bufferData(n.UNIFORM_BUFFER,R,b),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,_,M),M}function h(){for(let A=0;A<a;A++)if(o.indexOf(A)===-1)return o.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(A){const _=i[A.id],M=A.uniforms,R=A.__cache;n.bindBuffer(n.UNIFORM_BUFFER,_);for(let b=0,P=M.length;b<P;b++){const D=Array.isArray(M[b])?M[b]:[M[b]];for(let V=0,T=D.length;V<T;V++){const L=D[V];if(m(L,b,V,R)===!0){const G=L.__offset,se=Array.isArray(L.value)?L.value:[L.value];let W=0;for(let te=0;te<se.length;te++){const re=se[te],ue=x(re);typeof re=="number"||typeof re=="boolean"?(L.__data[0]=re,n.bufferSubData(n.UNIFORM_BUFFER,G+W,L.__data)):re.isMatrix3?(L.__data[0]=re.elements[0],L.__data[1]=re.elements[1],L.__data[2]=re.elements[2],L.__data[3]=0,L.__data[4]=re.elements[3],L.__data[5]=re.elements[4],L.__data[6]=re.elements[5],L.__data[7]=0,L.__data[8]=re.elements[6],L.__data[9]=re.elements[7],L.__data[10]=re.elements[8],L.__data[11]=0):(re.toArray(L.__data,W),W+=ue.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,G,L.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(A,_,M,R){const b=A.value,P=_+"_"+M;if(R[P]===void 0)return typeof b=="number"||typeof b=="boolean"?R[P]=b:R[P]=b.clone(),!0;{const D=R[P];if(typeof b=="number"||typeof b=="boolean"){if(D!==b)return R[P]=b,!0}else if(D.equals(b)===!1)return D.copy(b),!0}return!1}function v(A){const _=A.uniforms;let M=0;const R=16;for(let P=0,D=_.length;P<D;P++){const V=Array.isArray(_[P])?_[P]:[_[P]];for(let T=0,L=V.length;T<L;T++){const G=V[T],se=Array.isArray(G.value)?G.value:[G.value];for(let W=0,te=se.length;W<te;W++){const re=se[W],ue=x(re),F=M%R;F!==0&&R-F<ue.boundary&&(M+=R-F),G.__data=new Float32Array(ue.storage/Float32Array.BYTES_PER_ELEMENT),G.__offset=M,M+=ue.storage}}}const b=M%R;return b>0&&(M+=R-b),A.__size=M,A.__cache={},this}function x(A){const _={boundary:0,storage:0};return typeof A=="number"||typeof A=="boolean"?(_.boundary=4,_.storage=4):A.isVector2?(_.boundary=8,_.storage=8):A.isVector3||A.isColor?(_.boundary=16,_.storage=12):A.isVector4?(_.boundary=16,_.storage=16):A.isMatrix3?(_.boundary=48,_.storage=48):A.isMatrix4?(_.boundary=64,_.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),_}function y(A){const _=A.target;_.removeEventListener("dispose",y);const M=o.indexOf(_.__bindingPointIndex);o.splice(M,1),n.deleteBuffer(i[_.id]),delete i[_.id],delete s[_.id]}function g(){for(const A in i)n.deleteBuffer(i[A]);o=[],i={},s={}}return{bind:l,update:c,dispose:g}}class m4{constructor(e={}){const{canvas:t=H8(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),v=new Int32Array(4);let x=null,y=null;const g=[],A=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=un,this._useLegacyLights=!1,this.toneMapping=so,this.toneMappingExposure=1;const _=this;let M=!1,R=0,b=0,P=null,D=-1,V=null;const T=new Qt,L=new Qt;let G=null;const se=new Xe(0);let W=0,te=t.width,re=t.height,ue=1,F=null,Y=null;const Q=new Qt(0,0,te,re),fe=new Qt(0,0,te,re);let xe=!1;const Oe=new Zh;let X=!1,j=!1,H=null;const z=new yt,ve=new Ce,be=new Z,Ee={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Te(){return P===null?ue:1}let J=r;function Ae(O,K){for(let q=0;q<O.length;q++){const ce=O[q],ie=t.getContext(ce,K);if(ie!==null)return ie}return null}try{const O={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${pf}`),t.addEventListener("webglcontextlost",He,!1),t.addEventListener("webglcontextrestored",ne,!1),t.addEventListener("webglcontextcreationerror",je,!1),J===null){const K=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&K.shift(),J=Ae(K,O),J===null)throw Ae(K)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&J instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),J.getShaderPrecisionFormat===void 0&&(J.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(O){throw console.error("THREE.WebGLRenderer: "+O.message),O}let ae,me,ye,De,oe,I,k,he,Ne,ge,we,Ge,Ue,Je,st,ut,Fe,Dt,St,ft,Ze,et,gt,At;function bt(){ae=new ik(J),me=new QO(J,ae,e),ae.init(me),et=new q8(J,ae,me),ye=new UU(J,ae,me),De=new ak(J),oe=new bU,I=new zU(J,ae,ye,oe,me,et,De),k=new ek(_),he=new rk(_),Ne=new mN(J,me),gt=new KO(J,ae,Ne,me),ge=new sk(J,Ne,De,gt),we=new fk(J,ge,Ne,De),St=new uk(J,me,I),ut=new qO(oe),Ge=new CU(_,k,he,ae,me,gt,ut),Ue=new $U(_,oe),Je=new RU,st=new NU(ae,me),Dt=new YO(_,k,he,ye,we,p,l),Fe=new kU(_,we,me),At=new XU(J,De,me,ye),ft=new ZO(J,ae,De,me),Ze=new ok(J,ae,De,me),De.programs=Ge.programs,_.capabilities=me,_.extensions=ae,_.properties=oe,_.renderLists=Je,_.shadowMap=Fe,_.state=ye,_.info=De}bt();const Ut=new jU(_,J);this.xr=Ut,this.getContext=function(){return J},this.getContextAttributes=function(){return J.getContextAttributes()},this.forceContextLoss=function(){const O=ae.get("WEBGL_lose_context");O&&O.loseContext()},this.forceContextRestore=function(){const O=ae.get("WEBGL_lose_context");O&&O.restoreContext()},this.getPixelRatio=function(){return ue},this.setPixelRatio=function(O){O!==void 0&&(ue=O,this.setSize(te,re,!1))},this.getSize=function(O){return O.set(te,re)},this.setSize=function(O,K,q=!0){if(Ut.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}te=O,re=K,t.width=Math.floor(O*ue),t.height=Math.floor(K*ue),q===!0&&(t.style.width=O+"px",t.style.height=K+"px"),this.setViewport(0,0,O,K)},this.getDrawingBufferSize=function(O){return O.set(te*ue,re*ue).floor()},this.setDrawingBufferSize=function(O,K,q){te=O,re=K,ue=q,t.width=Math.floor(O*q),t.height=Math.floor(K*q),this.setViewport(0,0,O,K)},this.getCurrentViewport=function(O){return O.copy(T)},this.getViewport=function(O){return O.copy(Q)},this.setViewport=function(O,K,q,ce){O.isVector4?Q.set(O.x,O.y,O.z,O.w):Q.set(O,K,q,ce),ye.viewport(T.copy(Q).multiplyScalar(ue).floor())},this.getScissor=function(O){return O.copy(fe)},this.setScissor=function(O,K,q,ce){O.isVector4?fe.set(O.x,O.y,O.z,O.w):fe.set(O,K,q,ce),ye.scissor(L.copy(fe).multiplyScalar(ue).floor())},this.getScissorTest=function(){return xe},this.setScissorTest=function(O){ye.setScissorTest(xe=O)},this.setOpaqueSort=function(O){F=O},this.setTransparentSort=function(O){Y=O},this.getClearColor=function(O){return O.copy(Dt.getClearColor())},this.setClearColor=function(){Dt.setClearColor.apply(Dt,arguments)},this.getClearAlpha=function(){return Dt.getClearAlpha()},this.setClearAlpha=function(){Dt.setClearAlpha.apply(Dt,arguments)},this.clear=function(O=!0,K=!0,q=!0){let ce=0;if(O){let ie=!1;if(P!==null){const Me=P.texture.format;ie=Me===e4||Me===qx||Me===Qx}if(ie){const Me=P.texture.type,Re=Me===oo||Me===No||Me===fg||Me===Ha||Me===Yx||Me===Kx,Le=Dt.getClearColor(),Ie=Dt.getClearAlpha(),tt=Le.r,ke=Le.g,ze=Le.b;Re?(m[0]=tt,m[1]=ke,m[2]=ze,m[3]=Ie,J.clearBufferuiv(J.COLOR,0,m)):(v[0]=tt,v[1]=ke,v[2]=ze,v[3]=Ie,J.clearBufferiv(J.COLOR,0,v))}else ce|=J.COLOR_BUFFER_BIT}K&&(ce|=J.DEPTH_BUFFER_BIT),q&&(ce|=J.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),J.clear(ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",He,!1),t.removeEventListener("webglcontextrestored",ne,!1),t.removeEventListener("webglcontextcreationerror",je,!1),Je.dispose(),st.dispose(),oe.dispose(),k.dispose(),he.dispose(),we.dispose(),gt.dispose(),At.dispose(),Ge.dispose(),Ut.dispose(),Ut.removeEventListener("sessionstart",gr),Ut.removeEventListener("sessionend",sn),H&&(H.dispose(),H=null),qn.stop()};function He(O){O.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function ne(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const O=De.autoReset,K=Fe.enabled,q=Fe.autoUpdate,ce=Fe.needsUpdate,ie=Fe.type;bt(),De.autoReset=O,Fe.enabled=K,Fe.autoUpdate=q,Fe.needsUpdate=ce,Fe.type=ie}function je(O){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",O.statusMessage)}function $e(O){const K=O.target;K.removeEventListener("dispose",$e),ct(K)}function ct(O){mt(O),oe.remove(O)}function mt(O){const K=oe.get(O).programs;K!==void 0&&(K.forEach(function(q){Ge.releaseProgram(q)}),O.isShaderMaterial&&Ge.releaseShaderCache(O))}this.renderBufferDirect=function(O,K,q,ce,ie,Me){K===null&&(K=Ee);const Re=ie.isMesh&&ie.matrixWorld.determinant()<0,Le=U(O,K,q,ce,ie);ye.setMaterial(ce,Re);let Ie=q.index,tt=1;if(ce.wireframe===!0){if(Ie=ge.getWireframeAttribute(q),Ie===void 0)return;tt=2}const ke=q.drawRange,ze=q.attributes.position;let rt=ke.start*tt,pt=(ke.start+ke.count)*tt;Me!==null&&(rt=Math.max(rt,Me.start*tt),pt=Math.min(pt,(Me.start+Me.count)*tt)),Ie!==null?(rt=Math.max(rt,0),pt=Math.min(pt,Ie.count)):ze!=null&&(rt=Math.max(rt,0),pt=Math.min(pt,ze.count));const vt=pt-rt;if(vt<0||vt===1/0)return;gt.setup(ie,ce,Le,q,Ie);let Rt,nt=ft;if(Ie!==null&&(Rt=Ne.get(Ie),nt=Ze,nt.setIndex(Rt)),ie.isMesh)ce.wireframe===!0?(ye.setLineWidth(ce.wireframeLinewidth*Te()),nt.setMode(J.LINES)):nt.setMode(J.TRIANGLES);else if(ie.isLine){let Ye=ce.linewidth;Ye===void 0&&(Ye=1),ye.setLineWidth(Ye*Te()),ie.isLineSegments?nt.setMode(J.LINES):ie.isLineLoop?nt.setMode(J.LINE_LOOP):nt.setMode(J.LINE_STRIP)}else ie.isPoints?nt.setMode(J.POINTS):ie.isSprite&&nt.setMode(J.TRIANGLES);if(ie.isBatchedMesh)nt.renderMultiDraw(ie._multiDrawStarts,ie._multiDrawCounts,ie._multiDrawCount);else if(ie.isInstancedMesh)nt.renderInstances(rt,vt,ie.count);else if(q.isInstancedBufferGeometry){const Ye=q._maxInstanceCount!==void 0?q._maxInstanceCount:1/0,Ht=Math.min(q.instanceCount,Ye);nt.renderInstances(rt,vt,Ht)}else nt.render(rt,vt)};function Zt(O,K,q){O.transparent===!0&&O.side===qr&&O.forceSinglePass===!1?(O.side=ri,O.needsUpdate=!0,Nt(O,K,q),O.side=lo,O.needsUpdate=!0,Nt(O,K,q),O.side=qr):Nt(O,K,q)}this.compile=function(O,K,q=null){q===null&&(q=O),y=st.get(q),y.init(),A.push(y),q.traverseVisible(function(ie){ie.isLight&&ie.layers.test(K.layers)&&(y.pushLight(ie),ie.castShadow&&y.pushShadow(ie))}),O!==q&&O.traverseVisible(function(ie){ie.isLight&&ie.layers.test(K.layers)&&(y.pushLight(ie),ie.castShadow&&y.pushShadow(ie))}),y.setupLights(_._useLegacyLights);const ce=new Set;return O.traverse(function(ie){const Me=ie.material;if(Me)if(Array.isArray(Me))for(let Re=0;Re<Me.length;Re++){const Le=Me[Re];Zt(Le,q,ie),ce.add(Le)}else Zt(Me,q,ie),ce.add(Me)}),A.pop(),y=null,ce},this.compileAsync=function(O,K,q=null){const ce=this.compile(O,K,q);return new Promise(ie=>{function Me(){if(ce.forEach(function(Re){oe.get(Re).currentProgram.isReady()&&ce.delete(Re)}),ce.size===0){ie(O);return}setTimeout(Me,10)}ae.get("KHR_parallel_shader_compile")!==null?Me():setTimeout(Me,10)})};let rn=null;function Fn(O){rn&&rn(O)}function gr(){qn.stop()}function sn(){qn.start()}const qn=new X8;qn.setAnimationLoop(Fn),typeof self<"u"&&qn.setContext(self),this.setAnimationLoop=function(O){rn=O,Ut.setAnimationLoop(O),O===null?qn.stop():qn.start()},Ut.addEventListener("sessionstart",gr),Ut.addEventListener("sessionend",sn),this.render=function(O,K){if(K!==void 0&&K.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;O.matrixWorldAutoUpdate===!0&&O.updateMatrixWorld(),K.parent===null&&K.matrixWorldAutoUpdate===!0&&K.updateMatrixWorld(),Ut.enabled===!0&&Ut.isPresenting===!0&&(Ut.cameraAutoUpdate===!0&&Ut.updateCamera(K),K=Ut.getCamera()),O.isScene===!0&&O.onBeforeRender(_,O,K,P),y=st.get(O,A.length),y.init(),A.push(y),z.multiplyMatrices(K.projectionMatrix,K.matrixWorldInverse),Oe.setFromProjectionMatrix(z),j=this.localClippingEnabled,X=ut.init(this.clippingPlanes,j),x=Je.get(O,g.length),x.init(),g.push(x),oi(O,K,0,_.sortObjects),x.finish(),_.sortObjects===!0&&x.sort(F,Y),this.info.render.frame++,X===!0&&ut.beginShadows();const q=y.state.shadowsArray;if(Fe.render(q,O,K),X===!0&&ut.endShadows(),this.info.autoReset===!0&&this.info.reset(),(Ut.enabled===!1||Ut.isPresenting===!1||Ut.hasDepthSensing()===!1)&&Dt.render(x,O),y.setupLights(_._useLegacyLights),K.isArrayCamera){const ce=K.cameras;for(let ie=0,Me=ce.length;ie<Me;ie++){const Re=ce[ie];Gs(x,O,Re,Re.viewport)}}else Gs(x,O,K);P!==null&&(I.updateMultisampleRenderTarget(P),I.updateRenderTargetMipmap(P)),O.isScene===!0&&O.onAfterRender(_,O,K),gt.resetDefaultState(),D=-1,V=null,A.pop(),A.length>0?y=A[A.length-1]:y=null,g.pop(),g.length>0?x=g[g.length-1]:x=null};function oi(O,K,q,ce){if(O.visible===!1)return;if(O.layers.test(K.layers)){if(O.isGroup)q=O.renderOrder;else if(O.isLOD)O.autoUpdate===!0&&O.update(K);else if(O.isLight)y.pushLight(O),O.castShadow&&y.pushShadow(O);else if(O.isSprite){if(!O.frustumCulled||Oe.intersectsSprite(O)){ce&&be.setFromMatrixPosition(O.matrixWorld).applyMatrix4(z);const Re=we.update(O),Le=O.material;Le.visible&&x.push(O,Re,Le,q,be.z,null)}}else if((O.isMesh||O.isLine||O.isPoints)&&(!O.frustumCulled||Oe.intersectsObject(O))){const Re=we.update(O),Le=O.material;if(ce&&(O.boundingSphere!==void 0?(O.boundingSphere===null&&O.computeBoundingSphere(),be.copy(O.boundingSphere.center)):(Re.boundingSphere===null&&Re.computeBoundingSphere(),be.copy(Re.boundingSphere.center)),be.applyMatrix4(O.matrixWorld).applyMatrix4(z)),Array.isArray(Le)){const Ie=Re.groups;for(let tt=0,ke=Ie.length;tt<ke;tt++){const ze=Ie[tt],rt=Le[ze.materialIndex];rt&&rt.visible&&x.push(O,Re,rt,q,be.z,ze)}}else Le.visible&&x.push(O,Re,Le,q,be.z,null)}}const Me=O.children;for(let Re=0,Le=Me.length;Re<Le;Re++)oi(Me[Re],K,q,ce)}function Gs(O,K,q,ce){const ie=O.opaque,Me=O.transmissive,Re=O.transparent;y.setupLightsView(q),X===!0&&ut.setGlobalState(_.clippingPlanes,q),Me.length>0&&fl(ie,Me,K,q),ce&&ye.viewport(T.copy(ce)),ie.length>0&&Vi(ie,K,q),Me.length>0&&Vi(Me,K,q),Re.length>0&&Vi(Re,K,q),ye.buffers.depth.setTest(!0),ye.buffers.depth.setMask(!0),ye.buffers.color.setMask(!0),ye.setPolygonOffset(!1)}function fl(O,K,q,ce){if((q.isScene===!0?q.overrideMaterial:null)!==null)return;const Me=me.isWebGL2;H===null&&(H=new ms(1,1,{generateMipmaps:!0,type:ae.has("EXT_color_buffer_half_float")?kr:oo,minFilter:cs,samples:Me?4:0})),_.getDrawingBufferSize(ve),Me?H.setSize(ve.x,ve.y):H.setSize(bm(ve.x),bm(ve.y));const Re=_.getRenderTarget();_.setRenderTarget(H),_.getClearColor(se),W=_.getClearAlpha(),W<1&&_.setClearColor(16777215,.5),_.clear();const Le=_.toneMapping;_.toneMapping=so,Vi(O,q,ce),I.updateMultisampleRenderTarget(H),I.updateRenderTargetMipmap(H);let Ie=!1;for(let tt=0,ke=K.length;tt<ke;tt++){const ze=K[tt],rt=ze.object,pt=ze.geometry,vt=ze.material,Rt=ze.group;if(vt.side===qr&&rt.layers.test(ce.layers)){const nt=vt.side;vt.side=ri,vt.needsUpdate=!0,ai(rt,q,ce,pt,vt,Rt),vt.side=nt,vt.needsUpdate=!0,Ie=!0}}Ie===!0&&(I.updateMultisampleRenderTarget(H),I.updateRenderTargetMipmap(H)),_.setRenderTarget(Re),_.setClearColor(se,W),_.toneMapping=Le}function Vi(O,K,q){const ce=K.isScene===!0?K.overrideMaterial:null;for(let ie=0,Me=O.length;ie<Me;ie++){const Re=O[ie],Le=Re.object,Ie=Re.geometry,tt=ce===null?Re.material:ce,ke=Re.group;Le.layers.test(q.layers)&&ai(Le,K,q,Ie,tt,ke)}}function ai(O,K,q,ce,ie,Me){O.onBeforeRender(_,K,q,ce,ie,Me),O.modelViewMatrix.multiplyMatrices(q.matrixWorldInverse,O.matrixWorld),O.normalMatrix.getNormalMatrix(O.modelViewMatrix),ie.onBeforeRender(_,K,q,ce,O,Me),ie.transparent===!0&&ie.side===qr&&ie.forceSinglePass===!1?(ie.side=ri,ie.needsUpdate=!0,_.renderBufferDirect(q,K,ce,ie,O,Me),ie.side=lo,ie.needsUpdate=!0,_.renderBufferDirect(q,K,ce,ie,O,Me),ie.side=qr):_.renderBufferDirect(q,K,ce,ie,O,Me),O.onAfterRender(_,K,q,ce,ie,Me)}function Nt(O,K,q){K.isScene!==!0&&(K=Ee);const ce=oe.get(O),ie=y.state.lights,Me=y.state.shadowsArray,Re=ie.state.version,Le=Ge.getParameters(O,ie.state,Me,K,q),Ie=Ge.getProgramCacheKey(Le);let tt=ce.programs;ce.environment=O.isMeshStandardMaterial?K.environment:null,ce.fog=K.fog,ce.envMap=(O.isMeshStandardMaterial?he:k).get(O.envMap||ce.environment),tt===void 0&&(O.addEventListener("dispose",$e),tt=new Map,ce.programs=tt);let ke=tt.get(Ie);if(ke!==void 0){if(ce.currentProgram===ke&&ce.lightsStateVersion===Re)return wc(O,Le),ke}else Le.uniforms=Ge.getUniforms(O),O.onBuild(q,Le,_),O.onBeforeCompile(Le,_),ke=Ge.acquireProgram(Le,Ie),tt.set(Ie,ke),ce.uniforms=Le.uniforms;const ze=ce.uniforms;return(!O.isShaderMaterial&&!O.isRawShaderMaterial||O.clipping===!0)&&(ze.clippingPlanes=ut.uniform),wc(O,Le),ce.needsLights=de(O),ce.lightsStateVersion=Re,ce.needsLights&&(ze.ambientLightColor.value=ie.state.ambient,ze.lightProbe.value=ie.state.probe,ze.directionalLights.value=ie.state.directional,ze.directionalLightShadows.value=ie.state.directionalShadow,ze.spotLights.value=ie.state.spot,ze.spotLightShadows.value=ie.state.spotShadow,ze.rectAreaLights.value=ie.state.rectArea,ze.ltc_1.value=ie.state.rectAreaLTC1,ze.ltc_2.value=ie.state.rectAreaLTC2,ze.pointLights.value=ie.state.point,ze.pointLightShadows.value=ie.state.pointShadow,ze.hemisphereLights.value=ie.state.hemi,ze.directionalShadowMap.value=ie.state.directionalShadowMap,ze.directionalShadowMatrix.value=ie.state.directionalShadowMatrix,ze.spotShadowMap.value=ie.state.spotShadowMap,ze.spotLightMatrix.value=ie.state.spotLightMatrix,ze.spotLightMap.value=ie.state.spotLightMap,ze.pointShadowMap.value=ie.state.pointShadowMap,ze.pointShadowMatrix.value=ie.state.pointShadowMatrix),ce.currentProgram=ke,ce.uniformsList=null,ke}function dl(O){if(O.uniformsList===null){const K=O.currentProgram.getUniforms();O.uniformsList=J0.seqWithValue(K.seq,O.uniforms)}return O.uniformsList}function wc(O,K){const q=oe.get(O);q.outputColorSpace=K.outputColorSpace,q.batching=K.batching,q.instancing=K.instancing,q.instancingColor=K.instancingColor,q.skinning=K.skinning,q.morphTargets=K.morphTargets,q.morphNormals=K.morphNormals,q.morphColors=K.morphColors,q.morphTargetsCount=K.morphTargetsCount,q.numClippingPlanes=K.numClippingPlanes,q.numIntersection=K.numClipIntersection,q.vertexAlphas=K.vertexAlphas,q.vertexTangents=K.vertexTangents,q.toneMapping=K.toneMapping}function U(O,K,q,ce,ie){K.isScene!==!0&&(K=Ee),I.resetTextureUnits();const Me=K.fog,Re=ce.isMeshStandardMaterial?K.environment:null,Le=P===null?_.outputColorSpace:P.isXRRenderTarget===!0?P.texture.colorSpace:xi,Ie=(ce.isMeshStandardMaterial?he:k).get(ce.envMap||Re),tt=ce.vertexColors===!0&&!!q.attributes.color&&q.attributes.color.itemSize===4,ke=!!q.attributes.tangent&&(!!ce.normalMap||ce.anisotropy>0),ze=!!q.morphAttributes.position,rt=!!q.morphAttributes.normal,pt=!!q.morphAttributes.color;let vt=so;ce.toneMapped&&(P===null||P.isXRRenderTarget===!0)&&(vt=_.toneMapping);const Rt=q.morphAttributes.position||q.morphAttributes.normal||q.morphAttributes.color,nt=Rt!==void 0?Rt.length:0,Ye=oe.get(ce),Ht=y.state.lights;if(X===!0&&(j===!0||O!==V)){const Ft=O===V&&ce.id===D;ut.setState(ce,O,Ft)}let Et=!1;ce.version===Ye.__version?(Ye.needsLights&&Ye.lightsStateVersion!==Ht.state.version||Ye.outputColorSpace!==Le||ie.isBatchedMesh&&Ye.batching===!1||!ie.isBatchedMesh&&Ye.batching===!0||ie.isInstancedMesh&&Ye.instancing===!1||!ie.isInstancedMesh&&Ye.instancing===!0||ie.isSkinnedMesh&&Ye.skinning===!1||!ie.isSkinnedMesh&&Ye.skinning===!0||ie.isInstancedMesh&&Ye.instancingColor===!0&&ie.instanceColor===null||ie.isInstancedMesh&&Ye.instancingColor===!1&&ie.instanceColor!==null||Ye.envMap!==Ie||ce.fog===!0&&Ye.fog!==Me||Ye.numClippingPlanes!==void 0&&(Ye.numClippingPlanes!==ut.numPlanes||Ye.numIntersection!==ut.numIntersection)||Ye.vertexAlphas!==tt||Ye.vertexTangents!==ke||Ye.morphTargets!==ze||Ye.morphNormals!==rt||Ye.morphColors!==pt||Ye.toneMapping!==vt||me.isWebGL2===!0&&Ye.morphTargetsCount!==nt)&&(Et=!0):(Et=!0,Ye.__version=ce.version);let Mt=Ye.currentProgram;Et===!0&&(Mt=Nt(ce,K,ie));let on=!1,On=!1,wn=!1;const Jt=Mt.getUniforms(),Vt=Ye.uniforms;if(ye.useProgram(Mt.program)&&(on=!0,On=!0,wn=!0),ce.id!==D&&(D=ce.id,On=!0),on||V!==O){Jt.setValue(J,"projectionMatrix",O.projectionMatrix),Jt.setValue(J,"viewMatrix",O.matrixWorldInverse);const Ft=Jt.map.cameraPosition;Ft!==void 0&&Ft.setValue(J,be.setFromMatrixPosition(O.matrixWorld)),me.logarithmicDepthBuffer&&Jt.setValue(J,"logDepthBufFC",2/(Math.log(O.far+1)/Math.LN2)),(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial)&&Jt.setValue(J,"isOrthographic",O.isOrthographicCamera===!0),V!==O&&(V=O,On=!0,wn=!0)}if(ie.isSkinnedMesh){Jt.setOptional(J,ie,"bindMatrix"),Jt.setOptional(J,ie,"bindMatrixInverse");const Ft=ie.skeleton;Ft&&(me.floatVertexTextures?(Ft.boneTexture===null&&Ft.computeBoneTexture(),Jt.setValue(J,"boneTexture",Ft.boneTexture,I)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}ie.isBatchedMesh&&(Jt.setOptional(J,ie,"batchingTexture"),Jt.setValue(J,"batchingTexture",ie._matricesTexture,I));const bn=q.morphAttributes;if((bn.position!==void 0||bn.normal!==void 0||bn.color!==void 0&&me.isWebGL2===!0)&&St.update(ie,q,Mt),(On||Ye.receiveShadow!==ie.receiveShadow)&&(Ye.receiveShadow=ie.receiveShadow,Jt.setValue(J,"receiveShadow",ie.receiveShadow)),ce.isMeshGouraudMaterial&&ce.envMap!==null&&(Vt.envMap.value=Ie,Vt.flipEnvMap.value=Ie.isCubeTexture&&Ie.isRenderTargetTexture===!1?-1:1),On&&(Jt.setValue(J,"toneMappingExposure",_.toneMappingExposure),Ye.needsLights&&$(Vt,wn),Me&&ce.fog===!0&&Ue.refreshFogUniforms(Vt,Me),Ue.refreshMaterialUniforms(Vt,ce,ue,re,H),J0.upload(J,dl(Ye),Vt,I)),ce.isShaderMaterial&&ce.uniformsNeedUpdate===!0&&(J0.upload(J,dl(Ye),Vt,I),ce.uniformsNeedUpdate=!1),ce.isSpriteMaterial&&Jt.setValue(J,"center",ie.center),Jt.setValue(J,"modelViewMatrix",ie.modelViewMatrix),Jt.setValue(J,"normalMatrix",ie.normalMatrix),Jt.setValue(J,"modelMatrix",ie.matrixWorld),ce.isShaderMaterial||ce.isRawShaderMaterial){const Ft=ce.uniformsGroups;for(let Wt=0,pn=Ft.length;Wt<pn;Wt++)if(me.isWebGL2){const Wi=Ft[Wt];At.update(Wi,Mt),At.bind(Wi,Mt)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Mt}function $(O,K){O.ambientLightColor.needsUpdate=K,O.lightProbe.needsUpdate=K,O.directionalLights.needsUpdate=K,O.directionalLightShadows.needsUpdate=K,O.pointLights.needsUpdate=K,O.pointLightShadows.needsUpdate=K,O.spotLights.needsUpdate=K,O.spotLightShadows.needsUpdate=K,O.rectAreaLights.needsUpdate=K,O.hemisphereLights.needsUpdate=K}function de(O){return O.isMeshLambertMaterial||O.isMeshToonMaterial||O.isMeshPhongMaterial||O.isMeshStandardMaterial||O.isShadowMaterial||O.isShaderMaterial&&O.lights===!0}this.getActiveCubeFace=function(){return R},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(O,K,q){oe.get(O.texture).__webglTexture=K,oe.get(O.depthTexture).__webglTexture=q;const ce=oe.get(O);ce.__hasExternalTextures=!0,ce.__hasExternalTextures&&(ce.__autoAllocateDepthBuffer=q===void 0,ce.__autoAllocateDepthBuffer||ae.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ce.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(O,K){const q=oe.get(O);q.__webglFramebuffer=K,q.__useDefaultFramebuffer=K===void 0},this.setRenderTarget=function(O,K=0,q=0){P=O,R=K,b=q;let ce=!0,ie=null,Me=!1,Re=!1;if(O){const Ie=oe.get(O);Ie.__useDefaultFramebuffer!==void 0?(ye.bindFramebuffer(J.FRAMEBUFFER,null),ce=!1):Ie.__webglFramebuffer===void 0?I.setupRenderTarget(O):Ie.__hasExternalTextures&&I.rebindTextures(O,oe.get(O.texture).__webglTexture,oe.get(O.depthTexture).__webglTexture);const tt=O.texture;(tt.isData3DTexture||tt.isDataArrayTexture||tt.isCompressedArrayTexture)&&(Re=!0);const ke=oe.get(O).__webglFramebuffer;O.isWebGLCubeRenderTarget?(Array.isArray(ke[K])?ie=ke[K][q]:ie=ke[K],Me=!0):me.isWebGL2&&O.samples>0&&I.useMultisampledRTT(O)===!1?ie=oe.get(O).__webglMultisampledFramebuffer:Array.isArray(ke)?ie=ke[q]:ie=ke,T.copy(O.viewport),L.copy(O.scissor),G=O.scissorTest}else T.copy(Q).multiplyScalar(ue).floor(),L.copy(fe).multiplyScalar(ue).floor(),G=xe;if(ye.bindFramebuffer(J.FRAMEBUFFER,ie)&&me.drawBuffers&&ce&&ye.drawBuffers(O,ie),ye.viewport(T),ye.scissor(L),ye.setScissorTest(G),Me){const Ie=oe.get(O.texture);J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_CUBE_MAP_POSITIVE_X+K,Ie.__webglTexture,q)}else if(Re){const Ie=oe.get(O.texture),tt=K||0;J.framebufferTextureLayer(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,Ie.__webglTexture,q||0,tt)}D=-1},this.readRenderTargetPixels=function(O,K,q,ce,ie,Me,Re){if(!(O&&O.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Le=oe.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&Re!==void 0&&(Le=Le[Re]),Le){ye.bindFramebuffer(J.FRAMEBUFFER,Le);try{const Ie=O.texture,tt=Ie.format,ke=Ie.type;if(tt!==Fr&&et.convert(tt)!==J.getParameter(J.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ze=ke===kr&&(ae.has("EXT_color_buffer_half_float")||me.isWebGL2&&ae.has("EXT_color_buffer_float"));if(ke!==oo&&et.convert(ke)!==J.getParameter(J.IMPLEMENTATION_COLOR_READ_TYPE)&&!(ke===rr&&(me.isWebGL2||ae.has("OES_texture_float")||ae.has("WEBGL_color_buffer_float")))&&!ze){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}K>=0&&K<=O.width-ce&&q>=0&&q<=O.height-ie&&J.readPixels(K,q,ce,ie,et.convert(tt),et.convert(ke),Me)}finally{const Ie=P!==null?oe.get(P).__webglFramebuffer:null;ye.bindFramebuffer(J.FRAMEBUFFER,Ie)}}},this.copyFramebufferToTexture=function(O,K,q=0){const ce=Math.pow(2,-q),ie=Math.floor(K.image.width*ce),Me=Math.floor(K.image.height*ce);I.setTexture2D(K,0),J.copyTexSubImage2D(J.TEXTURE_2D,q,0,0,O.x,O.y,ie,Me),ye.unbindTexture()},this.copyTextureToTexture=function(O,K,q,ce=0){const ie=K.image.width,Me=K.image.height,Re=et.convert(q.format),Le=et.convert(q.type);I.setTexture2D(q,0),J.pixelStorei(J.UNPACK_FLIP_Y_WEBGL,q.flipY),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),J.pixelStorei(J.UNPACK_ALIGNMENT,q.unpackAlignment),K.isDataTexture?J.texSubImage2D(J.TEXTURE_2D,ce,O.x,O.y,ie,Me,Re,Le,K.image.data):K.isCompressedTexture?J.compressedTexSubImage2D(J.TEXTURE_2D,ce,O.x,O.y,K.mipmaps[0].width,K.mipmaps[0].height,Re,K.mipmaps[0].data):J.texSubImage2D(J.TEXTURE_2D,ce,O.x,O.y,Re,Le,K.image),ce===0&&q.generateMipmaps&&J.generateMipmap(J.TEXTURE_2D),ye.unbindTexture()},this.copyTextureToTexture3D=function(O,K,q,ce,ie=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Me=O.max.x-O.min.x+1,Re=O.max.y-O.min.y+1,Le=O.max.z-O.min.z+1,Ie=et.convert(ce.format),tt=et.convert(ce.type);let ke;if(ce.isData3DTexture)I.setTexture3D(ce,0),ke=J.TEXTURE_3D;else if(ce.isDataArrayTexture||ce.isCompressedArrayTexture)I.setTexture2DArray(ce,0),ke=J.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}J.pixelStorei(J.UNPACK_FLIP_Y_WEBGL,ce.flipY),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ce.premultiplyAlpha),J.pixelStorei(J.UNPACK_ALIGNMENT,ce.unpackAlignment);const ze=J.getParameter(J.UNPACK_ROW_LENGTH),rt=J.getParameter(J.UNPACK_IMAGE_HEIGHT),pt=J.getParameter(J.UNPACK_SKIP_PIXELS),vt=J.getParameter(J.UNPACK_SKIP_ROWS),Rt=J.getParameter(J.UNPACK_SKIP_IMAGES),nt=q.isCompressedTexture?q.mipmaps[ie]:q.image;J.pixelStorei(J.UNPACK_ROW_LENGTH,nt.width),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,nt.height),J.pixelStorei(J.UNPACK_SKIP_PIXELS,O.min.x),J.pixelStorei(J.UNPACK_SKIP_ROWS,O.min.y),J.pixelStorei(J.UNPACK_SKIP_IMAGES,O.min.z),q.isDataTexture||q.isData3DTexture?J.texSubImage3D(ke,ie,K.x,K.y,K.z,Me,Re,Le,Ie,tt,nt.data):q.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),J.compressedTexSubImage3D(ke,ie,K.x,K.y,K.z,Me,Re,Le,Ie,nt.data)):J.texSubImage3D(ke,ie,K.x,K.y,K.z,Me,Re,Le,Ie,tt,nt),J.pixelStorei(J.UNPACK_ROW_LENGTH,ze),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,rt),J.pixelStorei(J.UNPACK_SKIP_PIXELS,pt),J.pixelStorei(J.UNPACK_SKIP_ROWS,vt),J.pixelStorei(J.UNPACK_SKIP_IMAGES,Rt),ie===0&&ce.generateMipmaps&&J.generateMipmap(ke),ye.unbindTexture()},this.initTexture=function(O){O.isCubeTexture?I.setTextureCube(O,0):O.isData3DTexture?I.setTexture3D(O,0):O.isDataArrayTexture||O.isCompressedArrayTexture?I.setTexture2DArray(O,0):I.setTexture2D(O,0),ye.unbindTexture()},this.resetState=function(){R=0,b=0,P=null,ye.reset(),gt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return to}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===hg?"display-p3":"srgb",t.unpackColorSpace=an.workingColorSpace===Xh?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===un?Va:i4}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Va?un:xi}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class tb extends m4{}tb.prototype.isWebGL1Renderer=!0;class vg{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Xe(e),this.density=t}clone(){return new vg(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class yg{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new Xe(e),this.near=t,this.far=r}clone(){return new yg(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Ka extends Bt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class Qh{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Ch,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Oi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return ql("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Oi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Oi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Jr=new Z;class Za{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Jr.fromBufferAttribute(this,t),Jr.applyMatrix4(e),this.setXYZ(t,Jr.x,Jr.y,Jr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Jr.fromBufferAttribute(this,t),Jr.applyNormalMatrix(e),this.setXYZ(t,Jr.x,Jr.y,Jr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Jr.fromBufferAttribute(this,t),Jr.transformDirection(e),this.setXYZ(t,Jr.x,Jr.y,Jr.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=ei(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Ot(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=Ot(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Ot(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Ot(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Ot(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ei(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ei(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ei(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ei(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ot(t,this.array),r=Ot(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ot(t,this.array),r=Ot(r,this.array),i=Ot(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ot(t,this.array),r=Ot(r,this.array),i=Ot(i,this.array),s=Ot(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Kt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Za(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class g4 extends Qn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Xe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Qc;const cd=new Z,qc=new Z,eu=new Z,tu=new Ce,ud=new Ce,nb=new yt,$1=new Z,fd=new Z,X1=new Z,Xw=new Ce,Wv=new Ce,Jw=new Ce;class rb extends Bt{constructor(e=new g4){if(super(),this.isSprite=!0,this.type="Sprite",Qc===void 0){Qc=new Pt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Qh(t,5);Qc.setIndex([0,1,2,0,2,3]),Qc.setAttribute("position",new Za(r,3,0,!1)),Qc.setAttribute("uv",new Za(r,2,3,!1))}this.geometry=Qc,this.material=e,this.center=new Ce(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),qc.setFromMatrixScale(this.matrixWorld),nb.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),eu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&qc.multiplyScalar(-eu.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;J1($1.set(-.5,-.5,0),eu,o,qc,i,s),J1(fd.set(.5,-.5,0),eu,o,qc,i,s),J1(X1.set(.5,.5,0),eu,o,qc,i,s),Xw.set(0,0),Wv.set(1,0),Jw.set(1,1);let a=e.ray.intersectTriangle($1,fd,X1,!1,cd);if(a===null&&(J1(fd.set(-.5,.5,0),eu,o,qc,i,s),Wv.set(0,1),a=e.ray.intersectTriangle($1,X1,fd,!1,cd),a===null))return;const l=e.ray.origin.distanceTo(cd);l<e.near||l>e.far||t.push({distance:l,point:cd.clone(),uv:Li.getInterpolation(cd,$1,fd,X1,Xw,Wv,Jw,new Ce),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function J1(n,e,t,r,i,s){tu.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(ud.x=s*tu.x-i*tu.y,ud.y=i*tu.x+s*tu.y):ud.copy(tu),n.copy(e),n.x+=ud.x,n.y+=ud.y,n.applyMatrix4(nb)}const Y1=new Z,Yw=new Z;class ib extends Bt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Y1.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Y1);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Y1.setFromMatrixPosition(e.matrixWorld),Yw.setFromMatrixPosition(this.matrixWorld);const r=Y1.distanceTo(Yw)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const Kw=new Z,Zw=new Qt,Qw=new Qt,JU=new Z,qw=new yt,K1=new Z,jv=new Er,eS=new yt,$v=new gf;class v4 extends Cn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=D3,this.bindMatrix=new yt,this.bindMatrixInverse=new yt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new zr),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,K1),this.boundingBox.expandByPoint(K1)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Er),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,K1),this.boundingSphere.expandByPoint(K1)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),jv.copy(this.boundingSphere),jv.applyMatrix4(i),e.ray.intersectsSphere(jv)!==!1&&(eS.copy(i).invert(),$v.copy(e.ray).applyMatrix4(eS),!(this.boundingBox!==null&&$v.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,$v)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Qt,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===D3?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===y8?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;Zw.fromBufferAttribute(i.attributes.skinIndex,e),Qw.fromBufferAttribute(i.attributes.skinWeight,e),Kw.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=Qw.getComponent(s);if(o!==0){const a=Zw.getComponent(s);qw.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(JU.copy(Kw).applyMatrix4(qw),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class _g extends Bt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class tc extends yn{constructor(e=null,t=1,r=1,i,s,o,a,l,c=jt,u=jt,h,p){super(null,o,a,l,c,u,i,s,h,p),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const tS=new yt,YU=new yt;class qh{constructor(e=[],t=[]){this.uuid=Oi(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new yt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new yt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:YU;tS.multiplyMatrices(a,t[s]),tS.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new qh(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new tc(t,e,e,Fr,rr);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new _g),this.bones.push(o),this.boneInverses.push(new yt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class tf extends Kt{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const nu=new yt,nS=new yt,Z1=[],rS=new zr,KU=new yt,dd=new Cn,hd=new Er;class y4 extends Cn{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new tf(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,KU)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new zr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,nu),rS.copy(e.boundingBox).applyMatrix4(nu),this.boundingBox.union(rS)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Er),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,nu),hd.copy(e.boundingSphere).applyMatrix4(nu),this.boundingSphere.union(hd)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(dd.geometry=this.geometry,dd.material=this.material,dd.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),hd.copy(this.boundingSphere),hd.applyMatrix4(r),e.ray.intersectsSphere(hd)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,nu),nS.multiplyMatrices(r,nu),dd.matrixWorld=nS,dd.raycast(e,Z1);for(let o=0,a=Z1.length;o<a;o++){const l=Z1[o];l.instanceId=s,l.object=this,t.push(l)}Z1.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new tf(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function ZU(n,e){return n.z-e.z}function QU(n,e){return e.z-n.z}class qU{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const s=r[this.index];i.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=t}reset(){this.list.length=0,this.index=0}}const ru="batchId",ga=new yt,iS=new yt,ez=new yt,sS=new yt,Xv=new Zh,Q1=new zr,Cl=new Er,pd=new Z,Jv=new qU,Br=new Cn,q1=[];function tz(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const i=n.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+t,o,n.getComponent(s,o))}else e.array.set(n.array,t*r);e.needsUpdate=!0}class sb extends Cn{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,t,r=t*2,i){super(new Pt,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new tc(t,e,e,Fr,rr);this._matricesTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:c,itemSize:u,normalized:h}=l,p=new c.constructor(r*u),m=new l.constructor(p,u,h);m.setUsage(l.usage),t.setAttribute(a,m)}if(e.getIndex()!==null){const a=r>65536?new Uint32Array(s):new Uint16Array(s);t.setIndex(new Kt(a,1))}const o=i>65536?new Uint32Array(r):new Uint16Array(r);t.setAttribute(ru,new Kt(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(ru))throw new Error(`BatchedMesh: Geometry cannot use attribute "${ru}"`);const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(r===ru)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=t.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new zr);const e=this._geometryCount,t=this.boundingBox,r=this._active;t.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,ga),this.getBoundingBoxAt(i,Q1).applyMatrix4(ga),t.union(Q1))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Er);const e=this._geometryCount,t=this.boundingSphere,r=this._active;t.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,ga),this.getBoundingSphereAt(i,Cl).applyMatrix4(ga),t.union(Cl))}addGeometry(e,t=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),t===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=t,s===null?i.vertexStart=0:i.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(r===-1?i.indexCount=c.count:i.indexCount=r,s===null?i.indexStart=0:i.indexStart=s.indexStart+s.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const h=this._visibility,p=this._active,m=this._matricesTexture,v=this._matricesTexture.image.data;h.push(!0),p.push(!0);const x=this._geometryCount;this._geometryCount++,ez.toArray(v,x*16),m.needsUpdate=!0,o.push(i),a.push({start:u?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new zr,sphereInitialized:!1,sphere:new Er});const y=this.geometry.getAttribute(ru);for(let g=0;g<i.vertexCount;g++)y.setX(i.vertexStart+g,x);return y.needsUpdate=!0,this.setGeometryAt(x,e),x}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=t.getIndex(),a=this._reservedRanges[e];if(i&&o.count>a.indexCount||t.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const m in r.attributes){if(m===ru)continue;const v=t.getAttribute(m),x=r.getAttribute(m);tz(v,x,l);const y=v.itemSize;for(let g=v.count,A=c;g<A;g++){const _=l+g;for(let M=0;M<y;M++)x.setComponent(_,M,0)}x.needsUpdate=!0}if(i){const m=a.indexStart;for(let v=0;v<o.count;v++)s.setX(m+v,l+o.getX(v));for(let v=o.count,x=a.indexCount;v<x;v++)s.setX(m+v,l);s.needsUpdate=!0}const u=this._bounds[e];t.boundingBox!==null?(u.box.copy(t.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,t.boundingSphere!==null?(u.sphere.copy(t.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const h=this._drawRanges[e],p=t.getAttribute("position");return h.count=i?o.count:p.count,this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._active;return e>=t.length||t[e]===!1?this:(t[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,t){if(this._active[e]===!1)return null;const i=this._bounds[e],s=i.box,o=this.geometry;if(i.boxInitialized===!1){s.makeEmpty();const a=o.index,l=o.attributes.position,c=this._drawRanges[e];for(let u=c.start,h=c.start+c.count;u<h;u++){let p=u;a&&(p=a.getX(p)),s.expandByPoint(pd.fromBufferAttribute(l,p))}i.boxInitialized=!0}return t.copy(s),t}getBoundingSphereAt(e,t){if(this._active[e]===!1)return null;const i=this._bounds[e],s=i.sphere,o=this.geometry;if(i.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,Q1),Q1.getCenter(s.center);const a=o.index,l=o.attributes.position,c=this._drawRanges[e];let u=0;for(let h=c.start,p=c.start+c.count;h<p;h++){let m=h;a&&(m=a.getX(m)),pd.fromBufferAttribute(l,m),u=Math.max(u,s.center.distanceToSquared(pd))}s.radius=Math.sqrt(u),i.sphereInitialized=!0}return t.copy(s),t}setMatrixAt(e,t){const r=this._active,i=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(t.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,t){const r=this._active,i=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?null:t.fromArray(i,e*16)}setVisibleAt(e,t){const r=this._visibility,i=this._active,s=this._geometryCount;return e>=s||i[e]===!1||r[e]===t?this:(r[e]=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:t[e]}raycast(e,t){const r=this._visibility,i=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;Br.material=this.material,Br.geometry.index=l.index,Br.geometry.attributes=l.attributes,Br.geometry.boundingBox===null&&(Br.geometry.boundingBox=new zr),Br.geometry.boundingSphere===null&&(Br.geometry.boundingSphere=new Er);for(let c=0;c<o;c++){if(!r[c]||!i[c])continue;const u=s[c];Br.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(c,Br.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Br.geometry.boundingBox),this.getBoundingSphereAt(c,Br.geometry.boundingSphere),Br.raycast(e,q1);for(let h=0,p=q1.length;h<p;h++){const m=q1[h];m.object=this,m.batchId=c,t.push(m)}q1.length=0}Br.material=null,Br.geometry.index=null,Br.geometry.attributes={},Br.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>({...t})),this._reservedRanges=e._reservedRanges.map(t=>({...t})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,t,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._active,c=this._visibility,u=this._multiDrawStarts,h=this._multiDrawCounts,p=this._drawRanges,m=this.perObjectFrustumCulled;m&&(sS.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),Xv.setFromProjectionMatrix(sS,e.coordinateSystem));let v=0;if(this.sortObjects){iS.copy(this.matrixWorld).invert(),pd.setFromMatrixPosition(r.matrixWorld).applyMatrix4(iS);for(let g=0,A=c.length;g<A;g++)if(c[g]&&l[g]){this.getMatrixAt(g,ga),this.getBoundingSphereAt(g,Cl).applyMatrix4(ga);let _=!1;if(m&&(_=!Xv.intersectsSphere(Cl)),!_){const M=pd.distanceTo(Cl.center);Jv.push(p[g],M)}}const x=Jv.list,y=this.customSort;y===null?x.sort(s.transparent?QU:ZU):y.call(this,x,r);for(let g=0,A=x.length;g<A;g++){const _=x[g];u[v]=_.start*a,h[v]=_.count,v++}Jv.reset()}else for(let x=0,y=c.length;x<y;x++)if(c[x]&&l[x]){let g=!1;if(m&&(this.getMatrixAt(x,ga),this.getBoundingSphereAt(x,Cl).applyMatrix4(ga),g=!Xv.intersectsSphere(Cl)),!g){const A=p[x];u[v]=A.start*a,h[v]=A.count,v++}}this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class Vr extends Qn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Xe(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const oS=new Z,aS=new Z,lS=new yt,Yv=new gf,e0=new Er;class jo extends Bt{constructor(e=new Pt,t=new Vr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)oS.fromBufferAttribute(t,i-1),aS.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=oS.distanceTo(aS);e.setAttribute("lineDistance",new lt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),e0.copy(r.boundingSphere),e0.applyMatrix4(i),e0.radius+=s,e.ray.intersectsSphere(e0)===!1)return;lS.copy(i).invert(),Yv.copy(e.ray).applyMatrix4(lS);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new Z,u=new Z,h=new Z,p=new Z,m=this.isLineSegments?2:1,v=r.index,y=r.attributes.position;if(v!==null){const g=Math.max(0,o.start),A=Math.min(v.count,o.start+o.count);for(let _=g,M=A-1;_<M;_+=m){const R=v.getX(_),b=v.getX(_+1);if(c.fromBufferAttribute(y,R),u.fromBufferAttribute(y,b),Yv.distanceSqToSegment(c,u,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const D=e.ray.origin.distanceTo(p);D<e.near||D>e.far||t.push({distance:D,point:h.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),A=Math.min(y.count,o.start+o.count);for(let _=g,M=A-1;_<M;_+=m){if(c.fromBufferAttribute(y,_),u.fromBufferAttribute(y,_+1),Yv.distanceSqToSegment(c,u,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(p);b<e.near||b>e.far||t.push({distance:b,point:h.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const cS=new Z,uS=new Z;class ks extends jo{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)cS.fromBufferAttribute(t,i),uS.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+cS.distanceTo(uS);e.setAttribute("lineDistance",new lt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class _4 extends jo{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class xg extends Qn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Xe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const fS=new yt,d_=new gf,t0=new Er,n0=new Z;class Eg extends Bt{constructor(e=new Pt,t=new xg){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),t0.copy(r.boundingSphere),t0.applyMatrix4(i),t0.radius+=s,e.ray.intersectsSphere(t0)===!1)return;fS.copy(i).invert(),d_.copy(e.ray).applyMatrix4(fS);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,h=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=p,x=m;v<x;v++){const y=c.getX(v);n0.fromBufferAttribute(h,y),dS(n0,y,l,i,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let v=p,x=m;v<x;v++)n0.fromBufferAttribute(h,v),dS(n0,v,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function dS(n,e,t,r,i,s,o){const a=d_.distanceSqToPoint(n);if(a<t){const l=new Z;d_.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class nz extends yn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Ct,this.magFilter=s!==void 0?s:Ct,this.generateMipmaps=!1;const u=this;function h(){u.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class rz extends yn{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=jt,this.minFilter=jt,this.generateMipmaps=!1,this.needsUpdate=!0}}class Ag extends yn{constructor(e,t,r,i,s,o,a,l,c,u,h,p){super(null,o,a,l,c,u,i,s,h,p),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class iz extends Ag{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=_r}}class sz extends Ag{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,co),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class oz extends yn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Us{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],p=r[i+1]-u,m=(o-u)/p;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new Ce:new Z);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new Z,i=[],s=[],o=[],a=new Z,l=new yt;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new Z)}s[0]=new Z,o[0]=new Z;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),h=Math.abs(i[0].y),p=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),h<=c&&(c=h,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Hn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(Hn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class wg extends Us{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new Ce,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*u-m*h+this.aX,c=p*h+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ob extends wg{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function x4(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,h){let p=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+h)+(l-a)/h;p*=u,m*=u,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const r0=new Z,Kv=new x4,Zv=new x4,Qv=new x4;class ab extends Us{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new Z){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(r0.subVectors(i[0],i[1]).add(i[0]),c=r0);const h=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(r0.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=r0),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(h),m),x=Math.pow(h.distanceToSquared(p),m),y=Math.pow(p.distanceToSquared(u),m);x<1e-4&&(x=1),v<1e-4&&(v=x),y<1e-4&&(y=x),Kv.initNonuniformCatmullRom(c.x,h.x,p.x,u.x,v,x,y),Zv.initNonuniformCatmullRom(c.y,h.y,p.y,u.y,v,x,y),Qv.initNonuniformCatmullRom(c.z,h.z,p.z,u.z,v,x,y)}else this.curveType==="catmullrom"&&(Kv.initCatmullRom(c.x,h.x,p.x,u.x,this.tension),Zv.initCatmullRom(c.y,h.y,p.y,u.y,this.tension),Qv.initCatmullRom(c.z,h.z,p.z,u.z,this.tension));return r.set(Kv.calc(l),Zv.calc(l),Qv.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Z().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function hS(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function az(n,e){const t=1-n;return t*t*e}function lz(n,e){return 2*(1-n)*n*e}function cz(n,e){return n*n*e}function Jd(n,e,t,r){return az(n,e)+lz(n,t)+cz(n,r)}function uz(n,e){const t=1-n;return t*t*t*e}function fz(n,e){const t=1-n;return 3*t*t*n*e}function dz(n,e){return 3*(1-n)*n*n*e}function hz(n,e){return n*n*n*e}function Yd(n,e,t,r,i){return uz(n,e)+fz(n,t)+dz(n,r)+hz(n,i)}class E4 extends Us{constructor(e=new Ce,t=new Ce,r=new Ce,i=new Ce){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Ce){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Yd(e,i.x,s.x,o.x,a.x),Yd(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class lb extends Us{constructor(e=new Z,t=new Z,r=new Z,i=new Z){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Z){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Yd(e,i.x,s.x,o.x,a.x),Yd(e,i.y,s.y,o.y,a.y),Yd(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class A4 extends Us{constructor(e=new Ce,t=new Ce){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ce){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ce){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class cb extends Us{constructor(e=new Z,t=new Z){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Z){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Z){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class w4 extends Us{constructor(e=new Ce,t=new Ce,r=new Ce){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Ce){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Jd(e,i.x,s.x,o.x),Jd(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class S4 extends Us{constructor(e=new Z,t=new Z,r=new Z){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Z){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Jd(e,i.x,s.x,o.x),Jd(e,i.y,s.y,o.y),Jd(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class M4 extends Us{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ce){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(hS(a,l.x,c.x,u.x,h.x),hS(a,l.y,c.y,u.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Ce().fromArray(i))}return this}}var Tm=Object.freeze({__proto__:null,ArcCurve:ob,CatmullRomCurve3:ab,CubicBezierCurve:E4,CubicBezierCurve3:lb,EllipseCurve:wg,LineCurve:A4,LineCurve3:cb,QuadraticBezierCurve:w4,QuadraticBezierCurve3:S4,SplineCurve:M4});class ub extends Us{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Tm[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new Tm[i.type]().fromJSON(i))}return this}}class Wa extends ub{constructor(e){super(),this.type="Path",this.currentPoint=new Ce,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new A4(this.currentPoint.clone(),new Ce(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new w4(this.currentPoint.clone(),new Ce(e,t),new Ce(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new E4(this.currentPoint.clone(),new Ce(e,t),new Ce(r,i),new Ce(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new M4(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new wg(e,t,r,i,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class ep extends Pt{constructor(e=[new Ce(0,-.5),new Ce(.5,0),new Ce(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Hn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,h=new Z,p=new Ce,m=new Z,v=new Z,x=new Z;let y=0,g=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:y=e[A+1].x-e[A].x,g=e[A+1].y-e[A].y,m.x=g*1,m.y=-y,m.z=g*0,x.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:y=e[A+1].x-e[A].x,g=e[A+1].y-e[A].y,m.x=g*1,m.y=-y,m.z=g*0,v.copy(m),m.x+=x.x,m.y+=x.y,m.z+=x.z,m.normalize(),l.push(m.x,m.y,m.z),x.copy(v)}for(let A=0;A<=t;A++){const _=r+A*u*i,M=Math.sin(_),R=Math.cos(_);for(let b=0;b<=e.length-1;b++){h.x=e[b].x*M,h.y=e[b].y,h.z=e[b].x*R,o.push(h.x,h.y,h.z),p.x=A/t,p.y=b/(e.length-1),a.push(p.x,p.y);const P=l[3*b+0]*M,D=l[3*b+1],V=l[3*b+0]*R;c.push(P,D,V)}}for(let A=0;A<t;A++)for(let _=0;_<e.length-1;_++){const M=_+A*e.length,R=M,b=M+e.length,P=M+e.length+1,D=M+1;s.push(R,b,D),s.push(P,D,b)}this.setIndex(s),this.setAttribute("position",new lt(o,3)),this.setAttribute("uv",new lt(a,2)),this.setAttribute("normal",new lt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ep(e.points,e.segments,e.phiStart,e.phiLength)}}class Sg extends ep{constructor(e=1,t=1,r=4,i=8){const s=new Wa;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new Sg(e.radius,e.length,e.capSegments,e.radialSegments)}}class Mg extends Pt{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new Z,u=new Ce;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const m=r+h/t*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[p]/e+1)/2,u.y=(o[p+1]/e+1)/2,l.push(u.x,u.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new lt(o,3)),this.setAttribute("normal",new lt(a,3)),this.setAttribute("uv",new lt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mg(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Ef extends Pt{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],h=[],p=[],m=[];let v=0;const x=[],y=r/2;let g=0;A(),o===!1&&(e>0&&_(!0),t>0&&_(!1)),this.setIndex(u),this.setAttribute("position",new lt(h,3)),this.setAttribute("normal",new lt(p,3)),this.setAttribute("uv",new lt(m,2));function A(){const M=new Z,R=new Z;let b=0;const P=(t-e)/r;for(let D=0;D<=s;D++){const V=[],T=D/s,L=T*(t-e)+e;for(let G=0;G<=i;G++){const se=G/i,W=se*l+a,te=Math.sin(W),re=Math.cos(W);R.x=L*te,R.y=-T*r+y,R.z=L*re,h.push(R.x,R.y,R.z),M.set(te,P,re).normalize(),p.push(M.x,M.y,M.z),m.push(se,1-T),V.push(v++)}x.push(V)}for(let D=0;D<i;D++)for(let V=0;V<s;V++){const T=x[V][D],L=x[V+1][D],G=x[V+1][D+1],se=x[V][D+1];u.push(T,L,se),u.push(L,G,se),b+=6}c.addGroup(g,b,0),g+=b}function _(M){const R=v,b=new Ce,P=new Z;let D=0;const V=M===!0?e:t,T=M===!0?1:-1;for(let G=1;G<=i;G++)h.push(0,y*T,0),p.push(0,T,0),m.push(.5,.5),v++;const L=v;for(let G=0;G<=i;G++){const W=G/i*l+a,te=Math.cos(W),re=Math.sin(W);P.x=V*re,P.y=y*T,P.z=V*te,h.push(P.x,P.y,P.z),p.push(0,T,0),b.x=te*.5+.5,b.y=re*.5*T+.5,m.push(b.x,b.y),v++}for(let G=0;G<i;G++){const se=R+G,W=L+G;M===!0?u.push(W,W+1,se):u.push(W+1,W,se),D+=3}c.addGroup(g,D,M===!0?1:2),g+=D}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ef(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Cg extends Ef{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Cg(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ll extends Pt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new lt(s,3)),this.setAttribute("normal",new lt(s.slice(),3)),this.setAttribute("uv",new lt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(A){const _=new Z,M=new Z,R=new Z;for(let b=0;b<t.length;b+=3)m(t[b+0],_),m(t[b+1],M),m(t[b+2],R),l(_,M,R,A)}function l(A,_,M,R){const b=R+1,P=[];for(let D=0;D<=b;D++){P[D]=[];const V=A.clone().lerp(M,D/b),T=_.clone().lerp(M,D/b),L=b-D;for(let G=0;G<=L;G++)G===0&&D===b?P[D][G]=V:P[D][G]=V.clone().lerp(T,G/L)}for(let D=0;D<b;D++)for(let V=0;V<2*(b-D)-1;V++){const T=Math.floor(V/2);V%2===0?(p(P[D][T+1]),p(P[D+1][T]),p(P[D][T])):(p(P[D][T+1]),p(P[D+1][T+1]),p(P[D+1][T]))}}function c(A){const _=new Z;for(let M=0;M<s.length;M+=3)_.x=s[M+0],_.y=s[M+1],_.z=s[M+2],_.normalize().multiplyScalar(A),s[M+0]=_.x,s[M+1]=_.y,s[M+2]=_.z}function u(){const A=new Z;for(let _=0;_<s.length;_+=3){A.x=s[_+0],A.y=s[_+1],A.z=s[_+2];const M=y(A)/2/Math.PI+.5,R=g(A)/Math.PI+.5;o.push(M,1-R)}v(),h()}function h(){for(let A=0;A<o.length;A+=6){const _=o[A+0],M=o[A+2],R=o[A+4],b=Math.max(_,M,R),P=Math.min(_,M,R);b>.9&&P<.1&&(_<.2&&(o[A+0]+=1),M<.2&&(o[A+2]+=1),R<.2&&(o[A+4]+=1))}}function p(A){s.push(A.x,A.y,A.z)}function m(A,_){const M=A*3;_.x=e[M+0],_.y=e[M+1],_.z=e[M+2]}function v(){const A=new Z,_=new Z,M=new Z,R=new Z,b=new Ce,P=new Ce,D=new Ce;for(let V=0,T=0;V<s.length;V+=9,T+=6){A.set(s[V+0],s[V+1],s[V+2]),_.set(s[V+3],s[V+4],s[V+5]),M.set(s[V+6],s[V+7],s[V+8]),b.set(o[T+0],o[T+1]),P.set(o[T+2],o[T+3]),D.set(o[T+4],o[T+5]),R.copy(A).add(_).add(M).divideScalar(3);const L=y(R);x(b,T+0,A,L),x(P,T+2,_,L),x(D,T+4,M,L)}}function x(A,_,M,R){R<0&&A.x===1&&(o[_]=A.x-1),M.x===0&&M.z===0&&(o[_]=R/2/Math.PI+.5)}function y(A){return Math.atan2(A.z,-A.x)}function g(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ll(e.vertices,e.indices,e.radius,e.details)}}class bg extends ll{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new bg(e.radius,e.detail)}}const i0=new Z,s0=new Z,qv=new Z,o0=new Li;class fb extends Pt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(Ql*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],h=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:x,b:y,c:g}=o0;if(x.fromBufferAttribute(a,c[0]),y.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),o0.getNormal(qv),h[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,h[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,h[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let A=0;A<3;A++){const _=(A+1)%3,M=h[A],R=h[_],b=o0[u[A]],P=o0[u[_]],D=`${M}_${R}`,V=`${R}_${M}`;V in p&&p[V]?(qv.dot(p[V].normal)<=s&&(m.push(b.x,b.y,b.z),m.push(P.x,P.y,P.z)),p[V]=null):D in p||(p[D]={index0:c[A],index1:c[_],normal:qv.clone()})}}for(const v in p)if(p[v]){const{index0:x,index1:y}=p[v];i0.fromBufferAttribute(a,x),s0.fromBufferAttribute(a,y),m.push(i0.x,i0.y,i0.z),m.push(s0.x,s0.y,s0.z)}this.setAttribute("position",new lt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ja extends Wa{constructor(e){super(e),this.uuid=Oi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Wa().fromJSON(i))}return this}}const pz={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=db(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,h,p,m;if(r&&(s=_z(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let v=t;v<i;v+=t)h=n[v],p=n[v+1],h<a&&(a=h),p<l&&(l=p),h>c&&(c=h),p>u&&(u=p);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return Rh(s,o,t,a,l,m,0),o}};function db(n,e,t,r,i){let s,o;if(i===Pz(n,e,t,r)>0)for(s=e;s<t;s+=r)o=pS(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=pS(s,n[s],n[s+1],o);return o&&Tg(o,o.next)&&(Ih(o),o=o.next),o}function dc(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(Tg(t,t.next)||Ln(t.prev,t,t.next)===0)){if(Ih(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Rh(n,e,t,r,i,s,o){if(!n)return;!o&&s&&Sz(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?gz(n,r,i,s):mz(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Ih(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=vz(dc(n),e,t),Rh(n,e,t,r,i,s,2)):o===2&&yz(n,e,t,r,i,s):Rh(dc(n),e,t,r,i,s,1);break}}}function mz(n){const e=n.prev,t=n,r=n.next;if(Ln(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let v=r.next;for(;v!==e;){if(v.x>=u&&v.x<=p&&v.y>=h&&v.y<=m&&bu(i,a,s,l,o,c,v.x,v.y)&&Ln(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function gz(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Ln(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,h=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,v=u<h?u<p?u:p:h<p?h:p,x=a>l?a>c?a:c:l>c?l:c,y=u>h?u>p?u:p:h>p?h:p,g=h_(m,v,e,t,r),A=h_(x,y,e,t,r);let _=n.prevZ,M=n.nextZ;for(;_&&_.z>=g&&M&&M.z<=A;){if(_.x>=m&&_.x<=x&&_.y>=v&&_.y<=y&&_!==i&&_!==o&&bu(a,u,l,h,c,p,_.x,_.y)&&Ln(_.prev,_,_.next)>=0||(_=_.prevZ,M.x>=m&&M.x<=x&&M.y>=v&&M.y<=y&&M!==i&&M!==o&&bu(a,u,l,h,c,p,M.x,M.y)&&Ln(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;_&&_.z>=g;){if(_.x>=m&&_.x<=x&&_.y>=v&&_.y<=y&&_!==i&&_!==o&&bu(a,u,l,h,c,p,_.x,_.y)&&Ln(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;M&&M.z<=A;){if(M.x>=m&&M.x<=x&&M.y>=v&&M.y<=y&&M!==i&&M!==o&&bu(a,u,l,h,c,p,M.x,M.y)&&Ln(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function vz(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!Tg(i,s)&&hb(i,r,r.next,s)&&Ph(i,s)&&Ph(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),Ih(r),Ih(r.next),r=n=s),r=r.next}while(r!==n);return dc(r)}function yz(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&bz(o,a)){let l=pb(o,a);o=dc(o,o.next),l=dc(l,l.next),Rh(o,e,t,r,i,s,0),Rh(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function _z(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=db(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Cz(c));for(i.sort(xz),s=0;s<i.length;s++)t=Ez(i[s],t);return t}function xz(n,e){return n.x-e.x}function Ez(n,e){const t=Az(n,e);if(!t)return e;const r=pb(t,n);return dc(r,r.next),dc(t,t.next)}function Az(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>r&&(r=p,i=t.x<t.next.x?t:t.next,p===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,h;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&bu(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),Ph(t,n)&&(h<u||h===u&&(t.x>i.x||t.x===i.x&&wz(i,t)))&&(i=t,u=h)),t=t.next;while(t!==a);return i}function wz(n,e){return Ln(n.prev,n,e.prev)<0&&Ln(e.next,n,n.next)<0}function Sz(n,e,t,r){let i=n;do i.z===0&&(i.z=h_(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,Mz(i)}function Mz(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function h_(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Cz(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function bu(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function bz(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Tz(n,e)&&(Ph(n,e)&&Ph(e,n)&&Rz(n,e)&&(Ln(n.prev,n,e.prev)||Ln(n,e.prev,e))||Tg(n,e)&&Ln(n.prev,n,n.next)>0&&Ln(e.prev,e,e.next)>0)}function Ln(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Tg(n,e){return n.x===e.x&&n.y===e.y}function hb(n,e,t,r){const i=l0(Ln(n,e,t)),s=l0(Ln(n,e,r)),o=l0(Ln(t,r,n)),a=l0(Ln(t,r,e));return!!(i!==s&&o!==a||i===0&&a0(n,t,e)||s===0&&a0(n,r,e)||o===0&&a0(t,n,r)||a===0&&a0(t,e,r))}function a0(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function l0(n){return n>0?1:n<0?-1:0}function Tz(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&hb(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Ph(n,e){return Ln(n.prev,n,n.next)<0?Ln(n,e,n.next)>=0&&Ln(n,n.prev,e)>=0:Ln(n,e,n.prev)<0||Ln(n,n.next,e)<0}function Rz(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function pb(n,e){const t=new p_(n.i,n.x,n.y),r=new p_(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function pS(n,e,t,r){const i=new p_(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ih(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function p_(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Pz(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class Ds{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Ds.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];mS(e),gS(r,e);let o=e.length;t.forEach(mS);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,gS(r,t[l]);const a=pz.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function mS(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function gS(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Rg extends Pt{constructor(e=new ja([new Ce(.5,.5),new Ce(-.5,.5),new Ce(-.5,-.5),new Ce(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new lt(i,3)),this.setAttribute("uv",new lt(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,x=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,A=t.UVGenerator!==void 0?t.UVGenerator:Iz;let _,M=!1,R,b,P,D;g&&(_=g.getSpacedPoints(u),M=!0,p=!1,R=g.computeFrenetFrames(u,!1),b=new Z,P=new Z,D=new Z),p||(y=0,m=0,v=0,x=0);const V=a.extractPoints(c);let T=V.shape;const L=V.holes;if(!Ds.isClockWise(T)){T=T.reverse();for(let J=0,Ae=L.length;J<Ae;J++){const ae=L[J];Ds.isClockWise(ae)&&(L[J]=ae.reverse())}}const se=Ds.triangulateShape(T,L),W=T;for(let J=0,Ae=L.length;J<Ae;J++){const ae=L[J];T=T.concat(ae)}function te(J,Ae,ae){return Ae||console.error("THREE.ExtrudeGeometry: vec does not exist"),J.clone().addScaledVector(Ae,ae)}const re=T.length,ue=se.length;function F(J,Ae,ae){let me,ye,De;const oe=J.x-Ae.x,I=J.y-Ae.y,k=ae.x-J.x,he=ae.y-J.y,Ne=oe*oe+I*I,ge=oe*he-I*k;if(Math.abs(ge)>Number.EPSILON){const we=Math.sqrt(Ne),Ge=Math.sqrt(k*k+he*he),Ue=Ae.x-I/we,Je=Ae.y+oe/we,st=ae.x-he/Ge,ut=ae.y+k/Ge,Fe=((st-Ue)*he-(ut-Je)*k)/(oe*he-I*k);me=Ue+oe*Fe-J.x,ye=Je+I*Fe-J.y;const Dt=me*me+ye*ye;if(Dt<=2)return new Ce(me,ye);De=Math.sqrt(Dt/2)}else{let we=!1;oe>Number.EPSILON?k>Number.EPSILON&&(we=!0):oe<-Number.EPSILON?k<-Number.EPSILON&&(we=!0):Math.sign(I)===Math.sign(he)&&(we=!0),we?(me=-I,ye=oe,De=Math.sqrt(Ne)):(me=oe,ye=I,De=Math.sqrt(Ne/2))}return new Ce(me/De,ye/De)}const Y=[];for(let J=0,Ae=W.length,ae=Ae-1,me=J+1;J<Ae;J++,ae++,me++)ae===Ae&&(ae=0),me===Ae&&(me=0),Y[J]=F(W[J],W[ae],W[me]);const Q=[];let fe,xe=Y.concat();for(let J=0,Ae=L.length;J<Ae;J++){const ae=L[J];fe=[];for(let me=0,ye=ae.length,De=ye-1,oe=me+1;me<ye;me++,De++,oe++)De===ye&&(De=0),oe===ye&&(oe=0),fe[me]=F(ae[me],ae[De],ae[oe]);Q.push(fe),xe=xe.concat(fe)}for(let J=0;J<y;J++){const Ae=J/y,ae=m*Math.cos(Ae*Math.PI/2),me=v*Math.sin(Ae*Math.PI/2)+x;for(let ye=0,De=W.length;ye<De;ye++){const oe=te(W[ye],Y[ye],me);z(oe.x,oe.y,-ae)}for(let ye=0,De=L.length;ye<De;ye++){const oe=L[ye];fe=Q[ye];for(let I=0,k=oe.length;I<k;I++){const he=te(oe[I],fe[I],me);z(he.x,he.y,-ae)}}}const Oe=v+x;for(let J=0;J<re;J++){const Ae=p?te(T[J],xe[J],Oe):T[J];M?(P.copy(R.normals[0]).multiplyScalar(Ae.x),b.copy(R.binormals[0]).multiplyScalar(Ae.y),D.copy(_[0]).add(P).add(b),z(D.x,D.y,D.z)):z(Ae.x,Ae.y,0)}for(let J=1;J<=u;J++)for(let Ae=0;Ae<re;Ae++){const ae=p?te(T[Ae],xe[Ae],Oe):T[Ae];M?(P.copy(R.normals[J]).multiplyScalar(ae.x),b.copy(R.binormals[J]).multiplyScalar(ae.y),D.copy(_[J]).add(P).add(b),z(D.x,D.y,D.z)):z(ae.x,ae.y,h/u*J)}for(let J=y-1;J>=0;J--){const Ae=J/y,ae=m*Math.cos(Ae*Math.PI/2),me=v*Math.sin(Ae*Math.PI/2)+x;for(let ye=0,De=W.length;ye<De;ye++){const oe=te(W[ye],Y[ye],me);z(oe.x,oe.y,h+ae)}for(let ye=0,De=L.length;ye<De;ye++){const oe=L[ye];fe=Q[ye];for(let I=0,k=oe.length;I<k;I++){const he=te(oe[I],fe[I],me);M?z(he.x,he.y+_[u-1].y,_[u-1].x+ae):z(he.x,he.y,h+ae)}}}X(),j();function X(){const J=i.length/3;if(p){let Ae=0,ae=re*Ae;for(let me=0;me<ue;me++){const ye=se[me];ve(ye[2]+ae,ye[1]+ae,ye[0]+ae)}Ae=u+y*2,ae=re*Ae;for(let me=0;me<ue;me++){const ye=se[me];ve(ye[0]+ae,ye[1]+ae,ye[2]+ae)}}else{for(let Ae=0;Ae<ue;Ae++){const ae=se[Ae];ve(ae[2],ae[1],ae[0])}for(let Ae=0;Ae<ue;Ae++){const ae=se[Ae];ve(ae[0]+re*u,ae[1]+re*u,ae[2]+re*u)}}r.addGroup(J,i.length/3-J,0)}function j(){const J=i.length/3;let Ae=0;H(W,Ae),Ae+=W.length;for(let ae=0,me=L.length;ae<me;ae++){const ye=L[ae];H(ye,Ae),Ae+=ye.length}r.addGroup(J,i.length/3-J,1)}function H(J,Ae){let ae=J.length;for(;--ae>=0;){const me=ae;let ye=ae-1;ye<0&&(ye=J.length-1);for(let De=0,oe=u+y*2;De<oe;De++){const I=re*De,k=re*(De+1),he=Ae+me+I,Ne=Ae+ye+I,ge=Ae+ye+k,we=Ae+me+k;be(he,Ne,ge,we)}}}function z(J,Ae,ae){l.push(J),l.push(Ae),l.push(ae)}function ve(J,Ae,ae){Ee(J),Ee(Ae),Ee(ae);const me=i.length/3,ye=A.generateTopUV(r,i,me-3,me-2,me-1);Te(ye[0]),Te(ye[1]),Te(ye[2])}function be(J,Ae,ae,me){Ee(J),Ee(Ae),Ee(me),Ee(Ae),Ee(ae),Ee(me);const ye=i.length/3,De=A.generateSideWallUV(r,i,ye-6,ye-3,ye-2,ye-1);Te(De[0]),Te(De[1]),Te(De[3]),Te(De[1]),Te(De[2]),Te(De[3])}function Ee(J){i.push(l[J*3+0]),i.push(l[J*3+1]),i.push(l[J*3+2])}function Te(J){s.push(J.x),s.push(J.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return Lz(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Tm[i.type]().fromJSON(i)),new Rg(r,e.options)}}const Iz={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Ce(s,o),new Ce(a,l),new Ce(c,u)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],h=e[r*3+2],p=e[i*3],m=e[i*3+1],v=e[i*3+2],x=e[s*3],y=e[s*3+1],g=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Ce(o,1-l),new Ce(c,1-h),new Ce(p,1-v),new Ce(x,1-g)]:[new Ce(a,1-l),new Ce(u,1-h),new Ce(m,1-v),new Ce(y,1-g)]}};function Lz(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class tp extends ll{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new tp(e.radius,e.detail)}}class np extends ll{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new np(e.radius,e.detail)}}class Pg extends Pt{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let h=e;const p=(t-e)/i,m=new Z,v=new Ce;for(let x=0;x<=i;x++){for(let y=0;y<=r;y++){const g=s+y/r*o;m.x=h*Math.cos(g),m.y=h*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,u.push(v.x,v.y)}h+=p}for(let x=0;x<i;x++){const y=x*(r+1);for(let g=0;g<r;g++){const A=g+y,_=A,M=A+r+1,R=A+r+2,b=A+1;a.push(_,M,b),a.push(M,R,b)}}this.setIndex(a),this.setAttribute("position",new lt(l,3)),this.setAttribute("normal",new lt(c,3)),this.setAttribute("uv",new lt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pg(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class rp extends Pt{constructor(e=new ja([new Ce(0,.5),new Ce(-.5,-.5),new Ce(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new lt(i,3)),this.setAttribute("normal",new lt(s,3)),this.setAttribute("uv",new lt(o,2));function c(u){const h=i.length/3,p=u.extractPoints(t);let m=p.shape;const v=p.holes;Ds.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,g=v.length;y<g;y++){const A=v[y];Ds.isClockWise(A)===!0&&(v[y]=A.reverse())}const x=Ds.triangulateShape(m,v);for(let y=0,g=v.length;y<g;y++){const A=v[y];m=m.concat(A)}for(let y=0,g=m.length;y<g;y++){const A=m[y];i.push(A.x,A.y,0),s.push(0,0,1),o.push(A.x,A.y)}for(let y=0,g=x.length;y<g;y++){const A=x[y],_=A[0]+h,M=A[1]+h,R=A[2]+h;r.push(_,M,R),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Bz(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new rp(r,e.curveSegments)}}function Bz(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class ip extends Pt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],h=new Z,p=new Z,m=[],v=[],x=[],y=[];for(let g=0;g<=r;g++){const A=[],_=g/r;let M=0;g===0&&o===0?M=.5/t:g===r&&l===Math.PI&&(M=-.5/t);for(let R=0;R<=t;R++){const b=R/t;h.x=-e*Math.cos(i+b*s)*Math.sin(o+_*a),h.y=e*Math.cos(o+_*a),h.z=e*Math.sin(i+b*s)*Math.sin(o+_*a),v.push(h.x,h.y,h.z),p.copy(h).normalize(),x.push(p.x,p.y,p.z),y.push(b+M,1-_),A.push(c++)}u.push(A)}for(let g=0;g<r;g++)for(let A=0;A<t;A++){const _=u[g][A+1],M=u[g][A],R=u[g+1][A],b=u[g+1][A+1];(g!==0||o>0)&&m.push(_,M,b),(g!==r-1||l<Math.PI)&&m.push(M,R,b)}this.setIndex(m),this.setAttribute("position",new lt(v,3)),this.setAttribute("normal",new lt(x,3)),this.setAttribute("uv",new lt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ip(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Ig extends ll{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ig(e.radius,e.detail)}}class Lg extends Pt{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new Z,h=new Z,p=new Z;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const x=v/i*s,y=m/r*Math.PI*2;h.x=(e+t*Math.cos(y))*Math.cos(x),h.y=(e+t*Math.cos(y))*Math.sin(x),h.z=t*Math.sin(y),a.push(h.x,h.y,h.z),u.x=e*Math.cos(x),u.y=e*Math.sin(x),p.subVectors(h,u).normalize(),l.push(p.x,p.y,p.z),c.push(v/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const x=(i+1)*m+v-1,y=(i+1)*(m-1)+v-1,g=(i+1)*(m-1)+v,A=(i+1)*m+v;o.push(x,y,A),o.push(y,g,A)}this.setIndex(o),this.setAttribute("position",new lt(a,3)),this.setAttribute("normal",new lt(l,3)),this.setAttribute("uv",new lt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lg(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Bg extends Pt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],h=new Z,p=new Z,m=new Z,v=new Z,x=new Z,y=new Z,g=new Z;for(let _=0;_<=r;++_){const M=_/r*s*Math.PI*2;A(M,s,o,e,m),A(M+.01,s,o,e,v),y.subVectors(v,m),g.addVectors(v,m),x.crossVectors(y,g),g.crossVectors(x,y),x.normalize(),g.normalize();for(let R=0;R<=i;++R){const b=R/i*Math.PI*2,P=-t*Math.cos(b),D=t*Math.sin(b);h.x=m.x+(P*g.x+D*x.x),h.y=m.y+(P*g.y+D*x.y),h.z=m.z+(P*g.z+D*x.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),c.push(p.x,p.y,p.z),u.push(_/r),u.push(R/i)}}for(let _=1;_<=r;_++)for(let M=1;M<=i;M++){const R=(i+1)*(_-1)+(M-1),b=(i+1)*_+(M-1),P=(i+1)*_+M,D=(i+1)*(_-1)+M;a.push(R,b,D),a.push(b,P,D)}this.setIndex(a),this.setAttribute("position",new lt(l,3)),this.setAttribute("normal",new lt(c,3)),this.setAttribute("uv",new lt(u,2));function A(_,M,R,b,P){const D=Math.cos(_),V=Math.sin(_),T=R/M*_,L=Math.cos(T);P.x=b*(2+L)*.5*D,P.y=b*(2+L)*V*.5,P.z=b*Math.sin(T)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bg(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Dg extends Pt{constructor(e=new S4(new Z(-1,-1,0),new Z(-1,1,0),new Z(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new Z,l=new Z,c=new Ce;let u=new Z;const h=[],p=[],m=[],v=[];x(),this.setIndex(v),this.setAttribute("position",new lt(h,3)),this.setAttribute("normal",new lt(p,3)),this.setAttribute("uv",new lt(m,2));function x(){for(let _=0;_<t;_++)y(_);y(s===!1?t:0),A(),g()}function y(_){u=e.getPointAt(_/t,u);const M=o.normals[_],R=o.binormals[_];for(let b=0;b<=i;b++){const P=b/i*Math.PI*2,D=Math.sin(P),V=-Math.cos(P);l.x=V*M.x+D*R.x,l.y=V*M.y+D*R.y,l.z=V*M.z+D*R.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,h.push(a.x,a.y,a.z)}}function g(){for(let _=1;_<=t;_++)for(let M=1;M<=i;M++){const R=(i+1)*(_-1)+(M-1),b=(i+1)*_+(M-1),P=(i+1)*_+M,D=(i+1)*(_-1)+M;v.push(R,b,D),v.push(b,P,D)}}function A(){for(let _=0;_<=t;_++)for(let M=0;M<=i;M++)c.x=_/t,c.y=M/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Dg(new Tm[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class mb extends Pt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new Z,s=new Z;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const h=l[c],p=h.start,m=h.count;for(let v=p,x=p+m;v<x;v+=3)for(let y=0;y<3;y++){const g=a.getX(v+y),A=a.getX(v+(y+1)%3);i.fromBufferAttribute(o,g),s.fromBufferAttribute(o,A),vS(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,h=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,h),vS(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new lt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function vS(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var yS=Object.freeze({__proto__:null,BoxGeometry:vc,CapsuleGeometry:Sg,CircleGeometry:Mg,ConeGeometry:Cg,CylinderGeometry:Ef,DodecahedronGeometry:bg,EdgesGeometry:fb,ExtrudeGeometry:Rg,IcosahedronGeometry:tp,LatheGeometry:ep,OctahedronGeometry:np,PlaneGeometry:yf,PolyhedronGeometry:ll,RingGeometry:Pg,ShapeGeometry:rp,SphereGeometry:ip,TetrahedronGeometry:Ig,TorusGeometry:Lg,TorusKnotGeometry:Bg,TubeGeometry:Dg,WireframeGeometry:mb});class gb extends Qn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Xe(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class vb extends Gr{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Af extends Qn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Xe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Xe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=al,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ho extends Af{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ce(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Hn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Xe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Xe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Xe(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class yb extends Qn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Xe(16777215),this.specular=new Xe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Xe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=al,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$h,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _b extends Qn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Xe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Xe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=al,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class xb extends Qn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=al,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Eb extends Qn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Xe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Xe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=al,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$h,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ab extends Qn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Xe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=al,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wb extends Vr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Xl(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function Sb(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Mb(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function m_(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function C4(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function Dz(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),h=[],p=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*i;if(!(v<t||v>=r)){h.push(c.times[m]);for(let x=0;x<u;++x)p.push(c.values[m*u+x])}}h.length!==0&&(c.times=Xl(h,c.times.constructor),c.values=Xl(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function Nz(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=h/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let x;if(s<=a.times[0]){const g=u,A=h-u;x=a.values.slice(g,A)}else if(s>=a.times[v]){const g=v*h+u,A=g+h-u;x=a.values.slice(g,A)}else{const g=a.createInterpolant(),A=u,_=h-u;g.evaluate(s),x=g.resultBuffer.slice(A,_)}l==="quaternion"&&new $n().fromArray(x).normalize().conjugate().toArray(x);const y=c.times.length;for(let g=0;g<y;++g){const A=g*m+p;if(l==="quaternion")$n.multiplyQuaternionsFlat(c.values,A,x,0,c.values,A);else{const _=m-p*2;for(let M=0;M<_;++M)c.values[A+M]-=x[M]}}}return n.blendMode=n4,n}const Y0={convertArray:Xl,isTypedArray:Sb,getKeyframeOrder:Mb,sortedArray:m_,flattenJSON:C4,subclip:Dz,makeClipAdditive:Nz};class wf{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Cb extends wf{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Vl,endingEnd:Vl}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Wl:s=e,a=2*t-r;break;case Ah:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Wl:o=e,l=2*r-t;break;case Ah:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(r-t)/(i-t),x=v*v,y=x*v,g=-p*y+2*p*x-p*v,A=(1+p)*y+(-1.5-2*p)*x+(-.5+p)*v+1,_=(-1-m)*y+(1.5+m)*x+.5*v,M=m*y-m*x;for(let R=0;R!==a;++R)s[R]=g*o[u+R]+A*o[c+R]+_*o[l+R]+M*o[h+R];return s}}class b4 extends wf{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),h=1-u;for(let p=0;p!==a;++p)s[p]=o[c+p]*h+o[l+p]*u;return s}}class bb extends wf{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class zs{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Xl(t,this.TimeBufferType),this.values=Xl(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Xl(e.times,Array),values:Xl(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new bb(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new b4(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Cb(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Qu:t=this.InterpolantFactoryMethodDiscrete;break;case fc:t=this.InterpolantFactoryMethodLinear;break;case $0:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Qu;case this.InterpolantFactoryMethodLinear:return fc;case this.InterpolantFactoryMethodSmooth:return $0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&Sb(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===$0,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const h=a*r,p=h-r,m=h+r;for(let v=0;v!==r;++v){const x=t[h+v];if(x!==t[p+v]||x!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*r,p=o*r;for(let m=0;m!==r;++m)t[p+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}zs.prototype.TimeBufferType=Float32Array;zs.prototype.ValueBufferType=Float32Array;zs.prototype.DefaultInterpolation=fc;class yc extends zs{}yc.prototype.ValueTypeName="bool";yc.prototype.ValueBufferType=Array;yc.prototype.DefaultInterpolation=Qu;yc.prototype.InterpolantFactoryMethodLinear=void 0;yc.prototype.InterpolantFactoryMethodSmooth=void 0;class T4 extends zs{}T4.prototype.ValueTypeName="color";class nf extends zs{}nf.prototype.ValueTypeName="number";class Tb extends wf{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)$n.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Qa extends zs{InterpolantFactoryMethodLinear(e){return new Tb(this.times,this.values,this.getValueSize(),e)}}Qa.prototype.ValueTypeName="quaternion";Qa.prototype.DefaultInterpolation=fc;Qa.prototype.InterpolantFactoryMethodSmooth=void 0;class _c extends zs{}_c.prototype.ValueTypeName="string";_c.prototype.ValueBufferType=Array;_c.prototype.DefaultInterpolation=Qu;_c.prototype.InterpolantFactoryMethodLinear=void 0;_c.prototype.InterpolantFactoryMethodSmooth=void 0;class rf extends zs{}rf.prototype.ValueTypeName="vector";class sf{constructor(e,t=-1,r,i=dg){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Oi(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(Oz(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(zs.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=Mb(l);l=m_(l,1,u),c=m_(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new nf(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const h=u[1];let p=i[h];p||(i[h]=p=[]),p.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,p,m,v,x){if(m.length!==0){const y=[],g=[];C4(m,y,g,v),y.length!==0&&x.push(new h(p,y,g))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const p=c[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let x=0;x<p[v].morphTargets.length;x++)m[p[v].morphTargets[x]]=-1;for(const x in m){const y=[],g=[];for(let A=0;A!==p[v].morphTargets.length;++A){const _=p[v];y.push(_.time),g.push(_.morphTarget===x?1:0)}i.push(new nf(".morphTargetInfluence["+x+"]",y,g))}l=m.length*o}else{const m=".bones["+t[h].name+"]";r(rf,m+".position",p,"pos",i),r(Qa,m+".quaternion",p,"rot",i),r(rf,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Fz(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return nf;case"vector":case"vector2":case"vector3":case"vector4":return rf;case"color":return T4;case"quaternion":return Qa;case"bool":case"boolean":return yc;case"string":return _c}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Oz(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Fz(n.type);if(n.times===void 0){const t=[],r=[];C4(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Fo={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class R4{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,h){return c.push(u,h),this},this.removeHandler=function(u){const h=c.indexOf(u);return h!==-1&&c.splice(h,2),this},this.getHandler=function(u){for(let h=0,p=c.length;h<p;h+=2){const m=c[h],v=c[h+1];if(m.global&&(m.lastIndex=0),m.test(u))return v}return null}}}const Rb=new R4;class Sr{constructor(e){this.manager=e!==void 0?e:Rb,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Sr.DEFAULT_MATERIAL_NAME="__DEFAULT";const Mo={};class kz extends Error{constructor(e,t){super(e),this.response=t}}class Ei extends Sr{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Fo.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Mo[e]!==void 0){Mo[e].push({onLoad:t,onProgress:r,onError:i});return}Mo[e]=[],Mo[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Mo[e],h=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,v=m!==0;let x=0;const y=new ReadableStream({start(g){A();function A(){h.read().then(({done:_,value:M})=>{if(_)g.close();else{x+=M.byteLength;const R=new ProgressEvent("progress",{lengthComputable:v,loaded:x,total:m});for(let b=0,P=u.length;b<P;b++){const D=u[b];D.onProgress&&D.onProgress(R)}g.enqueue(M),A()}})}}});return new Response(y)}else throw new kz(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{Fo.add(e,c);const u=Mo[e];delete Mo[e];for(let h=0,p=u.length;h<p;h++){const m=u[h];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=Mo[e];if(u===void 0)throw this.manager.itemError(e),c;delete Mo[e];for(let h=0,p=u.length;h<p;h++){const m=u[h];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Uz extends Sr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Ei(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=sf.parse(e[r]);t.push(i)}return t}}class zz extends Sr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new Ag,l=new Ei(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=Ct),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)u(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let x=0;x<p.mipmapCount;x++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+x]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=Ct),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class Lh extends Sr{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Fo.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Th("img");function l(){u(),Fo.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(h){u(),i&&i(h),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class Pb extends Sr{constructor(e){super(e)}load(e,t,r,i){const s=new Kh;s.colorSpace=un;const o=new Lh(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class P4 extends Sr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new tc,a=new Ei(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:_r,o.wrapT=c.wrapT!==void 0?c.wrapT:_r,o.magFilter=c.magFilter!==void 0?c.magFilter:Ct,o.minFilter=c.minFilter!==void 0?c.minFilter:Ct,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=cs),c.mipmapCount===1&&(o.minFilter=Ct),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},r,i),o}}class sp extends Sr{constructor(e){super(e)}load(e,t,r,i){const s=new yn,o=new Lh(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class cl extends Bt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Xe(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class Ib extends cl{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Xe(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const ey=new yt,_S=new Z,xS=new Z;class I4{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ce(512,512),this.map=null,this.mapPass=null,this.matrix=new yt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Zh,this._frameExtents=new Ce(1,1),this._viewportCount=1,this._viewports=[new Qt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;_S.setFromMatrixPosition(e.matrixWorld),t.position.copy(_S),xS.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(xS),t.updateMatrixWorld(),ey.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ey),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(ey)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Hz extends I4{constructor(){super(new nr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=qu*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class L4 extends cl{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.target=new Bt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Hz}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const ES=new yt,md=new Z,ty=new Z;class Gz extends I4{constructor(){super(new nr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ce(4,2),this._viewportCount=6,this._viewports=[new Qt(2,1,1,1),new Qt(0,1,1,1),new Qt(3,1,1,1),new Qt(1,1,1,1),new Qt(3,0,1,1),new Qt(1,0,1,1)],this._cubeDirections=[new Z(1,0,0),new Z(-1,0,0),new Z(0,0,1),new Z(0,0,-1),new Z(0,1,0),new Z(0,-1,0)],this._cubeUps=[new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,0,1),new Z(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),md.setFromMatrixPosition(e.matrixWorld),r.position.copy(md),ty.copy(r.position),ty.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(ty),r.updateMatrixWorld(),i.makeTranslation(-md.x,-md.y,-md.z),ES.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ES)}}class B4 extends cl{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Gz}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Vz extends I4{constructor(){super(new _f(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class D4 extends cl{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.target=new Bt,this.shadow=new Vz}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Lb extends cl{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Bb extends cl{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Db{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Z)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class Nb extends cl{constructor(e=new Db,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Ng extends Sr{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new Ei(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=Ng.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Xe().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Xe().setHex(o.value);break;case"v2":i.uniforms[s].value=new Ce().fromArray(o.value);break;case"v3":i.uniforms[s].value=new Z().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Qt().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Tt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new yt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Ce().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ce().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:gb,SpriteMaterial:g4,RawShaderMaterial:vb,ShaderMaterial:Gr,PointsMaterial:xg,MeshPhysicalMaterial:ho,MeshStandardMaterial:Af,MeshPhongMaterial:yb,MeshToonMaterial:_b,MeshNormalMaterial:xb,MeshLambertMaterial:Eb,MeshDepthMaterial:h4,MeshDistanceMaterial:p4,MeshBasicMaterial:Di,MeshMatcapMaterial:Ab,LineDashedMaterial:wb,LineBasicMaterial:Vr,Material:Qn};return new t[e]}}class ao{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Fb extends Pt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Ob extends Sr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Ei(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,v){if(t[v]!==void 0)return t[v];const y=m.interleavedBuffers[v],g=s(m,y.buffer),A=Su(y.type,g),_=new Qh(A,y.stride);return _.uuid=y.uuid,t[v]=_,_}function s(m,v){if(r[v]!==void 0)return r[v];const y=m.arrayBuffers[v],g=new Uint32Array(y).buffer;return r[v]=g,g}const o=e.isInstancedBufferGeometry?new Fb:new Pt,a=e.data.index;if(a!==void 0){const m=Su(a.type,a.array);o.setIndex(new Kt(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let x;if(v.isInterleavedBufferAttribute){const y=i(e.data,v.data);x=new Za(y,v.itemSize,v.offset,v.normalized)}else{const y=Su(v.type,v.array),g=v.isInstancedBufferAttribute?tf:Kt;x=new g(y,v.itemSize,v.normalized)}v.name!==void 0&&(x.name=v.name),v.usage!==void 0&&x.setUsage(v.usage),o.setAttribute(m,x)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],x=[];for(let y=0,g=v.length;y<g;y++){const A=v[y];let _;if(A.isInterleavedBufferAttribute){const M=i(e.data,A.data);_=new Za(M,A.itemSize,A.offset,A.normalized)}else{const M=Su(A.type,A.array);_=new Kt(M,A.itemSize,A.normalized)}A.name!==void 0&&(_.name=A.name),x.push(_)}o.morphAttributes[m]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,v=h.length;m!==v;++m){const x=h[m];o.addGroup(x.start,x.count,x.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new Z;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Er(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Wz extends Sr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?ao.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Ei(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?ao.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Ei(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new ja().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new qh().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new Ob;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in yS?a=yS[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new Ng;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=sf.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:Su(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new R4(t);s=new Lh(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const h=e[c],p=h.url;if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const y=p[v],g=a(y);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new tc(g.data,g.width,g.height)))}i[h.uuid]=new jl(m)}else{const m=a(h.url);i[h.uuid]=new jl(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Su(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Lh(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let h=0,p=c.length;h<p;h++){const m=c[h],v=await s(m);v!==null&&(v instanceof HTMLImageElement?u.push(v):u.push(new tc(v.data,v.width,v.height)))}r[l.uuid]=new jl(u)}else{const u=await s(l.url);r[l.uuid]=new jl(u)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new Kh,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new tc:u=new yn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,jz)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],AS),u.wrapT=r(a.wrap[1],AS)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,wS)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,wS)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const y=p[v];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let u,h;switch(e.type){case"Scene":o=new Ka,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Xe(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new yg(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new vg(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new nr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new _f(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Lb(e.color,e.intensity);break;case"DirectionalLight":o=new D4(e.color,e.intensity);break;case"PointLight":o=new B4(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Bb(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new L4(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new Ib(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Nb().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),h=l(e.material),o=new v4(u,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),h=l(e.material),o=new Cn(u,h);break;case"InstancedMesh":u=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new y4(u,h,p),o.instanceMatrix=new tf(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new tf(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":u=a(e.geometry),h=l(e.material),o=new sb(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,h),o.geometry=u,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(x=>{const y=new zr;y.min.fromArray(x.boxMin),y.max.fromArray(x.boxMax);const g=new Er;return g.radius=x.sphereRadius,g.center.fromArray(x.sphereCenter),{boxInitialized:x.boxInitialized,box:y,sphereInitialized:x.sphereInitialized,sphere:g}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":o=new ib;break;case"Line":o=new jo(a(e.geometry),l(e.material));break;case"LineLoop":o=new _4(a(e.geometry),l(e.material));break;case"LineSegments":o=new ks(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new Eg(a(e.geometry),l(e.material));break;case"Sprite":o=new rb(l(e.material));break;case"Group":o=new no;break;case"Bone":o=new _g;break;default:o=new Bt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],x=o.getObjectByProperty("uuid",v.object);x!==void 0&&o.addLevel(x,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const jz={UVMapping:ug,CubeReflectionMapping:co,CubeRefractionMapping:Ja,EquirectangularReflectionMapping:Ku,EquirectangularRefractionMapping:xh,CubeUVReflectionMapping:mf},AS={RepeatWrapping:Ya,ClampToEdgeWrapping:_r,MirroredRepeatWrapping:Zu},wS={NearestFilter:jt,NearestMipmapNearestFilter:Eh,NearestMipmapLinearFilter:Ra,LinearFilter:Ct,LinearMipmapNearestFilter:Ou,LinearMipmapLinearFilter:cs};class kb extends Sr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Fo.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{t&&t(c),s.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return Fo.add(e,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),Fo.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Fo.add(e,l),s.manager.itemStart(e)}}let c0;class N4{static getContext(){return c0===void 0&&(c0=new(window.AudioContext||window.webkitAudioContext)),c0}static setContext(e){c0=e}}class $z extends Sr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Ei(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);N4.getContext().decodeAudioData(c,function(h){t(h)}).catch(a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const SS=new yt,MS=new yt,bl=new yt;class Xz{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new nr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new nr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,bl.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(Ql*t.fov*.5)/t.zoom;let a,l;MS.elements[12]=-i,SS.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,bl.elements[0]=2*t.near/(l-a),bl.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(bl),a=-o*t.aspect-s,l=o*t.aspect-s,bl.elements[0]=2*t.near/(l-a),bl.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(bl)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(MS),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(SS)}}class F4{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=CS(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=CS();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function CS(){return(typeof performance>"u"?Date:performance).now()}const Tl=new Z,bS=new $n,Jz=new Z,Rl=new Z;class Yz extends Bt{constructor(){super(),this.type="AudioListener",this.context=N4.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new F4}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Tl,bS,Jz),Rl.set(0,0,-1).applyQuaternion(bS),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Tl.x,i),t.positionY.linearRampToValueAtTime(Tl.y,i),t.positionZ.linearRampToValueAtTime(Tl.z,i),t.forwardX.linearRampToValueAtTime(Rl.x,i),t.forwardY.linearRampToValueAtTime(Rl.y,i),t.forwardZ.linearRampToValueAtTime(Rl.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Tl.x,Tl.y,Tl.z),t.setOrientation(Rl.x,Rl.y,Rl.z,r.x,r.y,r.z)}}class Ub extends Bt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Pl=new Z,TS=new $n,Kz=new Z,Il=new Z;class Zz extends Ub{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Pl,TS,Kz),Il.set(0,0,1).applyQuaternion(TS);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Pl.x,r),t.positionY.linearRampToValueAtTime(Pl.y,r),t.positionZ.linearRampToValueAtTime(Pl.z,r),t.orientationX.linearRampToValueAtTime(Il.x,r),t.orientationY.linearRampToValueAtTime(Il.y,r),t.orientationZ.linearRampToValueAtTime(Il.z,r)}else t.setPosition(Pl.x,Pl.y,Pl.z),t.setOrientation(Il.x,Il.y,Il.z)}}class Qz{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class zb{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){$n.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;$n.multiplyQuaternionsFlat(e,o,e,t,e,r),$n.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const O4="\\[\\]\\.:\\/",qz=new RegExp("["+O4+"]","g"),k4="[^"+O4+"]",eH="[^"+O4.replace("\\.","")+"]",tH=/((?:WC+[\/:])*)/.source.replace("WC",k4),nH=/(WCOD+)?/.source.replace("WCOD",eH),rH=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",k4),iH=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",k4),sH=new RegExp("^"+tH+nH+rH+iH+"$"),oH=["material","materials","bones","map"];class aH{constructor(e,t,r){const i=r||Yt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Yt{constructor(e,t,r){this.path=t,this.parsedPath=r||Yt.parseTrackName(t),this.node=Yt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Yt.Composite(e,t,r):new Yt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(qz,"")}static parseTrackName(e){const t=sH.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);oH.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Yt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Yt.Composite=aH;Yt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Yt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Yt.prototype.GetterByBindingType=[Yt.prototype._getValue_direct,Yt.prototype._getValue_array,Yt.prototype._getValue_arrayElement,Yt.prototype._getValue_toArray];Yt.prototype.SetterByBindingTypeAndVersioning=[[Yt.prototype._setValue_direct,Yt.prototype._setValue_direct_setNeedsUpdate,Yt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Yt.prototype._setValue_array,Yt.prototype._setValue_array_setNeedsUpdate,Yt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Yt.prototype._setValue_arrayElement,Yt.prototype._setValue_arrayElement_setNeedsUpdate,Yt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Yt.prototype._setValue_fromArray,Yt.prototype._setValue_fromArray_setNeedsUpdate,Yt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class lH{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Oi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,h=arguments.length;u!==h;++u){const p=arguments[u],m=p.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(p);for(let x=0,y=o;x!==y;++x)s[x].push(new Yt(p,r[x],i[x]))}else if(v<c){a=e[v];const x=--c,y=e[x];t[y.uuid]=v,e[v]=y,t[m]=x,e[x]=p;for(let g=0,A=o;g!==A;++g){const _=s[g],M=_[x];let R=_[v];_[v]=M,R===void 0&&(R=new Yt(p,r[g],i[g])),_[x]=R}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const h=s++,p=e[h];t[p.uuid]=u,e[u]=p,t[c]=h,e[h]=l;for(let m=0,v=i;m!==v;++m){const x=r[m],y=x[h],g=x[u];x[u]=y,x[h]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,h=t[u];if(h!==void 0)if(delete t[u],h<s){const p=--s,m=e[p],v=--o,x=e[v];t[m.uuid]=h,e[h]=m,t[x.uuid]=p,e[p]=x,e.pop();for(let y=0,g=i;y!==g;++y){const A=r[y],_=A[p],M=A[v];A[h]=_,A[p]=M,A.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let v=0,x=i;v!==x;++v){const y=r[v];y[h]=y[p],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,h=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(h);for(let p=u,m=l.length;p!==m;++p){const v=l[p];h[p]=new Yt(v,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class Hb{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Vl,endingEnd:Vl};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=b8,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case n4:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case dg:default:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===T8;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===C8){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Wl,i.endingEnd=Wl):(e?i.endingStart=this.zeroSlopeAtStart?Wl:Vl:i.endingStart=Ah,t?i.endingEnd=this.zeroSlopeAtEnd?Wl:Vl:i.endingEnd=Ah)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const cH=new Float32Array(1);class Gb extends Zo{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let h=0;h!==s;++h){const p=i[h],m=p.name;let v=u[m];if(v!==void 0)++v.referenceCount,o[h]=v;else{if(v=o[h],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const x=t&&t._propertyBindings[h].binding.parsedPath;v=new zb(Yt.create(r,m,x),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[h]=v}a[h].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new b4(new Float32Array(2),new Float32Array(2),1,cH),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?sf.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=dg),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===r)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new Hb(this,o,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?sf.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=u,t[u]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class U4{constructor(e){this.value=e}clone(){return new U4(this.value.clone===void 0?this.value:this.value.clone())}}let uH=0;class fH extends Zo{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:uH++}),this.name="",this.usage=Ch,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++){const s=Array.isArray(t[r])?t[r]:[t[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class dH extends Qh{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class hH{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class z4{constructor(e,t,r=0,i=1/0){this.ray=new gf(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new ec,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return g_(e,this,r,t),r.sort(RS),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)g_(e[i],this,r,t);return r.sort(RS),r}}function RS(n,e){return n.distance-e.distance}function g_(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)g_(i[s],e,t,!0)}}class Vb{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Hn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class pH{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const PS=new Ce;class Wb{constructor(e=new Ce(1/0,1/0),t=new Ce(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=PS.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,PS).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const IS=new Z,u0=new Z;class mH{constructor(e=new Z,t=new Z){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){IS.subVectors(e,this.start),u0.subVectors(this.end,this.start);const r=u0.dot(u0);let s=u0.dot(IS)/r;return t&&(s=Hn(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const LS=new Z;class gH extends Bt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Pt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new lt(i,3));const s=new Vr({fog:!1,toneMapped:!1});this.cone=new ks(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),LS.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(LS),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const va=new Z,f0=new yt,ny=new yt;class vH extends ks{constructor(e){const t=jb(e),r=new Pt,i=[],s=[],o=new Xe(0,0,1),a=new Xe(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new lt(i,3)),r.setAttribute("color",new lt(s,3));const l=new Vr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");ny.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(f0.multiplyMatrices(ny,a.matrixWorld),va.setFromMatrixPosition(f0),i.setXYZ(o,va.x,va.y,va.z),f0.multiplyMatrices(ny,a.parent.matrixWorld),va.setFromMatrixPosition(f0),i.setXYZ(o+1,va.x,va.y,va.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function jb(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,jb(n.children[t]));return e}class yH extends Cn{constructor(e,t,r){const i=new ip(t,4,2),s=new Di({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _H=new Z,BS=new Xe,DS=new Xe;class xH extends Bt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new np(t);i.rotateY(Math.PI*.5),this.material=new Di({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Kt(o,3)),this.add(new Cn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");BS.copy(this.light.color),DS.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?BS:DS;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(_H.setFromMatrixPosition(this.light.matrixWorld).negate())}}class EH extends ks{constructor(e=10,t=10,r=4473924,i=8947848){r=new Xe(r),i=new Xe(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const x=p===s?r:i;x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3}const u=new Pt;u.setAttribute("position",new lt(l,3)),u.setAttribute("color",new lt(c,3));const h=new Vr({vertexColors:!0,toneMapped:!1});super(u,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class AH extends ks{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new Xe(s),o=new Xe(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const p=h/t*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const x=h&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let h=0;h<r;h++){const p=h&1?s:o,m=e-e/r*h;for(let v=0;v<i;v++){let x=v/i*(Math.PI*2),y=Math.sin(x)*m,g=Math.cos(x)*m;a.push(y,0,g),l.push(p.r,p.g,p.b),x=(v+1)/i*(Math.PI*2),y=Math.sin(x)*m,g=Math.cos(x)*m,a.push(y,0,g),l.push(p.r,p.g,p.b)}}const c=new Pt;c.setAttribute("position",new lt(a,3)),c.setAttribute("color",new lt(l,3));const u=new Vr({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const NS=new Z,d0=new Z,FS=new Z;class wH extends Bt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Pt;i.setAttribute("position",new lt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Vr({fog:!1,toneMapped:!1});this.lightPlane=new jo(i,s),this.add(this.lightPlane),i=new Pt,i.setAttribute("position",new lt([0,0,0,0,0,1],3)),this.targetLine=new jo(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),NS.setFromMatrixPosition(this.light.matrixWorld),d0.setFromMatrixPosition(this.light.target.matrixWorld),FS.subVectors(d0,NS),this.lightPlane.lookAt(d0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(d0),this.targetLine.scale.z=FS.length()}}const h0=new Z,Un=new Yh;class SH extends ks{constructor(e){const t=new Pt,r=new Vr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,x){l(v),l(x)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}t.setAttribute("position",new lt(i,3)),t.setAttribute("color",new lt(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Xe(16755200),u=new Xe(16711680),h=new Xe(43775),p=new Xe(16777215),m=new Xe(3355443);this.setColors(c,u,h,p,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;Un.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Wn("c",t,e,Un,0,0,-1),Wn("t",t,e,Un,0,0,1),Wn("n1",t,e,Un,-r,-i,-1),Wn("n2",t,e,Un,r,-i,-1),Wn("n3",t,e,Un,-r,i,-1),Wn("n4",t,e,Un,r,i,-1),Wn("f1",t,e,Un,-r,-i,1),Wn("f2",t,e,Un,r,-i,1),Wn("f3",t,e,Un,-r,i,1),Wn("f4",t,e,Un,r,i,1),Wn("u1",t,e,Un,r*.7,i*1.1,-1),Wn("u2",t,e,Un,-r*.7,i*1.1,-1),Wn("u3",t,e,Un,0,i*2,-1),Wn("cf1",t,e,Un,-r,0,1),Wn("cf2",t,e,Un,r,0,1),Wn("cf3",t,e,Un,0,-i,1),Wn("cf4",t,e,Un,0,i,1),Wn("cn1",t,e,Un,-r,0,-1),Wn("cn2",t,e,Un,r,0,-1),Wn("cn3",t,e,Un,0,-i,-1),Wn("cn4",t,e,Un,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Wn(n,e,t,r,i,s,o){h0.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],h0.x,h0.y,h0.z)}}const p0=new zr;class MH extends ks{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Pt;s.setIndex(new Kt(r,1)),s.setAttribute("position",new Kt(i,3)),super(s,new Vr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&p0.setFromObject(this.object),p0.isEmpty())return;const t=p0.min,r=p0.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class CH extends ks{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Pt;s.setIndex(new Kt(r,1)),s.setAttribute("position",new lt(i,3)),super(s,new Vr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class bH extends jo{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Pt;o.setAttribute("position",new lt(s,3)),o.computeBoundingSphere(),super(o,new Vr({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Pt;l.setAttribute("position",new lt(a,3)),l.computeBoundingSphere(),this.add(new Cn(l,new Di({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const OS=new Z;let m0,ry;class TH extends Bt{constructor(e=new Z(0,0,1),t=new Z(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",m0===void 0&&(m0=new Pt,m0.setAttribute("position",new lt([0,0,0,0,1,0],3)),ry=new Ef(0,.5,1,5,1),ry.translate(0,-.5,0)),this.position.copy(t),this.line=new jo(m0,new Vr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Cn(ry,new Di({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{OS.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(OS,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class RH extends ks{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Pt;i.setAttribute("position",new lt(t,3)),i.setAttribute("color",new lt(r,3));const s=new Vr({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new Xe,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class xa{constructor(){this.type="ShapePath",this.color=new Xe,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Wa,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const A=[];for(let _=0,M=g.length;_<M;_++){const R=g[_],b=new ja;b.curves=R.curves,A.push(b)}return A}function r(g,A){const _=A.length;let M=!1;for(let R=_-1,b=0;b<_;R=b++){let P=A[R],D=A[b],V=D.x-P.x,T=D.y-P.y;if(Math.abs(T)>Number.EPSILON){if(T<0&&(P=A[b],V=-V,D=A[R],T=-T),g.y<P.y||g.y>D.y)continue;if(g.y===P.y){if(g.x===P.x)return!0}else{const L=T*(g.x-P.x)-V*(g.y-P.y);if(L===0)return!0;if(L<0)continue;M=!M}}else{if(g.y!==P.y)continue;if(D.x<=g.x&&g.x<=P.x||P.x<=g.x&&g.x<=D.x)return!0}}return M}const i=Ds.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new ja,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const h=[],p=[];let m=[],v=0,x;p[v]=void 0,m[v]=[];for(let g=0,A=s.length;g<A;g++)a=s[g],x=a.getPoints(),o=i(x),o=e?!o:o,o?(!u&&p[v]&&v++,p[v]={s:new ja,p:x},p[v].s.curves=a.curves,u&&v++,m[v]=[]):m[v].push({h:a,p:x[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,A=0;for(let _=0,M=p.length;_<M;_++)h[_]=[];for(let _=0,M=p.length;_<M;_++){const R=m[_];for(let b=0;b<R.length;b++){const P=R[b];let D=!0;for(let V=0;V<p.length;V++)r(P.p,p[V].p)&&(_!==V&&A++,D?(D=!1,h[V].push(P)):g=!0);D&&h[_].push(P)}}A>0&&g===!1&&(m=h)}let y;for(let g=0,A=p.length;g<A;g++){l=p[g].s,c.push(l),y=m[g];for(let _=0,M=y.length;_<M;_++)l.holes.push(y[_].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:pf}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=pf);const PH=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Xx,AddEquation:Ta,AddOperation:d8,AdditiveAnimationBlendMode:n4,AdditiveBlending:R3,AgXToneMapping:v8,AlphaFormat:E8,AlwaysCompare:U8,AlwaysDepth:s8,AlwaysStencilFunc:a_,AmbientLight:Lb,AnimationAction:Hb,AnimationClip:sf,AnimationLoader:Uz,AnimationMixer:Gb,AnimationObjectGroup:lH,AnimationUtils:Y0,ArcCurve:ob,ArrayCamera:eb,ArrowHelper:TH,AttachedBindMode:D3,Audio:Ub,AudioAnalyser:Qz,AudioContext:N4,AudioListener:Yz,AudioLoader:$z,AxesHelper:RH,BackSide:ri,BasicDepthPacking:P8,BasicShadowMap:H7,BatchedMesh:sb,Bone:_g,BooleanKeyframeTrack:yc,Box2:Wb,Box3:zr,Box3Helper:CH,BoxGeometry:vc,BoxHelper:MH,BufferAttribute:Kt,BufferGeometry:Pt,BufferGeometryLoader:Ob,ByteType:_8,Cache:Fo,Camera:Yh,CameraHelper:SH,CanvasTexture:oz,CapsuleGeometry:Sg,CatmullRomCurve3:ab,CineonToneMapping:m8,CircleGeometry:Mg,ClampToEdgeWrapping:_r,Clock:F4,Color:Xe,ColorKeyframeTrack:T4,ColorManagement:an,CompressedArrayTexture:iz,CompressedCubeTexture:sz,CompressedTexture:Ag,CompressedTextureLoader:zz,ConeGeometry:Cg,ConstantAlphaFactor:n8,ConstantColorFactor:e8,CubeCamera:$8,CubeReflectionMapping:co,CubeRefractionMapping:Ja,CubeTexture:Kh,CubeTextureLoader:Pb,CubeUVReflectionMapping:mf,CubicBezierCurve:E4,CubicBezierCurve3:lb,CubicInterpolant:Cb,CullFaceBack:T3,CullFaceFront:z7,CullFaceFrontBack:QB,CullFaceNone:U7,Curve:Us,CurvePath:ub,CustomBlending:G7,CustomToneMapping:g8,CylinderGeometry:Ef,Cylindrical:pH,Data3DTexture:l4,DataArrayTexture:pg,DataTexture:tc,DataTextureLoader:P4,DataUtils:$l,DecrementStencilOp:sD,DecrementWrapStencilOp:aD,DefaultLoadingManager:Rb,DepthFormat:Ga,DepthStencilFormat:uc,DepthTexture:mg,DetachedBindMode:y8,DirectionalLight:D4,DirectionalLightHelper:wH,DiscreteInterpolant:bb,DisplayP3ColorSpace:hg,DodecahedronGeometry:bg,DoubleSide:qr,DstAlphaFactor:Y7,DstColorFactor:Z7,DynamicCopyUsage:ED,DynamicDrawUsage:X0,DynamicReadUsage:yD,EdgesGeometry:fb,EllipseCurve:wg,EqualCompare:N8,EqualDepth:a8,EqualStencilFunc:fD,EquirectangularReflectionMapping:Ku,EquirectangularRefractionMapping:xh,Euler:vf,EventDispatcher:Zo,ExtrudeGeometry:Rg,FileLoader:Ei,Float16BufferAttribute:oN,Float32BufferAttribute:lt,Float64BufferAttribute:aN,FloatType:rr,Fog:yg,FogExp2:vg,FramebufferTexture:rz,FrontSide:lo,Frustum:Zh,GLBufferAttribute:hH,GLSL1:wD,GLSL3:l_,GreaterCompare:F8,GreaterDepth:c8,GreaterEqualCompare:k8,GreaterEqualDepth:l8,GreaterEqualStencilFunc:mD,GreaterStencilFunc:hD,GridHelper:EH,Group:no,HalfFloatType:kr,HemisphereLight:Ib,HemisphereLightHelper:xH,IcosahedronGeometry:tp,ImageBitmapLoader:kb,ImageLoader:Lh,ImageUtils:a4,IncrementStencilOp:iD,IncrementWrapStencilOp:oD,InstancedBufferAttribute:tf,InstancedBufferGeometry:Fb,InstancedInterleavedBuffer:dH,InstancedMesh:y4,Int16BufferAttribute:iN,Int32BufferAttribute:sN,Int8BufferAttribute:tN,IntType:Jx,InterleavedBuffer:Qh,InterleavedBufferAttribute:Za,Interpolant:wf,InterpolateDiscrete:Qu,InterpolateLinear:fc,InterpolateSmooth:$0,InvertStencilOp:lD,KeepStencilOp:Fl,KeyframeTrack:zs,LOD:ib,LatheGeometry:ep,Layers:ec,LessCompare:D8,LessDepth:o8,LessEqualCompare:s4,LessEqualDepth:_h,LessEqualStencilFunc:dD,LessStencilFunc:uD,Light:cl,LightProbe:Nb,Line:jo,Line3:mH,LineBasicMaterial:Vr,LineCurve:A4,LineCurve3:cb,LineDashedMaterial:wb,LineLoop:_4,LineSegments:ks,LinearDisplayP3ColorSpace:Xh,LinearEncoding:i4,LinearFilter:Ct,LinearInterpolant:b4,LinearMipMapLinearFilter:tD,LinearMipMapNearestFilter:eD,LinearMipmapLinearFilter:cs,LinearMipmapNearestFilter:Ou,LinearSRGBColorSpace:xi,LinearToneMapping:h8,LinearTransfer:wh,Loader:Sr,LoaderUtils:ao,LoadingManager:R4,LoopOnce:C8,LoopPingPong:T8,LoopRepeat:b8,LuminanceAlphaFormat:w8,LuminanceFormat:A8,MOUSE:KB,Material:Qn,MaterialLoader:Ng,MathUtils:Jh,Matrix3:Tt,Matrix4:yt,MaxEquation:B3,Mesh:Cn,MeshBasicMaterial:Di,MeshDepthMaterial:h4,MeshDistanceMaterial:p4,MeshLambertMaterial:Eb,MeshMatcapMaterial:Ab,MeshNormalMaterial:xb,MeshPhongMaterial:yb,MeshPhysicalMaterial:ho,MeshStandardMaterial:Af,MeshToonMaterial:_b,MinEquation:L3,MirroredRepeatWrapping:Zu,MixOperation:f8,MultiplyBlending:I3,MultiplyOperation:$h,NearestFilter:jt,NearestMipMapLinearFilter:N3,NearestMipMapNearestFilter:qB,NearestMipmapLinearFilter:Ra,NearestMipmapNearestFilter:Eh,NeverCompare:B8,NeverDepth:i8,NeverStencilFunc:cD,NoBlending:ko,NoColorSpace:Ii,NoToneMapping:so,NormalAnimationBlendMode:dg,NormalBlending:Uo,NotEqualCompare:O8,NotEqualDepth:u8,NotEqualStencilFunc:pD,NumberKeyframeTrack:nf,Object3D:Bt,ObjectLoader:Wz,ObjectSpaceNormalMap:L8,OctahedronGeometry:np,OneFactor:$7,OneMinusConstantAlphaFactor:r8,OneMinusConstantColorFactor:t8,OneMinusDstAlphaFactor:K7,OneMinusDstColorFactor:Q7,OneMinusSrcAlphaFactor:Sm,OneMinusSrcColorFactor:J7,OrthographicCamera:_f,P3Primaries:Mh,PCFShadowMap:cg,PCFSoftShadowMap:$d,PMREMGenerator:u_,Path:Wa,PerspectiveCamera:nr,Plane:Sa,PlaneGeometry:yf,PlaneHelper:bH,PointLight:B4,PointLightHelper:yH,Points:Eg,PointsMaterial:xg,PolarGridHelper:AH,PolyhedronGeometry:ll,PositionalAudio:Zz,PropertyBinding:Yt,PropertyMixer:zb,QuadraticBezierCurve:w4,QuadraticBezierCurve3:S4,Quaternion:$n,QuaternionKeyframeTrack:Qa,QuaternionLinearInterpolant:Tb,RED_GREEN_RGTC2_Format:s_,RED_RGTC1_Format:M8,REVISION:pf,RGBADepthPacking:I8,RGBAFormat:Fr,RGBAIntegerFormat:e4,RGBA_ASTC_10x10_Format:q3,RGBA_ASTC_10x5_Format:K3,RGBA_ASTC_10x6_Format:Z3,RGBA_ASTC_10x8_Format:Q3,RGBA_ASTC_12x10_Format:e_,RGBA_ASTC_12x12_Format:t_,RGBA_ASTC_4x4_Format:G3,RGBA_ASTC_5x4_Format:V3,RGBA_ASTC_5x5_Format:W3,RGBA_ASTC_6x5_Format:j3,RGBA_ASTC_6x6_Format:$3,RGBA_ASTC_8x5_Format:X3,RGBA_ASTC_8x6_Format:J3,RGBA_ASTC_8x8_Format:Y3,RGBA_BPTC_Format:j0,RGBA_ETC2_EAC_Format:H3,RGBA_PVRTC_2BPPV1_Format:U3,RGBA_PVRTC_4BPPV1_Format:k3,RGBA_S3TC_DXT1_Format:G0,RGBA_S3TC_DXT3_Format:V0,RGBA_S3TC_DXT5_Format:W0,RGB_BPTC_SIGNED_Format:n_,RGB_BPTC_UNSIGNED_Format:r_,RGB_ETC1_Format:t4,RGB_ETC2_Format:z3,RGB_PVRTC_2BPPV1_Format:O3,RGB_PVRTC_4BPPV1_Format:F3,RGB_S3TC_DXT1_Format:H0,RGFormat:S8,RGIntegerFormat:qx,RawShaderMaterial:vb,Ray:gf,Raycaster:z4,Rec709Primaries:Sh,RectAreaLight:Bb,RedFormat:Zx,RedIntegerFormat:Qx,ReinhardToneMapping:p8,RenderTarget:G8,RepeatWrapping:Ya,ReplaceStencilOp:rD,ReverseSubtractEquation:W7,RingGeometry:Pg,SIGNED_RED_GREEN_RGTC2_Format:o_,SIGNED_RED_RGTC1_Format:i_,SRGBColorSpace:un,SRGBTransfer:gn,Scene:Ka,ShaderChunk:kt,ShaderLib:Is,ShaderMaterial:Gr,ShadowMaterial:gb,Shape:ja,ShapeGeometry:rp,ShapePath:xa,ShapeUtils:Ds,ShortType:x8,Skeleton:qh,SkeletonHelper:vH,SkinnedMesh:v4,Source:jl,Sphere:Er,SphereGeometry:ip,Spherical:Vb,SphericalHarmonics3:Db,SplineCurve:M4,SpotLight:L4,SpotLightHelper:gH,Sprite:rb,SpriteMaterial:g4,SrcAlphaFactor:wm,SrcAlphaSaturateFactor:q7,SrcColorFactor:X7,StaticCopyUsage:xD,StaticDrawUsage:Ch,StaticReadUsage:vD,StereoCamera:Xz,StreamCopyUsage:AD,StreamDrawUsage:gD,StreamReadUsage:_D,StringKeyframeTrack:_c,SubtractEquation:V7,SubtractiveBlending:P3,TOUCH:ZB,TangentSpaceNormalMap:al,TetrahedronGeometry:Ig,Texture:yn,TextureLoader:sp,TorusGeometry:Lg,TorusKnotGeometry:Bg,Triangle:Li,TriangleFanDrawMode:Mm,TriangleStripDrawMode:r4,TrianglesDrawMode:R8,TubeGeometry:Dg,UVMapping:ug,Uint16BufferAttribute:c4,Uint32BufferAttribute:u4,Uint8BufferAttribute:nN,Uint8ClampedBufferAttribute:rN,Uniform:U4,UniformsGroup:fH,UniformsLib:Ke,UniformsUtils:j8,UnsignedByteType:oo,UnsignedInt248Type:Ha,UnsignedIntType:No,UnsignedShort4444Type:Yx,UnsignedShort5551Type:Kx,UnsignedShortType:fg,VSMShadowMap:Ts,Vector2:Ce,Vector3:Z,Vector4:Qt,VectorKeyframeTrack:rf,VideoTexture:nz,WebGL1Renderer:tb,WebGL3DRenderTarget:VD,WebGLArrayRenderTarget:GD,WebGLCoordinateSystem:to,WebGLCubeRenderTarget:f4,WebGLMultipleRenderTargets:WD,WebGLRenderTarget:ms,WebGLRenderer:m4,WebGLUtils:q8,WebGPUCoordinateSystem:bh,WireframeGeometry:mb,WrapAroundEnding:Ah,ZeroCurvatureEnding:Vl,ZeroFactor:j7,ZeroSlopeEnding:Wl,ZeroStencilOp:nD,_SRGBAFormat:Cm,createCanvasElement:H8,sRGBEncoding:Va},Symbol.toStringTag,{value:"Module"}));var $b={exports:{}},xc={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */xc.ConcurrentRoot=1;xc.ContinuousEventPriority=4;xc.DefaultEventPriority=16;xc.DiscreteEventPriority=1;xc.IdleEventPriority=536870912;xc.LegacyRoot=0;$b.exports=xc;var Tu=$b.exports;function IH(n){let e;const t=new Set,r=(c,u)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const p=e;e=u?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},i=()=>e,s=(c,u=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const v=u(e);if(!h(p,v)){const x=p;c(p=v,x)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(c,u,h)=>u||h?s(c,u,h):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const LH=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),kS=LH?w.useEffect:w.useLayoutEffect;function H4(n){const e=typeof n=="function"?IH(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=w.useReducer(y=>y+1,0),o=e.getState(),a=w.useRef(o),l=w.useRef(r),c=w.useRef(i),u=w.useRef(!1),h=w.useRef();h.current===void 0&&(h.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),m=!i(h.current,p)),kS(()=>{m&&(h.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const v=w.useRef(o);kS(()=>{const y=()=>{try{const A=e.getState(),_=l.current(A);c.current(h.current,_)||(a.current=A,h.current=_,s())}catch{u.current=!0,s()}},g=e.subscribe(y);return e.getState()!==v.current&&y(),g},[]);const x=m?p:h.current;return w.useDebugValue(x),x};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var Xb={exports:{}},iy={exports:{}},sy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var US;function BH(){return US||(US=1,function(n){function e(F,Y){var Q=F.length;F.push(Y);e:for(;0<Q;){var fe=Q-1>>>1,xe=F[fe];if(0<i(xe,Y))F[fe]=Y,F[Q]=xe,Q=fe;else break e}}function t(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var Y=F[0],Q=F.pop();if(Q!==Y){F[0]=Q;e:for(var fe=0,xe=F.length,Oe=xe>>>1;fe<Oe;){var X=2*(fe+1)-1,j=F[X],H=X+1,z=F[H];if(0>i(j,Q))H<xe&&0>i(z,j)?(F[fe]=z,F[H]=Q,fe=H):(F[fe]=j,F[X]=Q,fe=X);else if(H<xe&&0>i(z,Q))F[fe]=z,F[H]=Q,fe=H;else break e}}return Y}function i(F,Y){var Q=F.sortIndex-Y.sortIndex;return Q!==0?Q:F.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(F){for(var Y=t(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=F)r(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=t(c)}}function M(F){if(x=!1,_(F),!v)if(t(l)!==null)v=!0,re(R);else{var Y=t(c);Y!==null&&ue(M,Y.startTime-F)}}function R(F,Y){v=!1,x&&(x=!1,g(D),D=-1),m=!0;var Q=p;try{for(_(Y),h=t(l);h!==null&&(!(h.expirationTime>Y)||F&&!L());){var fe=h.callback;if(typeof fe=="function"){h.callback=null,p=h.priorityLevel;var xe=fe(h.expirationTime<=Y);Y=n.unstable_now(),typeof xe=="function"?h.callback=xe:h===t(l)&&r(l),_(Y)}else r(l);h=t(l)}if(h!==null)var Oe=!0;else{var X=t(c);X!==null&&ue(M,X.startTime-Y),Oe=!1}return Oe}finally{h=null,p=Q,m=!1}}var b=!1,P=null,D=-1,V=5,T=-1;function L(){return!(n.unstable_now()-T<V)}function G(){if(P!==null){var F=n.unstable_now();T=F;var Y=!0;try{Y=P(!0,F)}finally{Y?se():(b=!1,P=null)}}else b=!1}var se;if(typeof A=="function")se=function(){A(G)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,te=W.port2;W.port1.onmessage=G,se=function(){te.postMessage(null)}}else se=function(){y(G,0)};function re(F){P=F,b||(b=!0,se())}function ue(F,Y){D=y(function(){F(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,re(R))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var Q=p;p=Y;try{return F()}finally{p=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,Y){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Q=p;p=F;try{return Y()}finally{p=Q}},n.unstable_scheduleCallback=function(F,Y,Q){var fe=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?fe+Q:fe):Q=fe,F){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=Q+xe,F={id:u++,callback:Y,priorityLevel:F,startTime:Q,expirationTime:xe,sortIndex:-1},Q>fe?(F.sortIndex=Q,e(c,F),t(l)===null&&F===t(c)&&(x?(g(D),D=-1):x=!0,ue(M,Q-fe))):(F.sortIndex=xe,e(l,F),v||m||(v=!0,re(R))),F},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(F){var Y=p;return function(){var Q=p;p=Y;try{return F.apply(this,arguments)}finally{p=Q}}}}(sy)),sy}var zS;function DH(){return zS||(zS=1,iy.exports=BH()),iy.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NH=function(e){var t={},r=w,i=DH(),s=Object.assign;function o(f){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+f,E=1;E<arguments.length;E++)d+="&args[]="+encodeURIComponent(arguments[E]);return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),R=Symbol.iterator;function b(f){return f===null||typeof f!="object"?null:(f=R&&f[R]||f["@@iterator"],typeof f=="function"?f:null)}function P(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case h:return"StrictMode";case y:return"Suspense";case g:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case v:return(f.displayName||"Context")+".Consumer";case m:return(f._context.displayName||"Context")+".Provider";case x:var d=f.render;return f=f.displayName,f||(f=d.displayName||d.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case A:return d=f.displayName||null,d!==null?d:P(f.type)||"Memo";case _:d=f._payload,f=f._init;try{return P(f(d))}catch{}}return null}function D(f){var d=f.type;switch(f.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=d.render,f=f.displayName||f.name||"",d.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(d);case 8:return d===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function V(f){var d=f,E=f;if(f.alternate)for(;d.return;)d=d.return;else{f=d;do d=f,d.flags&4098&&(E=d.return),f=d.return;while(f)}return d.tag===3?E:null}function T(f){if(V(f)!==f)throw Error(o(188))}function L(f){var d=f.alternate;if(!d){if(d=V(f),d===null)throw Error(o(188));return d!==f?null:f}for(var E=f,S=d;;){var C=E.return;if(C===null)break;var B=C.alternate;if(B===null){if(S=C.return,S!==null){E=S;continue}break}if(C.child===B.child){for(B=C.child;B;){if(B===E)return T(C),f;if(B===S)return T(C),d;B=B.sibling}throw Error(o(188))}if(E.return!==S.return)E=C,S=B;else{for(var ee=!1,pe=C.child;pe;){if(pe===E){ee=!0,E=C,S=B;break}if(pe===S){ee=!0,S=C,E=B;break}pe=pe.sibling}if(!ee){for(pe=B.child;pe;){if(pe===E){ee=!0,E=B,S=C;break}if(pe===S){ee=!0,S=B,E=C;break}pe=pe.sibling}if(!ee)throw Error(o(189))}}if(E.alternate!==S)throw Error(o(190))}if(E.tag!==3)throw Error(o(188));return E.stateNode.current===E?f:d}function G(f){return f=L(f),f!==null?se(f):null}function se(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var d=se(f);if(d!==null)return d;f=f.sibling}return null}function W(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var d=W(f);if(d!==null)return d}f=f.sibling}return null}var te=Array.isArray,re=e.getPublicInstance,ue=e.getRootHostContext,F=e.getChildHostContext,Y=e.prepareForCommit,Q=e.resetAfterCommit,fe=e.createInstance,xe=e.appendInitialChild,Oe=e.finalizeInitialChildren,X=e.prepareUpdate,j=e.shouldSetTextContent,H=e.createTextInstance,z=e.scheduleTimeout,ve=e.cancelTimeout,be=e.noTimeout,Ee=e.isPrimaryRenderer,Te=e.supportsMutation,J=e.supportsPersistence,Ae=e.supportsHydration,ae=e.getInstanceFromNode,me=e.preparePortalMount,ye=e.getCurrentEventPriority,De=e.detachDeletedInstance,oe=e.supportsMicrotasks,I=e.scheduleMicrotask,k=e.supportsTestSelectors,he=e.findFiberRoot,Ne=e.getBoundingRect,ge=e.getTextContent,we=e.isHiddenSubtree,Ge=e.matchAccessibilityRole,Ue=e.setFocusIfFocusable,Je=e.setupIntersectionObserver,st=e.appendChild,ut=e.appendChildToContainer,Fe=e.commitTextUpdate,Dt=e.commitMount,St=e.commitUpdate,ft=e.insertBefore,Ze=e.insertInContainerBefore,et=e.removeChild,gt=e.removeChildFromContainer,At=e.resetTextContent,bt=e.hideInstance,Ut=e.hideTextInstance,He=e.unhideInstance,ne=e.unhideTextInstance,je=e.clearContainer,$e=e.cloneInstance,ct=e.createContainerChildSet,mt=e.appendChildToContainerChildSet,Zt=e.finalizeContainerChildren,rn=e.replaceContainerChildren,Fn=e.cloneHiddenInstance,gr=e.cloneHiddenTextInstance,sn=e.canHydrateInstance,qn=e.canHydrateTextInstance,oi=e.canHydrateSuspenseInstance,Gs=e.isSuspenseInstancePending,fl=e.isSuspenseInstanceFallback,Vi=e.registerSuspenseInstanceRetry,ai=e.getNextHydratableSibling,Nt=e.getFirstHydratableChild,dl=e.getFirstHydratableChildWithinContainer,wc=e.getFirstHydratableChildWithinSuspenseInstance,U=e.hydrateInstance,$=e.hydrateTextInstance,de=e.hydrateSuspenseInstance,O=e.getNextHydratableInstanceAfterSuspenseInstance,K=e.commitHydratedContainer,q=e.commitHydratedSuspenseInstance,ce=e.clearSuspenseBoundary,ie=e.clearSuspenseBoundaryFromContainer,Me=e.shouldDeleteUnhydratedTailInstances,Re=e.didNotMatchHydratedContainerTextInstance,Le=e.didNotMatchHydratedTextInstance,Ie;function tt(f){if(Ie===void 0)try{throw Error()}catch(E){var d=E.stack.trim().match(/\n( *(at )?)/);Ie=d&&d[1]||""}return`
`+Ie+f}var ke=!1;function ze(f,d){if(!f||ke)return"";ke=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(We){var S=We}Reflect.construct(f,[],d)}else{try{d.call()}catch(We){S=We}f.call(d.prototype)}else{try{throw Error()}catch(We){S=We}f()}}catch(We){if(We&&S&&typeof We.stack=="string"){for(var C=We.stack.split(`
`),B=S.stack.split(`
`),ee=C.length-1,pe=B.length-1;1<=ee&&0<=pe&&C[ee]!==B[pe];)pe--;for(;1<=ee&&0<=pe;ee--,pe--)if(C[ee]!==B[pe]){if(ee!==1||pe!==1)do if(ee--,pe--,0>pe||C[ee]!==B[pe]){var Be=`
`+C[ee].replace(" at new "," at ");return f.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",f.displayName)),Be}while(1<=ee&&0<=pe);break}}}finally{ke=!1,Error.prepareStackTrace=E}return(f=f?f.displayName||f.name:"")?tt(f):""}var rt=Object.prototype.hasOwnProperty,pt=[],vt=-1;function Rt(f){return{current:f}}function nt(f){0>vt||(f.current=pt[vt],pt[vt]=null,vt--)}function Ye(f,d){vt++,pt[vt]=f.current,f.current=d}var Ht={},Et=Rt(Ht),Mt=Rt(!1),on=Ht;function On(f,d){var E=f.type.contextTypes;if(!E)return Ht;var S=f.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===d)return S.__reactInternalMemoizedMaskedChildContext;var C={},B;for(B in E)C[B]=d[B];return S&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=d,f.__reactInternalMemoizedMaskedChildContext=C),C}function wn(f){return f=f.childContextTypes,f!=null}function Jt(){nt(Mt),nt(Et)}function Vt(f,d,E){if(Et.current!==Ht)throw Error(o(168));Ye(Et,d),Ye(Mt,E)}function bn(f,d,E){var S=f.stateNode;if(d=d.childContextTypes,typeof S.getChildContext!="function")return E;S=S.getChildContext();for(var C in S)if(!(C in d))throw Error(o(108,D(f)||"Unknown",C));return s({},E,S)}function Ft(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Ht,on=Et.current,Ye(Et,f),Ye(Mt,Mt.current),!0}function Wt(f,d,E){var S=f.stateNode;if(!S)throw Error(o(169));E?(f=bn(f,d,on),S.__reactInternalMemoizedMergedChildContext=f,nt(Mt),nt(Et),Ye(Et,f)):nt(Mt),Ye(Mt,E)}var pn=Math.clz32?Math.clz32:Vs,Wi=Math.log,jr=Math.LN2;function Vs(f){return f>>>=0,f===0?32:31-(Wi(f)/jr|0)|0}var gp=64,vp=4194304;function Lf(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function yp(f,d){var E=f.pendingLanes;if(E===0)return 0;var S=0,C=f.suspendedLanes,B=f.pingedLanes,ee=E&268435455;if(ee!==0){var pe=ee&~C;pe!==0?S=Lf(pe):(B&=ee,B!==0&&(S=Lf(B)))}else ee=E&~C,ee!==0?S=Lf(ee):B!==0&&(S=Lf(B));if(S===0)return 0;if(d!==0&&d!==S&&!(d&C)&&(C=S&-S,B=d&-d,C>=B||C===16&&(B&4194240)!==0))return d;if(S&4&&(S|=E&16),d=f.entangledLanes,d!==0)for(f=f.entanglements,d&=S;0<d;)E=31-pn(d),C=1<<E,S|=f[E],d&=~C;return S}function FP(f,d){switch(f){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OP(f,d){for(var E=f.suspendedLanes,S=f.pingedLanes,C=f.expirationTimes,B=f.pendingLanes;0<B;){var ee=31-pn(B),pe=1<<ee,Be=C[ee];Be===-1?(!(pe&E)||pe&S)&&(C[ee]=FP(pe,d)):Be<=d&&(f.expiredLanes|=pe),B&=~pe}}function jg(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function $g(f){for(var d=[],E=0;31>E;E++)d.push(f);return d}function Bf(f,d,E){f.pendingLanes|=d,d!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,d=31-pn(d),f[d]=E}function kP(f,d){var E=f.pendingLanes&~d;f.pendingLanes=d,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=d,f.mutableReadLanes&=d,f.entangledLanes&=d,d=f.entanglements;var S=f.eventTimes;for(f=f.expirationTimes;0<E;){var C=31-pn(E),B=1<<C;d[C]=0,S[C]=-1,f[C]=-1,E&=~B}}function Xg(f,d){var E=f.entangledLanes|=d;for(f=f.entanglements;E;){var S=31-pn(E),C=1<<S;C&d|f[S]&d&&(f[S]|=d),E&=~C}}var en=0;function E5(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var Jg=i.unstable_scheduleCallback,A5=i.unstable_cancelCallback,UP=i.unstable_shouldYield,zP=i.unstable_requestPaint,cr=i.unstable_now,Yg=i.unstable_ImmediatePriority,HP=i.unstable_UserBlockingPriority,Kg=i.unstable_NormalPriority,GP=i.unstable_IdlePriority,_p=null,Ws=null;function VP(f){if(Ws&&typeof Ws.onCommitFiberRoot=="function")try{Ws.onCommitFiberRoot(_p,f,void 0,(f.current.flags&128)===128)}catch{}}function WP(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var js=typeof Object.is=="function"?Object.is:WP,po=null,xp=!1,Zg=!1;function w5(f){po===null?po=[f]:po.push(f)}function jP(f){xp=!0,w5(f)}function $s(){if(!Zg&&po!==null){Zg=!0;var f=0,d=en;try{var E=po;for(en=1;f<E.length;f++){var S=E[f];do S=S(!0);while(S!==null)}po=null,xp=!1}catch(C){throw po!==null&&(po=po.slice(f+1)),Jg(Yg,$s),C}finally{en=d,Zg=!1}}return null}var $P=a.ReactCurrentBatchConfig;function Ep(f,d){if(js(f,d))return!0;if(typeof f!="object"||f===null||typeof d!="object"||d===null)return!1;var E=Object.keys(f),S=Object.keys(d);if(E.length!==S.length)return!1;for(S=0;S<E.length;S++){var C=E[S];if(!rt.call(d,C)||!js(f[C],d[C]))return!1}return!0}function XP(f){switch(f.tag){case 5:return tt(f.type);case 16:return tt("Lazy");case 13:return tt("Suspense");case 19:return tt("SuspenseList");case 0:case 2:case 15:return f=ze(f.type,!1),f;case 11:return f=ze(f.type.render,!1),f;case 1:return f=ze(f.type,!0),f;default:return""}}function _s(f,d){if(f&&f.defaultProps){d=s({},d),f=f.defaultProps;for(var E in f)d[E]===void 0&&(d[E]=f[E]);return d}return d}var Ap=Rt(null),wp=null,Sc=null,Qg=null;function qg(){Qg=Sc=wp=null}function S5(f,d,E){Ee?(Ye(Ap,d._currentValue),d._currentValue=E):(Ye(Ap,d._currentValue2),d._currentValue2=E)}function e2(f){var d=Ap.current;nt(Ap),Ee?f._currentValue=d:f._currentValue2=d}function t2(f,d,E){for(;f!==null;){var S=f.alternate;if((f.childLanes&d)!==d?(f.childLanes|=d,S!==null&&(S.childLanes|=d)):S!==null&&(S.childLanes&d)!==d&&(S.childLanes|=d),f===E)break;f=f.return}}function Mc(f,d){wp=f,Qg=Sc=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&d&&(Si=!0),f.firstContext=null)}function ji(f){var d=Ee?f._currentValue:f._currentValue2;if(Qg!==f)if(f={context:f,memoizedValue:d,next:null},Sc===null){if(wp===null)throw Error(o(308));Sc=f,wp.dependencies={lanes:0,firstContext:f}}else Sc=Sc.next=f;return d}var Xs=null,ta=!1;function n2(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M5(f,d){f=f.updateQueue,d.updateQueue===f&&(d.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function mo(f,d){return{eventTime:f,lane:d,tag:0,payload:null,callback:null,next:null}}function na(f,d){var E=f.updateQueue;E!==null&&(E=E.shared,Jn!==null&&f.mode&1&&!(Gt&2)?(f=E.interleaved,f===null?(d.next=d,Xs===null?Xs=[E]:Xs.push(E)):(d.next=f.next,f.next=d),E.interleaved=d):(f=E.pending,f===null?d.next=d:(d.next=f.next,f.next=d),E.pending=d))}function Sp(f,d,E){if(d=d.updateQueue,d!==null&&(d=d.shared,(E&4194240)!==0)){var S=d.lanes;S&=f.pendingLanes,E|=S,d.lanes=E,Xg(f,E)}}function C5(f,d){var E=f.updateQueue,S=f.alternate;if(S!==null&&(S=S.updateQueue,E===S)){var C=null,B=null;if(E=E.firstBaseUpdate,E!==null){do{var ee={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};B===null?C=B=ee:B=B.next=ee,E=E.next}while(E!==null);B===null?C=B=d:B=B.next=d}else C=B=d;E={baseState:S.baseState,firstBaseUpdate:C,lastBaseUpdate:B,shared:S.shared,effects:S.effects},f.updateQueue=E;return}f=E.lastBaseUpdate,f===null?E.firstBaseUpdate=d:f.next=d,E.lastBaseUpdate=d}function Mp(f,d,E,S){var C=f.updateQueue;ta=!1;var B=C.firstBaseUpdate,ee=C.lastBaseUpdate,pe=C.shared.pending;if(pe!==null){C.shared.pending=null;var Be=pe,We=Be.next;Be.next=null,ee===null?B=We:ee.next=We,ee=Be;var ot=f.alternate;ot!==null&&(ot=ot.updateQueue,pe=ot.lastBaseUpdate,pe!==ee&&(pe===null?ot.firstBaseUpdate=We:pe.next=We,ot.lastBaseUpdate=Be))}if(B!==null){var It=C.baseState;ee=0,ot=We=Be=null,pe=B;do{var _t=pe.lane,dn=pe.eventTime;if((S&_t)===_t){ot!==null&&(ot=ot.next={eventTime:dn,lane:0,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null});e:{var ht=f,Tr=pe;switch(_t=d,dn=E,Tr.tag){case 1:if(ht=Tr.payload,typeof ht=="function"){It=ht.call(dn,It,_t);break e}It=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=Tr.payload,_t=typeof ht=="function"?ht.call(dn,It,_t):ht,_t==null)break e;It=s({},It,_t);break e;case 2:ta=!0}}pe.callback!==null&&pe.lane!==0&&(f.flags|=64,_t=C.effects,_t===null?C.effects=[pe]:_t.push(pe))}else dn={eventTime:dn,lane:_t,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},ot===null?(We=ot=dn,Be=It):ot=ot.next=dn,ee|=_t;if(pe=pe.next,pe===null){if(pe=C.shared.pending,pe===null)break;_t=pe,pe=_t.next,_t.next=null,C.lastBaseUpdate=_t,C.shared.pending=null}}while(!0);if(ot===null&&(Be=It),C.baseState=Be,C.firstBaseUpdate=We,C.lastBaseUpdate=ot,d=C.shared.interleaved,d!==null){C=d;do ee|=C.lane,C=C.next;while(C!==d)}else B===null&&(C.shared.lanes=0);Dc|=ee,f.lanes=ee,f.memoizedState=It}}function b5(f,d,E){if(f=d.effects,d.effects=null,f!==null)for(d=0;d<f.length;d++){var S=f[d],C=S.callback;if(C!==null){if(S.callback=null,S=E,typeof C!="function")throw Error(o(191,C));C.call(S)}}}var T5=new r.Component().refs;function r2(f,d,E,S){d=f.memoizedState,E=E(S,d),E=E==null?d:s({},d,E),f.memoizedState=E,f.lanes===0&&(f.updateQueue.baseState=E)}var Cp={isMounted:function(f){return(f=f._reactInternals)?V(f)===f:!1},enqueueSetState:function(f,d,E){f=f._reactInternals;var S=Xr(),C=sa(f),B=mo(S,C);B.payload=d,E!=null&&(B.callback=E),na(f,B),d=Ki(f,C,S),d!==null&&Sp(d,f,C)},enqueueReplaceState:function(f,d,E){f=f._reactInternals;var S=Xr(),C=sa(f),B=mo(S,C);B.tag=1,B.payload=d,E!=null&&(B.callback=E),na(f,B),d=Ki(f,C,S),d!==null&&Sp(d,f,C)},enqueueForceUpdate:function(f,d){f=f._reactInternals;var E=Xr(),S=sa(f),C=mo(E,S);C.tag=2,d!=null&&(C.callback=d),na(f,C),d=Ki(f,S,E),d!==null&&Sp(d,f,S)}};function R5(f,d,E,S,C,B,ee){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(S,B,ee):d.prototype&&d.prototype.isPureReactComponent?!Ep(E,S)||!Ep(C,B):!0}function P5(f,d,E){var S=!1,C=Ht,B=d.contextType;return typeof B=="object"&&B!==null?B=ji(B):(C=wn(d)?on:Et.current,S=d.contextTypes,B=(S=S!=null)?On(f,C):Ht),d=new d(E,B),f.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Cp,f.stateNode=d,d._reactInternals=f,S&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=C,f.__reactInternalMemoizedMaskedChildContext=B),d}function I5(f,d,E,S){f=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(E,S),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(E,S),d.state!==f&&Cp.enqueueReplaceState(d,d.state,null)}function i2(f,d,E,S){var C=f.stateNode;C.props=E,C.state=f.memoizedState,C.refs=T5,n2(f);var B=d.contextType;typeof B=="object"&&B!==null?C.context=ji(B):(B=wn(d)?on:Et.current,C.context=On(f,B)),C.state=f.memoizedState,B=d.getDerivedStateFromProps,typeof B=="function"&&(r2(f,d,B,E),C.state=f.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(d=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),d!==C.state&&Cp.enqueueReplaceState(C,C.state,null),Mp(f,E,C,S),C.state=f.memoizedState),typeof C.componentDidMount=="function"&&(f.flags|=4194308)}var Cc=[],bc=0,bp=null,Tp=0,$i=[],Xi=0,hl=null,go=1,vo="";function pl(f,d){Cc[bc++]=Tp,Cc[bc++]=bp,bp=f,Tp=d}function L5(f,d,E){$i[Xi++]=go,$i[Xi++]=vo,$i[Xi++]=hl,hl=f;var S=go;f=vo;var C=32-pn(S)-1;S&=~(1<<C),E+=1;var B=32-pn(d)+C;if(30<B){var ee=C-C%5;B=(S&(1<<ee)-1).toString(32),S>>=ee,C-=ee,go=1<<32-pn(d)+C|E<<C|S,vo=B+f}else go=1<<B|E<<C|S,vo=f}function s2(f){f.return!==null&&(pl(f,1),L5(f,1,0))}function o2(f){for(;f===bp;)bp=Cc[--bc],Cc[bc]=null,Tp=Cc[--bc],Cc[bc]=null;for(;f===hl;)hl=$i[--Xi],$i[Xi]=null,vo=$i[--Xi],$i[Xi]=null,go=$i[--Xi],$i[Xi]=null}var Ai=null,wi=null,Sn=!1,Df=!1,xs=null;function B5(f,d){var E=Zi(5,null,null,0);E.elementType="DELETED",E.stateNode=d,E.return=f,d=f.deletions,d===null?(f.deletions=[E],f.flags|=16):d.push(E)}function D5(f,d){switch(f.tag){case 5:return d=sn(d,f.type,f.pendingProps),d!==null?(f.stateNode=d,Ai=f,wi=Nt(d),!0):!1;case 6:return d=qn(d,f.pendingProps),d!==null?(f.stateNode=d,Ai=f,wi=null,!0):!1;case 13:if(d=oi(d),d!==null){var E=hl!==null?{id:go,overflow:vo}:null;return f.memoizedState={dehydrated:d,treeContext:E,retryLane:1073741824},E=Zi(18,null,null,0),E.stateNode=d,E.return=f,f.child=E,Ai=f,wi=null,!0}return!1;default:return!1}}function a2(f){return(f.mode&1)!==0&&(f.flags&128)===0}function l2(f){if(Sn){var d=wi;if(d){var E=d;if(!D5(f,d)){if(a2(f))throw Error(o(418));d=ai(E);var S=Ai;d&&D5(f,d)?B5(S,E):(f.flags=f.flags&-4097|2,Sn=!1,Ai=f)}}else{if(a2(f))throw Error(o(418));f.flags=f.flags&-4097|2,Sn=!1,Ai=f}}}function N5(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;Ai=f}function Nf(f){if(!Ae||f!==Ai)return!1;if(!Sn)return N5(f),Sn=!0,!1;if(f.tag!==3&&(f.tag!==5||Me(f.type)&&!j(f.type,f.memoizedProps))){var d=wi;if(d){if(a2(f)){for(f=wi;f;)f=ai(f);throw Error(o(418))}for(;d;)B5(f,d),d=ai(d)}}if(N5(f),f.tag===13){if(!Ae)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));wi=O(f)}else wi=Ai?ai(f.stateNode):null;return!0}function Tc(){Ae&&(wi=Ai=null,Df=Sn=!1)}function c2(f){xs===null?xs=[f]:xs.push(f)}function Ff(f,d,E){if(f=E.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(E._owner){if(E=E._owner,E){if(E.tag!==1)throw Error(o(309));var S=E.stateNode}if(!S)throw Error(o(147,f));var C=S,B=""+f;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===B?d.ref:(d=function(ee){var pe=C.refs;pe===T5&&(pe=C.refs={}),ee===null?delete pe[B]:pe[B]=ee},d._stringRef=B,d)}if(typeof f!="string")throw Error(o(284));if(!E._owner)throw Error(o(290,f))}return f}function Rp(f,d){throw f=Object.prototype.toString.call(d),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":f))}function F5(f){var d=f._init;return d(f._payload)}function O5(f){function d(Se,_e){if(f){var Pe=Se.deletions;Pe===null?(Se.deletions=[_e],Se.flags|=16):Pe.push(_e)}}function E(Se,_e){if(!f)return null;for(;_e!==null;)d(Se,_e),_e=_e.sibling;return null}function S(Se,_e){for(Se=new Map;_e!==null;)_e.key!==null?Se.set(_e.key,_e):Se.set(_e.index,_e),_e=_e.sibling;return Se}function C(Se,_e){return Se=aa(Se,_e),Se.index=0,Se.sibling=null,Se}function B(Se,_e,Pe){return Se.index=Pe,f?(Pe=Se.alternate,Pe!==null?(Pe=Pe.index,Pe<_e?(Se.flags|=2,_e):Pe):(Se.flags|=2,_e)):(Se.flags|=1048576,_e)}function ee(Se){return f&&Se.alternate===null&&(Se.flags|=2),Se}function pe(Se,_e,Pe,qe){return _e===null||_e.tag!==6?(_e=$2(Pe,Se.mode,qe),_e.return=Se,_e):(_e=C(_e,Pe),_e.return=Se,_e)}function Be(Se,_e,Pe,qe){var dt=Pe.type;return dt===u?ot(Se,_e,Pe.props.children,qe,Pe.key):_e!==null&&(_e.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===_&&F5(dt)===_e.type)?(qe=C(_e,Pe.props),qe.ref=Ff(Se,_e,Pe),qe.return=Se,qe):(qe=o1(Pe.type,Pe.key,Pe.props,null,Se.mode,qe),qe.ref=Ff(Se,_e,Pe),qe.return=Se,qe)}function We(Se,_e,Pe,qe){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Pe.containerInfo||_e.stateNode.implementation!==Pe.implementation?(_e=X2(Pe,Se.mode,qe),_e.return=Se,_e):(_e=C(_e,Pe.children||[]),_e.return=Se,_e)}function ot(Se,_e,Pe,qe,dt){return _e===null||_e.tag!==7?(_e=El(Pe,Se.mode,qe,dt),_e.return=Se,_e):(_e=C(_e,Pe),_e.return=Se,_e)}function It(Se,_e,Pe){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return _e=$2(""+_e,Se.mode,Pe),_e.return=Se,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case l:return Pe=o1(_e.type,_e.key,_e.props,null,Se.mode,Pe),Pe.ref=Ff(Se,null,_e),Pe.return=Se,Pe;case c:return _e=X2(_e,Se.mode,Pe),_e.return=Se,_e;case _:var qe=_e._init;return It(Se,qe(_e._payload),Pe)}if(te(_e)||b(_e))return _e=El(_e,Se.mode,Pe,null),_e.return=Se,_e;Rp(Se,_e)}return null}function _t(Se,_e,Pe,qe){var dt=_e!==null?_e.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return dt!==null?null:pe(Se,_e,""+Pe,qe);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case l:return Pe.key===dt?Be(Se,_e,Pe,qe):null;case c:return Pe.key===dt?We(Se,_e,Pe,qe):null;case _:return dt=Pe._init,_t(Se,_e,dt(Pe._payload),qe)}if(te(Pe)||b(Pe))return dt!==null?null:ot(Se,_e,Pe,qe,null);Rp(Se,Pe)}return null}function dn(Se,_e,Pe,qe,dt){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return Se=Se.get(Pe)||null,pe(_e,Se,""+qe,dt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case l:return Se=Se.get(qe.key===null?Pe:qe.key)||null,Be(_e,Se,qe,dt);case c:return Se=Se.get(qe.key===null?Pe:qe.key)||null,We(_e,Se,qe,dt);case _:var zt=qe._init;return dn(Se,_e,Pe,zt(qe._payload),dt)}if(te(qe)||b(qe))return Se=Se.get(Pe)||null,ot(_e,Se,qe,dt,null);Rp(_e,qe)}return null}function ht(Se,_e,Pe,qe){for(var dt=null,zt=null,Lt=_e,tn=_e=0,fr=null;Lt!==null&&tn<Pe.length;tn++){Lt.index>tn?(fr=Lt,Lt=null):fr=Lt.sibling;var nn=_t(Se,Lt,Pe[tn],qe);if(nn===null){Lt===null&&(Lt=fr);break}f&&Lt&&nn.alternate===null&&d(Se,Lt),_e=B(nn,_e,tn),zt===null?dt=nn:zt.sibling=nn,zt=nn,Lt=fr}if(tn===Pe.length)return E(Se,Lt),Sn&&pl(Se,tn),dt;if(Lt===null){for(;tn<Pe.length;tn++)Lt=It(Se,Pe[tn],qe),Lt!==null&&(_e=B(Lt,_e,tn),zt===null?dt=Lt:zt.sibling=Lt,zt=Lt);return Sn&&pl(Se,tn),dt}for(Lt=S(Se,Lt);tn<Pe.length;tn++)fr=dn(Lt,Se,tn,Pe[tn],qe),fr!==null&&(f&&fr.alternate!==null&&Lt.delete(fr.key===null?tn:fr.key),_e=B(fr,_e,tn),zt===null?dt=fr:zt.sibling=fr,zt=fr);return f&&Lt.forEach(function(la){return d(Se,la)}),Sn&&pl(Se,tn),dt}function Tr(Se,_e,Pe,qe){var dt=b(Pe);if(typeof dt!="function")throw Error(o(150));if(Pe=dt.call(Pe),Pe==null)throw Error(o(151));for(var zt=dt=null,Lt=_e,tn=_e=0,fr=null,nn=Pe.next();Lt!==null&&!nn.done;tn++,nn=Pe.next()){Lt.index>tn?(fr=Lt,Lt=null):fr=Lt.sibling;var la=_t(Se,Lt,nn.value,qe);if(la===null){Lt===null&&(Lt=fr);break}f&&Lt&&la.alternate===null&&d(Se,Lt),_e=B(la,_e,tn),zt===null?dt=la:zt.sibling=la,zt=la,Lt=fr}if(nn.done)return E(Se,Lt),Sn&&pl(Se,tn),dt;if(Lt===null){for(;!nn.done;tn++,nn=Pe.next())nn=It(Se,nn.value,qe),nn!==null&&(_e=B(nn,_e,tn),zt===null?dt=nn:zt.sibling=nn,zt=nn);return Sn&&pl(Se,tn),dt}for(Lt=S(Se,Lt);!nn.done;tn++,nn=Pe.next())nn=dn(Lt,Se,tn,nn.value,qe),nn!==null&&(f&&nn.alternate!==null&&Lt.delete(nn.key===null?tn:nn.key),_e=B(nn,_e,tn),zt===null?dt=nn:zt.sibling=nn,zt=nn);return f&&Lt.forEach(function(wI){return d(Se,wI)}),Sn&&pl(Se,tn),dt}function Qi(Se,_e,Pe,qe){if(typeof Pe=="object"&&Pe!==null&&Pe.type===u&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case l:e:{for(var dt=Pe.key,zt=_e;zt!==null;){if(zt.key===dt){if(dt=Pe.type,dt===u){if(zt.tag===7){E(Se,zt.sibling),_e=C(zt,Pe.props.children),_e.return=Se,Se=_e;break e}}else if(zt.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===_&&F5(dt)===zt.type){E(Se,zt.sibling),_e=C(zt,Pe.props),_e.ref=Ff(Se,zt,Pe),_e.return=Se,Se=_e;break e}E(Se,zt);break}else d(Se,zt);zt=zt.sibling}Pe.type===u?(_e=El(Pe.props.children,Se.mode,qe,Pe.key),_e.return=Se,Se=_e):(qe=o1(Pe.type,Pe.key,Pe.props,null,Se.mode,qe),qe.ref=Ff(Se,_e,Pe),qe.return=Se,Se=qe)}return ee(Se);case c:e:{for(zt=Pe.key;_e!==null;){if(_e.key===zt)if(_e.tag===4&&_e.stateNode.containerInfo===Pe.containerInfo&&_e.stateNode.implementation===Pe.implementation){E(Se,_e.sibling),_e=C(_e,Pe.children||[]),_e.return=Se,Se=_e;break e}else{E(Se,_e);break}else d(Se,_e);_e=_e.sibling}_e=X2(Pe,Se.mode,qe),_e.return=Se,Se=_e}return ee(Se);case _:return zt=Pe._init,Qi(Se,_e,zt(Pe._payload),qe)}if(te(Pe))return ht(Se,_e,Pe,qe);if(b(Pe))return Tr(Se,_e,Pe,qe);Rp(Se,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"?(Pe=""+Pe,_e!==null&&_e.tag===6?(E(Se,_e.sibling),_e=C(_e,Pe),_e.return=Se,Se=_e):(E(Se,_e),_e=$2(Pe,Se.mode,qe),_e.return=Se,Se=_e),ee(Se)):E(Se,_e)}return Qi}var Rc=O5(!0),k5=O5(!1),Of={},Ji=Rt(Of),kf=Rt(Of),Pc=Rt(Of);function Js(f){if(f===Of)throw Error(o(174));return f}function u2(f,d){Ye(Pc,d),Ye(kf,f),Ye(Ji,Of),f=ue(d),nt(Ji),Ye(Ji,f)}function Ic(){nt(Ji),nt(kf),nt(Pc)}function U5(f){var d=Js(Pc.current),E=Js(Ji.current);d=F(E,f.type,d),E!==d&&(Ye(kf,f),Ye(Ji,d))}function f2(f){kf.current===f&&(nt(Ji),nt(kf))}var Tn=Rt(0);function Pp(f){for(var d=f;d!==null;){if(d.tag===13){var E=d.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||Gs(E)||fl(E)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var d2=[];function h2(){for(var f=0;f<d2.length;f++){var d=d2[f];Ee?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}d2.length=0}var Ip=a.ReactCurrentDispatcher,Yi=a.ReactCurrentBatchConfig,Lc=0,kn=null,Mr=null,ur=null,Lp=!1,Uf=!1,zf=0,JP=0;function Cr(){throw Error(o(321))}function p2(f,d){if(d===null)return!1;for(var E=0;E<d.length&&E<f.length;E++)if(!js(f[E],d[E]))return!1;return!0}function m2(f,d,E,S,C,B){if(Lc=B,kn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Ip.current=f===null||f.memoizedState===null?QP:qP,f=E(S,C),Uf){B=0;do{if(Uf=!1,zf=0,25<=B)throw Error(o(301));B+=1,ur=Mr=null,d.updateQueue=null,Ip.current=eI,f=E(S,C)}while(Uf)}if(Ip.current=Op,d=Mr!==null&&Mr.next!==null,Lc=0,ur=Mr=kn=null,Lp=!1,d)throw Error(o(300));return f}function g2(){var f=zf!==0;return zf=0,f}function yo(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?kn.memoizedState=ur=f:ur=ur.next=f,ur}function Ys(){if(Mr===null){var f=kn.alternate;f=f!==null?f.memoizedState:null}else f=Mr.next;var d=ur===null?kn.memoizedState:ur.next;if(d!==null)ur=d,Mr=f;else{if(f===null)throw Error(o(310));Mr=f,f={memoizedState:Mr.memoizedState,baseState:Mr.baseState,baseQueue:Mr.baseQueue,queue:Mr.queue,next:null},ur===null?kn.memoizedState=ur=f:ur=ur.next=f}return ur}function ml(f,d){return typeof d=="function"?d(f):d}function Bp(f){var d=Ys(),E=d.queue;if(E===null)throw Error(o(311));E.lastRenderedReducer=f;var S=Mr,C=S.baseQueue,B=E.pending;if(B!==null){if(C!==null){var ee=C.next;C.next=B.next,B.next=ee}S.baseQueue=C=B,E.pending=null}if(C!==null){B=C.next,S=S.baseState;var pe=ee=null,Be=null,We=B;do{var ot=We.lane;if((Lc&ot)===ot)Be!==null&&(Be=Be.next={lane:0,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),S=We.hasEagerState?We.eagerState:f(S,We.action);else{var It={lane:ot,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null};Be===null?(pe=Be=It,ee=S):Be=Be.next=It,kn.lanes|=ot,Dc|=ot}We=We.next}while(We!==null&&We!==B);Be===null?ee=S:Be.next=pe,js(S,d.memoizedState)||(Si=!0),d.memoizedState=S,d.baseState=ee,d.baseQueue=Be,E.lastRenderedState=S}if(f=E.interleaved,f!==null){C=f;do B=C.lane,kn.lanes|=B,Dc|=B,C=C.next;while(C!==f)}else C===null&&(E.lanes=0);return[d.memoizedState,E.dispatch]}function Dp(f){var d=Ys(),E=d.queue;if(E===null)throw Error(o(311));E.lastRenderedReducer=f;var S=E.dispatch,C=E.pending,B=d.memoizedState;if(C!==null){E.pending=null;var ee=C=C.next;do B=f(B,ee.action),ee=ee.next;while(ee!==C);js(B,d.memoizedState)||(Si=!0),d.memoizedState=B,d.baseQueue===null&&(d.baseState=B),E.lastRenderedState=B}return[B,S]}function z5(){}function H5(f,d){var E=kn,S=Ys(),C=d(),B=!js(S.memoizedState,C);if(B&&(S.memoizedState=C,Si=!0),S=S.queue,Gf(W5.bind(null,E,S,f),[f]),S.getSnapshot!==d||B||ur!==null&&ur.memoizedState.tag&1){if(E.flags|=2048,Hf(9,V5.bind(null,E,S,C,d),void 0,null),Jn===null)throw Error(o(349));Lc&30||G5(E,d,C)}return C}function G5(f,d,E){f.flags|=16384,f={getSnapshot:d,value:E},d=kn.updateQueue,d===null?(d={lastEffect:null,stores:null},kn.updateQueue=d,d.stores=[f]):(E=d.stores,E===null?d.stores=[f]:E.push(f))}function V5(f,d,E,S){d.value=E,d.getSnapshot=S,j5(d)&&Ki(f,1,-1)}function W5(f,d,E){return E(function(){j5(d)&&Ki(f,1,-1)})}function j5(f){var d=f.getSnapshot;f=f.value;try{var E=d();return!js(f,E)}catch{return!0}}function v2(f){var d=yo();return typeof f=="function"&&(f=f()),d.memoizedState=d.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:f},d.queue=f,f=f.dispatch=ZP.bind(null,kn,f),[d.memoizedState,f]}function Hf(f,d,E,S){return f={tag:f,create:d,destroy:E,deps:S,next:null},d=kn.updateQueue,d===null?(d={lastEffect:null,stores:null},kn.updateQueue=d,d.lastEffect=f.next=f):(E=d.lastEffect,E===null?d.lastEffect=f.next=f:(S=E.next,E.next=f,f.next=S,d.lastEffect=f)),f}function $5(){return Ys().memoizedState}function Np(f,d,E,S){var C=yo();kn.flags|=f,C.memoizedState=Hf(1|d,E,void 0,S===void 0?null:S)}function Fp(f,d,E,S){var C=Ys();S=S===void 0?null:S;var B=void 0;if(Mr!==null){var ee=Mr.memoizedState;if(B=ee.destroy,S!==null&&p2(S,ee.deps)){C.memoizedState=Hf(d,E,B,S);return}}kn.flags|=f,C.memoizedState=Hf(1|d,E,B,S)}function y2(f,d){return Np(8390656,8,f,d)}function Gf(f,d){return Fp(2048,8,f,d)}function X5(f,d){return Fp(4,2,f,d)}function J5(f,d){return Fp(4,4,f,d)}function Y5(f,d){if(typeof d=="function")return f=f(),d(f),function(){d(null)};if(d!=null)return f=f(),d.current=f,function(){d.current=null}}function K5(f,d,E){return E=E!=null?E.concat([f]):null,Fp(4,4,Y5.bind(null,d,f),E)}function _2(){}function Z5(f,d){var E=Ys();d=d===void 0?null:d;var S=E.memoizedState;return S!==null&&d!==null&&p2(d,S[1])?S[0]:(E.memoizedState=[f,d],f)}function Q5(f,d){var E=Ys();d=d===void 0?null:d;var S=E.memoizedState;return S!==null&&d!==null&&p2(d,S[1])?S[0]:(f=f(),E.memoizedState=[f,d],f)}function YP(f,d){var E=en;en=E!==0&&4>E?E:4,f(!0);var S=Yi.transition;Yi.transition={};try{f(!1),d()}finally{en=E,Yi.transition=S}}function q5(){return Ys().memoizedState}function KP(f,d,E){var S=sa(f);E={lane:S,action:E,hasEagerState:!1,eagerState:null,next:null},eE(f)?tE(d,E):(nE(f,d,E),E=Xr(),f=Ki(f,S,E),f!==null&&rE(f,d,S))}function ZP(f,d,E){var S=sa(f),C={lane:S,action:E,hasEagerState:!1,eagerState:null,next:null};if(eE(f))tE(d,C);else{nE(f,d,C);var B=f.alternate;if(f.lanes===0&&(B===null||B.lanes===0)&&(B=d.lastRenderedReducer,B!==null))try{var ee=d.lastRenderedState,pe=B(ee,E);if(C.hasEagerState=!0,C.eagerState=pe,js(pe,ee))return}catch{}finally{}E=Xr(),f=Ki(f,S,E),f!==null&&rE(f,d,S)}}function eE(f){var d=f.alternate;return f===kn||d!==null&&d===kn}function tE(f,d){Uf=Lp=!0;var E=f.pending;E===null?d.next=d:(d.next=E.next,E.next=d),f.pending=d}function nE(f,d,E){Jn!==null&&f.mode&1&&!(Gt&2)?(f=d.interleaved,f===null?(E.next=E,Xs===null?Xs=[d]:Xs.push(d)):(E.next=f.next,f.next=E),d.interleaved=E):(f=d.pending,f===null?E.next=E:(E.next=f.next,f.next=E),d.pending=E)}function rE(f,d,E){if(E&4194240){var S=d.lanes;S&=f.pendingLanes,E|=S,d.lanes=E,Xg(f,E)}}var Op={readContext:ji,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useInsertionEffect:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useSyncExternalStore:Cr,useId:Cr,unstable_isNewReconciler:!1},QP={readContext:ji,useCallback:function(f,d){return yo().memoizedState=[f,d===void 0?null:d],f},useContext:ji,useEffect:y2,useImperativeHandle:function(f,d,E){return E=E!=null?E.concat([f]):null,Np(4194308,4,Y5.bind(null,d,f),E)},useLayoutEffect:function(f,d){return Np(4194308,4,f,d)},useInsertionEffect:function(f,d){return Np(4,2,f,d)},useMemo:function(f,d){var E=yo();return d=d===void 0?null:d,f=f(),E.memoizedState=[f,d],f},useReducer:function(f,d,E){var S=yo();return d=E!==void 0?E(d):d,S.memoizedState=S.baseState=d,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:d},S.queue=f,f=f.dispatch=KP.bind(null,kn,f),[S.memoizedState,f]},useRef:function(f){var d=yo();return f={current:f},d.memoizedState=f},useState:v2,useDebugValue:_2,useDeferredValue:function(f){var d=v2(f),E=d[0],S=d[1];return y2(function(){var C=Yi.transition;Yi.transition={};try{S(f)}finally{Yi.transition=C}},[f]),E},useTransition:function(){var f=v2(!1),d=f[0];return f=YP.bind(null,f[1]),yo().memoizedState=f,[d,f]},useMutableSource:function(){},useSyncExternalStore:function(f,d,E){var S=kn,C=yo();if(Sn){if(E===void 0)throw Error(o(407));E=E()}else{if(E=d(),Jn===null)throw Error(o(349));Lc&30||G5(S,d,E)}C.memoizedState=E;var B={value:E,getSnapshot:d};return C.queue=B,y2(W5.bind(null,S,B,f),[f]),S.flags|=2048,Hf(9,V5.bind(null,S,B,E,d),void 0,null),E},useId:function(){var f=yo(),d=Jn.identifierPrefix;if(Sn){var E=vo,S=go;E=(S&~(1<<32-pn(S)-1)).toString(32)+E,d=":"+d+"R"+E,E=zf++,0<E&&(d+="H"+E.toString(32)),d+=":"}else E=JP++,d=":"+d+"r"+E.toString(32)+":";return f.memoizedState=d},unstable_isNewReconciler:!1},qP={readContext:ji,useCallback:Z5,useContext:ji,useEffect:Gf,useImperativeHandle:K5,useInsertionEffect:X5,useLayoutEffect:J5,useMemo:Q5,useReducer:Bp,useRef:$5,useState:function(){return Bp(ml)},useDebugValue:_2,useDeferredValue:function(f){var d=Bp(ml),E=d[0],S=d[1];return Gf(function(){var C=Yi.transition;Yi.transition={};try{S(f)}finally{Yi.transition=C}},[f]),E},useTransition:function(){var f=Bp(ml)[0],d=Ys().memoizedState;return[f,d]},useMutableSource:z5,useSyncExternalStore:H5,useId:q5,unstable_isNewReconciler:!1},eI={readContext:ji,useCallback:Z5,useContext:ji,useEffect:Gf,useImperativeHandle:K5,useInsertionEffect:X5,useLayoutEffect:J5,useMemo:Q5,useReducer:Dp,useRef:$5,useState:function(){return Dp(ml)},useDebugValue:_2,useDeferredValue:function(f){var d=Dp(ml),E=d[0],S=d[1];return Gf(function(){var C=Yi.transition;Yi.transition={};try{S(f)}finally{Yi.transition=C}},[f]),E},useTransition:function(){var f=Dp(ml)[0],d=Ys().memoizedState;return[f,d]},useMutableSource:z5,useSyncExternalStore:H5,useId:q5,unstable_isNewReconciler:!1};function x2(f,d){try{var E="",S=d;do E+=XP(S),S=S.return;while(S);var C=E}catch(B){C=`
Error generating stack: `+B.message+`
`+B.stack}return{value:f,source:d,stack:C}}function E2(f,d){try{console.error(d.value)}catch(E){setTimeout(function(){throw E})}}var tI=typeof WeakMap=="function"?WeakMap:Map;function iE(f,d,E){E=mo(-1,E),E.tag=3,E.payload={element:null};var S=d.value;return E.callback=function(){qp||(qp=!0,U2=S),E2(f,d)},E}function sE(f,d,E){E=mo(-1,E),E.tag=3;var S=f.type.getDerivedStateFromError;if(typeof S=="function"){var C=d.value;E.payload=function(){return S(C)},E.callback=function(){E2(f,d)}}var B=f.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(E.callback=function(){E2(f,d),typeof S!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var ee=d.stack;this.componentDidCatch(d.value,{componentStack:ee!==null?ee:""})}),E}function oE(f,d,E){var S=f.pingCache;if(S===null){S=f.pingCache=new tI;var C=new Set;S.set(d,C)}else C=S.get(d),C===void 0&&(C=new Set,S.set(d,C));C.has(E)||(C.add(E),f=mI.bind(null,f,d,E),d.then(f,f))}function aE(f){do{var d;if((d=f.tag===13)&&(d=f.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return f;f=f.return}while(f!==null);return null}function lE(f,d,E,S,C){return f.mode&1?(f.flags|=65536,f.lanes=C,f):(f===d?f.flags|=65536:(f.flags|=128,E.flags|=131072,E.flags&=-52805,E.tag===1&&(E.alternate===null?E.tag=17:(d=mo(-1,1),d.tag=2,na(E,d))),E.lanes|=1),f)}function Ks(f){f.flags|=4}function cE(f,d){if(f!==null&&f.child===d.child)return!0;if(d.flags&16)return!1;for(f=d.child;f!==null;){if(f.flags&12854||f.subtreeFlags&12854)return!1;f=f.sibling}return!0}var Vf,Wf,kp,Up;if(Te)Vf=function(f,d){for(var E=d.child;E!==null;){if(E.tag===5||E.tag===6)xe(f,E.stateNode);else if(E.tag!==4&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===d)break;for(;E.sibling===null;){if(E.return===null||E.return===d)return;E=E.return}E.sibling.return=E.return,E=E.sibling}},Wf=function(){},kp=function(f,d,E,S,C){if(f=f.memoizedProps,f!==S){var B=d.stateNode,ee=Js(Ji.current);E=X(B,E,f,S,C,ee),(d.updateQueue=E)&&Ks(d)}},Up=function(f,d,E,S){E!==S&&Ks(d)};else if(J){Vf=function(f,d,E,S){for(var C=d.child;C!==null;){if(C.tag===5){var B=C.stateNode;E&&S&&(B=Fn(B,C.type,C.memoizedProps,C)),xe(f,B)}else if(C.tag===6)B=C.stateNode,E&&S&&(B=gr(B,C.memoizedProps,C)),xe(f,B);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)B=C.child,B!==null&&(B.return=C),Vf(f,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===d)break;for(;C.sibling===null;){if(C.return===null||C.return===d)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};var uE=function(f,d,E,S){for(var C=d.child;C!==null;){if(C.tag===5){var B=C.stateNode;E&&S&&(B=Fn(B,C.type,C.memoizedProps,C)),mt(f,B)}else if(C.tag===6)B=C.stateNode,E&&S&&(B=gr(B,C.memoizedProps,C)),mt(f,B);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)B=C.child,B!==null&&(B.return=C),uE(f,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===d)break;for(;C.sibling===null;){if(C.return===null||C.return===d)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};Wf=function(f,d){var E=d.stateNode;if(!cE(f,d)){f=E.containerInfo;var S=ct(f);uE(S,d,!1,!1),E.pendingChildren=S,Ks(d),Zt(f,S)}},kp=function(f,d,E,S,C){var B=f.stateNode,ee=f.memoizedProps;if((f=cE(f,d))&&ee===S)d.stateNode=B;else{var pe=d.stateNode,Be=Js(Ji.current),We=null;ee!==S&&(We=X(pe,E,ee,S,C,Be)),f&&We===null?d.stateNode=B:(B=$e(B,We,E,ee,S,d,f,pe),Oe(B,E,S,C,Be)&&Ks(d),d.stateNode=B,f?Ks(d):Vf(B,d,!1,!1))}},Up=function(f,d,E,S){E!==S?(f=Js(Pc.current),E=Js(Ji.current),d.stateNode=H(S,f,E,d),Ks(d)):d.stateNode=f.stateNode}}else Wf=function(){},kp=function(){},Up=function(){};function jf(f,d){if(!Sn)switch(f.tailMode){case"hidden":d=f.tail;for(var E=null;d!==null;)d.alternate!==null&&(E=d),d=d.sibling;E===null?f.tail=null:E.sibling=null;break;case"collapsed":E=f.tail;for(var S=null;E!==null;)E.alternate!==null&&(S=E),E=E.sibling;S===null?d||f.tail===null?f.tail=null:f.tail.sibling=null:S.sibling=null}}function br(f){var d=f.alternate!==null&&f.alternate.child===f.child,E=0,S=0;if(d)for(var C=f.child;C!==null;)E|=C.lanes|C.childLanes,S|=C.subtreeFlags&14680064,S|=C.flags&14680064,C.return=f,C=C.sibling;else for(C=f.child;C!==null;)E|=C.lanes|C.childLanes,S|=C.subtreeFlags,S|=C.flags,C.return=f,C=C.sibling;return f.subtreeFlags|=S,f.childLanes=E,d}function nI(f,d,E){var S=d.pendingProps;switch(o2(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return br(d),null;case 1:return wn(d.type)&&Jt(),br(d),null;case 3:return S=d.stateNode,Ic(),nt(Mt),nt(Et),h2(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(f===null||f.child===null)&&(Nf(d)?Ks(d):f===null||f.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,xs!==null&&(G2(xs),xs=null))),Wf(f,d),br(d),null;case 5:f2(d),E=Js(Pc.current);var C=d.type;if(f!==null&&d.stateNode!=null)kp(f,d,C,S,E),f.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!S){if(d.stateNode===null)throw Error(o(166));return br(d),null}if(f=Js(Ji.current),Nf(d)){if(!Ae)throw Error(o(175));f=U(d.stateNode,d.type,d.memoizedProps,E,f,d,!Df),d.updateQueue=f,f!==null&&Ks(d)}else{var B=fe(C,S,E,f,d);Vf(B,d,!1,!1),d.stateNode=B,Oe(B,C,S,E,f)&&Ks(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return br(d),null;case 6:if(f&&d.stateNode!=null)Up(f,d,f.memoizedProps,S);else{if(typeof S!="string"&&d.stateNode===null)throw Error(o(166));if(f=Js(Pc.current),E=Js(Ji.current),Nf(d)){if(!Ae)throw Error(o(176));if(f=d.stateNode,S=d.memoizedProps,(E=$(f,S,d,!Df))&&(C=Ai,C!==null))switch(B=(C.mode&1)!==0,C.tag){case 3:Re(C.stateNode.containerInfo,f,S,B);break;case 5:Le(C.type,C.memoizedProps,C.stateNode,f,S,B)}E&&Ks(d)}else d.stateNode=H(S,f,E,d)}return br(d),null;case 13:if(nt(Tn),S=d.memoizedState,Sn&&wi!==null&&d.mode&1&&!(d.flags&128)){for(f=wi;f;)f=ai(f);return Tc(),d.flags|=98560,d}if(S!==null&&S.dehydrated!==null){if(S=Nf(d),f===null){if(!S)throw Error(o(318));if(!Ae)throw Error(o(344));if(f=d.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));de(f,d)}else Tc(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;return br(d),null}return xs!==null&&(G2(xs),xs=null),d.flags&128?(d.lanes=E,d):(S=S!==null,E=!1,f===null?Nf(d):E=f.memoizedState!==null,S&&!E&&(d.child.flags|=8192,d.mode&1&&(f===null||Tn.current&1?er===0&&(er=3):W2())),d.updateQueue!==null&&(d.flags|=4),br(d),null);case 4:return Ic(),Wf(f,d),f===null&&me(d.stateNode.containerInfo),br(d),null;case 10:return e2(d.type._context),br(d),null;case 17:return wn(d.type)&&Jt(),br(d),null;case 19:if(nt(Tn),C=d.memoizedState,C===null)return br(d),null;if(S=(d.flags&128)!==0,B=C.rendering,B===null)if(S)jf(C,!1);else{if(er!==0||f!==null&&f.flags&128)for(f=d.child;f!==null;){if(B=Pp(f),B!==null){for(d.flags|=128,jf(C,!1),f=B.updateQueue,f!==null&&(d.updateQueue=f,d.flags|=4),d.subtreeFlags=0,f=E,S=d.child;S!==null;)E=S,C=f,E.flags&=14680066,B=E.alternate,B===null?(E.childLanes=0,E.lanes=C,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=B.childLanes,E.lanes=B.lanes,E.child=B.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=B.memoizedProps,E.memoizedState=B.memoizedState,E.updateQueue=B.updateQueue,E.type=B.type,C=B.dependencies,E.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext}),S=S.sibling;return Ye(Tn,Tn.current&1|2),d.child}f=f.sibling}C.tail!==null&&cr()>k2&&(d.flags|=128,S=!0,jf(C,!1),d.lanes=4194304)}else{if(!S)if(f=Pp(B),f!==null){if(d.flags|=128,S=!0,f=f.updateQueue,f!==null&&(d.updateQueue=f,d.flags|=4),jf(C,!0),C.tail===null&&C.tailMode==="hidden"&&!B.alternate&&!Sn)return br(d),null}else 2*cr()-C.renderingStartTime>k2&&E!==1073741824&&(d.flags|=128,S=!0,jf(C,!1),d.lanes=4194304);C.isBackwards?(B.sibling=d.child,d.child=B):(f=C.last,f!==null?f.sibling=B:d.child=B,C.last=B)}return C.tail!==null?(d=C.tail,C.rendering=d,C.tail=d.sibling,C.renderingStartTime=cr(),d.sibling=null,f=Tn.current,Ye(Tn,S?f&1|2:f&1),d):(br(d),null);case 22:case 23:return V2(),S=d.memoizedState!==null,f!==null&&f.memoizedState!==null!==S&&(d.flags|=8192),S&&d.mode&1?Mi&1073741824&&(br(d),Te&&d.subtreeFlags&6&&(d.flags|=8192)):br(d),null;case 24:return null;case 25:return null}throw Error(o(156,d.tag))}var rI=a.ReactCurrentOwner,Si=!1;function $r(f,d,E,S){d.child=f===null?k5(d,null,E,S):Rc(d,f.child,E,S)}function fE(f,d,E,S,C){E=E.render;var B=d.ref;return Mc(d,C),S=m2(f,d,E,S,B,C),E=g2(),f!==null&&!Si?(d.updateQueue=f.updateQueue,d.flags&=-2053,f.lanes&=~C,_o(f,d,C)):(Sn&&E&&s2(d),d.flags|=1,$r(f,d,S,C),d.child)}function dE(f,d,E,S,C){if(f===null){var B=E.type;return typeof B=="function"&&!j2(B)&&B.defaultProps===void 0&&E.compare===null&&E.defaultProps===void 0?(d.tag=15,d.type=B,hE(f,d,B,S,C)):(f=o1(E.type,null,S,d,d.mode,C),f.ref=d.ref,f.return=d,d.child=f)}if(B=f.child,!(f.lanes&C)){var ee=B.memoizedProps;if(E=E.compare,E=E!==null?E:Ep,E(ee,S)&&f.ref===d.ref)return _o(f,d,C)}return d.flags|=1,f=aa(B,S),f.ref=d.ref,f.return=d,d.child=f}function hE(f,d,E,S,C){if(f!==null&&Ep(f.memoizedProps,S)&&f.ref===d.ref)if(Si=!1,(f.lanes&C)!==0)f.flags&131072&&(Si=!0);else return d.lanes=f.lanes,_o(f,d,C);return A2(f,d,E,S,C)}function pE(f,d,E){var S=d.pendingProps,C=S.children,B=f!==null?f.memoizedState:null;if(S.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null},Ye(Bc,Mi),Mi|=E;else if(E&1073741824)d.memoizedState={baseLanes:0,cachePool:null},S=B!==null?B.baseLanes:E,Ye(Bc,Mi),Mi|=S;else return f=B!==null?B.baseLanes|E:E,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:f,cachePool:null},d.updateQueue=null,Ye(Bc,Mi),Mi|=f,null;else B!==null?(S=B.baseLanes|E,d.memoizedState=null):S=E,Ye(Bc,Mi),Mi|=S;return $r(f,d,C,E),d.child}function mE(f,d){var E=d.ref;(f===null&&E!==null||f!==null&&f.ref!==E)&&(d.flags|=512,d.flags|=2097152)}function A2(f,d,E,S,C){var B=wn(E)?on:Et.current;return B=On(d,B),Mc(d,C),E=m2(f,d,E,S,B,C),S=g2(),f!==null&&!Si?(d.updateQueue=f.updateQueue,d.flags&=-2053,f.lanes&=~C,_o(f,d,C)):(Sn&&S&&s2(d),d.flags|=1,$r(f,d,E,C),d.child)}function gE(f,d,E,S,C){if(wn(E)){var B=!0;Ft(d)}else B=!1;if(Mc(d,C),d.stateNode===null)f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),P5(d,E,S),i2(d,E,S,C),S=!0;else if(f===null){var ee=d.stateNode,pe=d.memoizedProps;ee.props=pe;var Be=ee.context,We=E.contextType;typeof We=="object"&&We!==null?We=ji(We):(We=wn(E)?on:Et.current,We=On(d,We));var ot=E.getDerivedStateFromProps,It=typeof ot=="function"||typeof ee.getSnapshotBeforeUpdate=="function";It||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(pe!==S||Be!==We)&&I5(d,ee,S,We),ta=!1;var _t=d.memoizedState;ee.state=_t,Mp(d,S,ee,C),Be=d.memoizedState,pe!==S||_t!==Be||Mt.current||ta?(typeof ot=="function"&&(r2(d,E,ot,S),Be=d.memoizedState),(pe=ta||R5(d,E,pe,S,_t,Be,We))?(It||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount()),typeof ee.componentDidMount=="function"&&(d.flags|=4194308)):(typeof ee.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=S,d.memoizedState=Be),ee.props=S,ee.state=Be,ee.context=We,S=pe):(typeof ee.componentDidMount=="function"&&(d.flags|=4194308),S=!1)}else{ee=d.stateNode,M5(f,d),pe=d.memoizedProps,We=d.type===d.elementType?pe:_s(d.type,pe),ee.props=We,It=d.pendingProps,_t=ee.context,Be=E.contextType,typeof Be=="object"&&Be!==null?Be=ji(Be):(Be=wn(E)?on:Et.current,Be=On(d,Be));var dn=E.getDerivedStateFromProps;(ot=typeof dn=="function"||typeof ee.getSnapshotBeforeUpdate=="function")||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(pe!==It||_t!==Be)&&I5(d,ee,S,Be),ta=!1,_t=d.memoizedState,ee.state=_t,Mp(d,S,ee,C);var ht=d.memoizedState;pe!==It||_t!==ht||Mt.current||ta?(typeof dn=="function"&&(r2(d,E,dn,S),ht=d.memoizedState),(We=ta||R5(d,E,We,S,_t,ht,Be)||!1)?(ot||typeof ee.UNSAFE_componentWillUpdate!="function"&&typeof ee.componentWillUpdate!="function"||(typeof ee.componentWillUpdate=="function"&&ee.componentWillUpdate(S,ht,Be),typeof ee.UNSAFE_componentWillUpdate=="function"&&ee.UNSAFE_componentWillUpdate(S,ht,Be)),typeof ee.componentDidUpdate=="function"&&(d.flags|=4),typeof ee.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof ee.componentDidUpdate!="function"||pe===f.memoizedProps&&_t===f.memoizedState||(d.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||pe===f.memoizedProps&&_t===f.memoizedState||(d.flags|=1024),d.memoizedProps=S,d.memoizedState=ht),ee.props=S,ee.state=ht,ee.context=Be,S=We):(typeof ee.componentDidUpdate!="function"||pe===f.memoizedProps&&_t===f.memoizedState||(d.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||pe===f.memoizedProps&&_t===f.memoizedState||(d.flags|=1024),S=!1)}return w2(f,d,E,S,B,C)}function w2(f,d,E,S,C,B){mE(f,d);var ee=(d.flags&128)!==0;if(!S&&!ee)return C&&Wt(d,E,!1),_o(f,d,B);S=d.stateNode,rI.current=d;var pe=ee&&typeof E.getDerivedStateFromError!="function"?null:S.render();return d.flags|=1,f!==null&&ee?(d.child=Rc(d,f.child,null,B),d.child=Rc(d,null,pe,B)):$r(f,d,pe,B),d.memoizedState=S.state,C&&Wt(d,E,!0),d.child}function vE(f){var d=f.stateNode;d.pendingContext?Vt(f,d.pendingContext,d.pendingContext!==d.context):d.context&&Vt(f,d.context,!1),u2(f,d.containerInfo)}function yE(f,d,E,S,C){return Tc(),c2(C),d.flags|=256,$r(f,d,E,S),d.child}var zp={dehydrated:null,treeContext:null,retryLane:0};function Hp(f){return{baseLanes:f,cachePool:null}}function _E(f,d,E){var S=d.pendingProps,C=Tn.current,B=!1,ee=(d.flags&128)!==0,pe;if((pe=ee)||(pe=f!==null&&f.memoizedState===null?!1:(C&2)!==0),pe?(B=!0,d.flags&=-129):(f===null||f.memoizedState!==null)&&(C|=1),Ye(Tn,C&1),f===null)return l2(d),f=d.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(d.mode&1?fl(f)?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(C=S.children,f=S.fallback,B?(S=d.mode,B=d.child,C={mode:"hidden",children:C},!(S&1)&&B!==null?(B.childLanes=0,B.pendingProps=C):B=a1(C,S,0,null),f=El(f,S,E,null),B.return=d,f.return=d,B.sibling=f,d.child=B,d.child.memoizedState=Hp(E),d.memoizedState=zp,f):S2(d,C));if(C=f.memoizedState,C!==null){if(pe=C.dehydrated,pe!==null){if(ee)return d.flags&256?(d.flags&=-257,Gp(f,d,E,Error(o(422)))):d.memoizedState!==null?(d.child=f.child,d.flags|=128,null):(B=S.fallback,C=d.mode,S=a1({mode:"visible",children:S.children},C,0,null),B=El(B,C,E,null),B.flags|=2,S.return=d,B.return=d,S.sibling=B,d.child=S,d.mode&1&&Rc(d,f.child,null,E),d.child.memoizedState=Hp(E),d.memoizedState=zp,B);if(!(d.mode&1))d=Gp(f,d,E,null);else if(fl(pe))d=Gp(f,d,E,Error(o(419)));else if(S=(E&f.childLanes)!==0,Si||S){if(S=Jn,S!==null){switch(E&-E){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}S=B&(S.suspendedLanes|E)?0:B,S!==0&&S!==C.retryLane&&(C.retryLane=S,Ki(f,S,-1))}W2(),d=Gp(f,d,E,Error(o(421)))}else Gs(pe)?(d.flags|=128,d.child=f.child,d=gI.bind(null,f),Vi(pe,d),d=null):(E=C.treeContext,Ae&&(wi=wc(pe),Ai=d,Sn=!0,xs=null,Df=!1,E!==null&&($i[Xi++]=go,$i[Xi++]=vo,$i[Xi++]=hl,go=E.id,vo=E.overflow,hl=d)),d=S2(d,d.pendingProps.children),d.flags|=4096);return d}return B?(S=EE(f,d,S.children,S.fallback,E),B=d.child,C=f.child.memoizedState,B.memoizedState=C===null?Hp(E):{baseLanes:C.baseLanes|E,cachePool:null},B.childLanes=f.childLanes&~E,d.memoizedState=zp,S):(E=xE(f,d,S.children,E),d.memoizedState=null,E)}return B?(S=EE(f,d,S.children,S.fallback,E),B=d.child,C=f.child.memoizedState,B.memoizedState=C===null?Hp(E):{baseLanes:C.baseLanes|E,cachePool:null},B.childLanes=f.childLanes&~E,d.memoizedState=zp,S):(E=xE(f,d,S.children,E),d.memoizedState=null,E)}function S2(f,d){return d=a1({mode:"visible",children:d},f.mode,0,null),d.return=f,f.child=d}function xE(f,d,E,S){var C=f.child;return f=C.sibling,E=aa(C,{mode:"visible",children:E}),!(d.mode&1)&&(E.lanes=S),E.return=d,E.sibling=null,f!==null&&(S=d.deletions,S===null?(d.deletions=[f],d.flags|=16):S.push(f)),d.child=E}function EE(f,d,E,S,C){var B=d.mode;f=f.child;var ee=f.sibling,pe={mode:"hidden",children:E};return!(B&1)&&d.child!==f?(E=d.child,E.childLanes=0,E.pendingProps=pe,d.deletions=null):(E=aa(f,pe),E.subtreeFlags=f.subtreeFlags&14680064),ee!==null?S=aa(ee,S):(S=El(S,B,C,null),S.flags|=2),S.return=d,E.return=d,E.sibling=S,d.child=E,S}function Gp(f,d,E,S){return S!==null&&c2(S),Rc(d,f.child,null,E),f=S2(d,d.pendingProps.children),f.flags|=2,d.memoizedState=null,f}function AE(f,d,E){f.lanes|=d;var S=f.alternate;S!==null&&(S.lanes|=d),t2(f.return,d,E)}function M2(f,d,E,S,C){var B=f.memoizedState;B===null?f.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:S,tail:E,tailMode:C}:(B.isBackwards=d,B.rendering=null,B.renderingStartTime=0,B.last=S,B.tail=E,B.tailMode=C)}function wE(f,d,E){var S=d.pendingProps,C=S.revealOrder,B=S.tail;if($r(f,d,S.children,E),S=Tn.current,S&2)S=S&1|2,d.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=d.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&AE(f,E,d);else if(f.tag===19)AE(f,E,d);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}S&=1}if(Ye(Tn,S),!(d.mode&1))d.memoizedState=null;else switch(C){case"forwards":for(E=d.child,C=null;E!==null;)f=E.alternate,f!==null&&Pp(f)===null&&(C=E),E=E.sibling;E=C,E===null?(C=d.child,d.child=null):(C=E.sibling,E.sibling=null),M2(d,!1,C,E,B);break;case"backwards":for(E=null,C=d.child,d.child=null;C!==null;){if(f=C.alternate,f!==null&&Pp(f)===null){d.child=C;break}f=C.sibling,C.sibling=E,E=C,C=f}M2(d,!0,E,null,B);break;case"together":M2(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function _o(f,d,E){if(f!==null&&(d.dependencies=f.dependencies),Dc|=d.lanes,!(E&d.childLanes))return null;if(f!==null&&d.child!==f.child)throw Error(o(153));if(d.child!==null){for(f=d.child,E=aa(f,f.pendingProps),d.child=E,E.return=d;f.sibling!==null;)f=f.sibling,E=E.sibling=aa(f,f.pendingProps),E.return=d;E.sibling=null}return d.child}function iI(f,d,E){switch(d.tag){case 3:vE(d),Tc();break;case 5:U5(d);break;case 1:wn(d.type)&&Ft(d);break;case 4:u2(d,d.stateNode.containerInfo);break;case 10:S5(d,d.type._context,d.memoizedProps.value);break;case 13:var S=d.memoizedState;if(S!==null)return S.dehydrated!==null?(Ye(Tn,Tn.current&1),d.flags|=128,null):E&d.child.childLanes?_E(f,d,E):(Ye(Tn,Tn.current&1),f=_o(f,d,E),f!==null?f.sibling:null);Ye(Tn,Tn.current&1);break;case 19:if(S=(E&d.childLanes)!==0,f.flags&128){if(S)return wE(f,d,E);d.flags|=128}var C=d.memoizedState;if(C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Ye(Tn,Tn.current),S)break;return null;case 22:case 23:return d.lanes=0,pE(f,d,E)}return _o(f,d,E)}function sI(f,d){switch(o2(d),d.tag){case 1:return wn(d.type)&&Jt(),f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 3:return Ic(),nt(Mt),nt(Et),h2(),f=d.flags,f&65536&&!(f&128)?(d.flags=f&-65537|128,d):null;case 5:return f2(d),null;case 13:if(nt(Tn),f=d.memoizedState,f!==null&&f.dehydrated!==null){if(d.alternate===null)throw Error(o(340));Tc()}return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 19:return nt(Tn),null;case 4:return Ic(),null;case 10:return e2(d.type._context),null;case 22:case 23:return V2(),null;case 24:return null;default:return null}}var Vp=!1,gl=!1,oI=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Wp(f,d){var E=f.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(S){ui(f,d,S)}else E.current=null}function C2(f,d,E){try{E()}catch(S){ui(f,d,S)}}var SE=!1;function aI(f,d){for(Y(f.containerInfo),Qe=d;Qe!==null;)if(f=Qe,d=f.child,(f.subtreeFlags&1028)!==0&&d!==null)d.return=f,Qe=d;else for(;Qe!==null;){f=Qe;try{var E=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var S=E.memoizedProps,C=E.memoizedState,B=f.stateNode,ee=B.getSnapshotBeforeUpdate(f.elementType===f.type?S:_s(f.type,S),C);B.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:Te&&je(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(pe){ui(f,f.return,pe)}if(d=f.sibling,d!==null){d.return=f.return,Qe=d;break}Qe=f.return}return E=SE,SE=!1,E}function vl(f,d,E){var S=d.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var C=S=S.next;do{if((C.tag&f)===f){var B=C.destroy;C.destroy=void 0,B!==void 0&&C2(d,E,B)}C=C.next}while(C!==S)}}function $f(f,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var E=d=d.next;do{if((E.tag&f)===f){var S=E.create;E.destroy=S()}E=E.next}while(E!==d)}}function b2(f){var d=f.ref;if(d!==null){var E=f.stateNode;switch(f.tag){case 5:f=re(E);break;default:f=E}typeof d=="function"?d(f):d.current=f}}function ME(f,d,E){if(Ws&&typeof Ws.onCommitFiberUnmount=="function")try{Ws.onCommitFiberUnmount(_p,d)}catch{}switch(d.tag){case 0:case 11:case 14:case 15:if(f=d.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var S=f=f.next;do{var C=S,B=C.destroy;C=C.tag,B!==void 0&&(C&2||C&4)&&C2(d,E,B),S=S.next}while(S!==f)}break;case 1:if(Wp(d,E),f=d.stateNode,typeof f.componentWillUnmount=="function")try{f.props=d.memoizedProps,f.state=d.memoizedState,f.componentWillUnmount()}catch(ee){ui(d,E,ee)}break;case 5:Wp(d,E);break;case 4:Te?IE(f,d,E):J&&J&&(d=d.stateNode.containerInfo,E=ct(d),rn(d,E))}}function CE(f,d,E){for(var S=d;;)if(ME(f,S,E),S.child===null||Te&&S.tag===4){if(S===d)break;for(;S.sibling===null;){if(S.return===null||S.return===d)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else S.child.return=S,S=S.child}function bE(f){var d=f.alternate;d!==null&&(f.alternate=null,bE(d)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(d=f.stateNode,d!==null&&De(d)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function TE(f){return f.tag===5||f.tag===3||f.tag===4}function RE(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||TE(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function PE(f){if(Te){e:{for(var d=f.return;d!==null;){if(TE(d))break e;d=d.return}throw Error(o(160))}var E=d;switch(E.tag){case 5:d=E.stateNode,E.flags&32&&(At(d),E.flags&=-33),E=RE(f),R2(f,E,d);break;case 3:case 4:d=E.stateNode.containerInfo,E=RE(f),T2(f,E,d);break;default:throw Error(o(161))}}}function T2(f,d,E){var S=f.tag;if(S===5||S===6)f=f.stateNode,d?Ze(E,f,d):ut(E,f);else if(S!==4&&(f=f.child,f!==null))for(T2(f,d,E),f=f.sibling;f!==null;)T2(f,d,E),f=f.sibling}function R2(f,d,E){var S=f.tag;if(S===5||S===6)f=f.stateNode,d?ft(E,f,d):st(E,f);else if(S!==4&&(f=f.child,f!==null))for(R2(f,d,E),f=f.sibling;f!==null;)R2(f,d,E),f=f.sibling}function IE(f,d,E){for(var S=d,C=!1,B,ee;;){if(!C){C=S.return;e:for(;;){if(C===null)throw Error(o(160));switch(B=C.stateNode,C.tag){case 5:ee=!1;break e;case 3:B=B.containerInfo,ee=!0;break e;case 4:B=B.containerInfo,ee=!0;break e}C=C.return}C=!0}if(S.tag===5||S.tag===6)CE(f,S,E),ee?gt(B,S.stateNode):et(B,S.stateNode);else if(S.tag===18)ee?ie(B,S.stateNode):ce(B,S.stateNode);else if(S.tag===4){if(S.child!==null){B=S.stateNode.containerInfo,ee=!0,S.child.return=S,S=S.child;continue}}else if(ME(f,S,E),S.child!==null){S.child.return=S,S=S.child;continue}if(S===d)break;for(;S.sibling===null;){if(S.return===null||S.return===d)return;S=S.return,S.tag===4&&(C=!1)}S.sibling.return=S.return,S=S.sibling}}function P2(f,d){if(Te){switch(d.tag){case 0:case 11:case 14:case 15:vl(3,d,d.return),$f(3,d),vl(5,d,d.return);return;case 1:return;case 5:var E=d.stateNode;if(E!=null){var S=d.memoizedProps;f=f!==null?f.memoizedProps:S;var C=d.type,B=d.updateQueue;d.updateQueue=null,B!==null&&St(E,B,C,f,S,d)}return;case 6:if(d.stateNode===null)throw Error(o(162));E=d.memoizedProps,Fe(d.stateNode,f!==null?f.memoizedProps:E,E);return;case 3:Ae&&f!==null&&f.memoizedState.isDehydrated&&K(d.stateNode.containerInfo);return;case 12:return;case 13:jp(d);return;case 19:jp(d);return;case 17:return}throw Error(o(163))}switch(d.tag){case 0:case 11:case 14:case 15:vl(3,d,d.return),$f(3,d),vl(5,d,d.return);return;case 12:return;case 13:jp(d);return;case 19:jp(d);return;case 3:Ae&&f!==null&&f.memoizedState.isDehydrated&&K(d.stateNode.containerInfo);break;case 22:case 23:return}e:if(J){switch(d.tag){case 1:case 5:case 6:break e;case 3:case 4:d=d.stateNode,rn(d.containerInfo,d.pendingChildren);break e}throw Error(o(163))}}function jp(f){var d=f.updateQueue;if(d!==null){f.updateQueue=null;var E=f.stateNode;E===null&&(E=f.stateNode=new oI),d.forEach(function(S){var C=vI.bind(null,f,S);E.has(S)||(E.add(S),S.then(C,C))})}}function lI(f,d){for(Qe=d;Qe!==null;){d=Qe;var E=d.deletions;if(E!==null)for(var S=0;S<E.length;S++){var C=E[S];try{var B=f;Te?IE(B,C,d):CE(B,C,d);var ee=C.alternate;ee!==null&&(ee.return=null),C.return=null}catch(dt){ui(C,d,dt)}}if(E=d.child,d.subtreeFlags&12854&&E!==null)E.return=d,Qe=E;else for(;Qe!==null;){d=Qe;try{var pe=d.flags;if(pe&32&&Te&&At(d.stateNode),pe&512){var Be=d.alternate;if(Be!==null){var We=Be.ref;We!==null&&(typeof We=="function"?We(null):We.current=null)}}if(pe&8192)switch(d.tag){case 13:if(d.memoizedState!==null){var ot=d.alternate;(ot===null||ot.memoizedState===null)&&(O2=cr())}break;case 22:var It=d.memoizedState!==null,_t=d.alternate,dn=_t!==null&&_t.memoizedState!==null;if(E=d,Te){e:if(S=E,C=It,B=null,Te)for(var ht=S;;){if(ht.tag===5){if(B===null){B=ht;var Tr=ht.stateNode;C?bt(Tr):He(ht.stateNode,ht.memoizedProps)}}else if(ht.tag===6){if(B===null){var Qi=ht.stateNode;C?Ut(Qi):ne(Qi,ht.memoizedProps)}}else if((ht.tag!==22&&ht.tag!==23||ht.memoizedState===null||ht===S)&&ht.child!==null){ht.child.return=ht,ht=ht.child;continue}if(ht===S)break;for(;ht.sibling===null;){if(ht.return===null||ht.return===S)break e;B===ht&&(B=null),ht=ht.return}B===ht&&(B=null),ht.sibling.return=ht.return,ht=ht.sibling}}if(It&&!dn&&E.mode&1){Qe=E;for(var Se=E.child;Se!==null;){for(E=Qe=Se;Qe!==null;){S=Qe;var _e=S.child;switch(S.tag){case 0:case 11:case 14:case 15:vl(4,S,S.return);break;case 1:Wp(S,S.return);var Pe=S.stateNode;if(typeof Pe.componentWillUnmount=="function"){var qe=S.return;try{Pe.props=S.memoizedProps,Pe.state=S.memoizedState,Pe.componentWillUnmount()}catch(dt){ui(S,qe,dt)}}break;case 5:Wp(S,S.return);break;case 22:if(S.memoizedState!==null){DE(E);continue}}_e!==null?(_e.return=S,Qe=_e):DE(E)}Se=Se.sibling}}}switch(pe&4102){case 2:PE(d),d.flags&=-3;break;case 6:PE(d),d.flags&=-3,P2(d.alternate,d);break;case 4096:d.flags&=-4097;break;case 4100:d.flags&=-4097,P2(d.alternate,d);break;case 4:P2(d.alternate,d)}}catch(dt){ui(d,d.return,dt)}if(E=d.sibling,E!==null){E.return=d.return,Qe=E;break}Qe=d.return}}}function cI(f,d,E){Qe=f,LE(f)}function LE(f,d,E){for(var S=(f.mode&1)!==0;Qe!==null;){var C=Qe,B=C.child;if(C.tag===22&&S){var ee=C.memoizedState!==null||Vp;if(!ee){var pe=C.alternate,Be=pe!==null&&pe.memoizedState!==null||gl;pe=Vp;var We=gl;if(Vp=ee,(gl=Be)&&!We)for(Qe=C;Qe!==null;)ee=Qe,Be=ee.child,ee.tag===22&&ee.memoizedState!==null?NE(C):Be!==null?(Be.return=ee,Qe=Be):NE(C);for(;B!==null;)Qe=B,LE(B),B=B.sibling;Qe=C,Vp=pe,gl=We}BE(f)}else C.subtreeFlags&8772&&B!==null?(B.return=C,Qe=B):BE(f)}}function BE(f){for(;Qe!==null;){var d=Qe;if(d.flags&8772){var E=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:gl||$f(5,d);break;case 1:var S=d.stateNode;if(d.flags&4&&!gl)if(E===null)S.componentDidMount();else{var C=d.elementType===d.type?E.memoizedProps:_s(d.type,E.memoizedProps);S.componentDidUpdate(C,E.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var B=d.updateQueue;B!==null&&b5(d,B,S);break;case 3:var ee=d.updateQueue;if(ee!==null){if(E=null,d.child!==null)switch(d.child.tag){case 5:E=re(d.child.stateNode);break;case 1:E=d.child.stateNode}b5(d,ee,E)}break;case 5:var pe=d.stateNode;E===null&&d.flags&4&&Dt(pe,d.type,d.memoizedProps,d);break;case 6:break;case 4:break;case 12:break;case 13:if(Ae&&d.memoizedState===null){var Be=d.alternate;if(Be!==null){var We=Be.memoizedState;if(We!==null){var ot=We.dehydrated;ot!==null&&q(ot)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}gl||d.flags&512&&b2(d)}catch(It){ui(d,d.return,It)}}if(d===f){Qe=null;break}if(E=d.sibling,E!==null){E.return=d.return,Qe=E;break}Qe=d.return}}function DE(f){for(;Qe!==null;){var d=Qe;if(d===f){Qe=null;break}var E=d.sibling;if(E!==null){E.return=d.return,Qe=E;break}Qe=d.return}}function NE(f){for(;Qe!==null;){var d=Qe;try{switch(d.tag){case 0:case 11:case 15:var E=d.return;try{$f(4,d)}catch(Be){ui(d,E,Be)}break;case 1:var S=d.stateNode;if(typeof S.componentDidMount=="function"){var C=d.return;try{S.componentDidMount()}catch(Be){ui(d,C,Be)}}var B=d.return;try{b2(d)}catch(Be){ui(d,B,Be)}break;case 5:var ee=d.return;try{b2(d)}catch(Be){ui(d,ee,Be)}}}catch(Be){ui(d,d.return,Be)}if(d===f){Qe=null;break}var pe=d.sibling;if(pe!==null){pe.return=d.return,Qe=pe;break}Qe=d.return}}var $p=0,Xp=1,Jp=2,Yp=3,Kp=4;if(typeof Symbol=="function"&&Symbol.for){var Xf=Symbol.for;$p=Xf("selector.component"),Xp=Xf("selector.has_pseudo_class"),Jp=Xf("selector.role"),Yp=Xf("selector.test_id"),Kp=Xf("selector.text")}function I2(f){var d=ae(f);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(o(364));return d}if(f=he(f),f===null)throw Error(o(362));return f.stateNode.current}function L2(f,d){switch(d.$$typeof){case $p:if(f.type===d.value)return!0;break;case Xp:e:{d=d.value,f=[f,0];for(var E=0;E<f.length;){var S=f[E++],C=f[E++],B=d[C];if(S.tag!==5||!we(S)){for(;B!=null&&L2(S,B);)C++,B=d[C];if(C===d.length){d=!0;break e}else for(S=S.child;S!==null;)f.push(S,C),S=S.sibling}}d=!1}return d;case Jp:if(f.tag===5&&Ge(f.stateNode,d.value))return!0;break;case Kp:if((f.tag===5||f.tag===6)&&(f=ge(f),f!==null&&0<=f.indexOf(d.value)))return!0;break;case Yp:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function B2(f){switch(f.$$typeof){case $p:return"<"+(P(f.value)||"Unknown")+">";case Xp:return":has("+(B2(f)||"")+")";case Jp:return'[role="'+f.value+'"]';case Kp:return'"'+f.value+'"';case Yp:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function FE(f,d){var E=[];f=[f,0];for(var S=0;S<f.length;){var C=f[S++],B=f[S++],ee=d[B];if(C.tag!==5||!we(C)){for(;ee!=null&&L2(C,ee);)B++,ee=d[B];if(B===d.length)E.push(C);else for(C=C.child;C!==null;)f.push(C,B),C=C.sibling}}return E}function D2(f,d){if(!k)throw Error(o(363));f=I2(f),f=FE(f,d),d=[],f=Array.from(f);for(var E=0;E<f.length;){var S=f[E++];if(S.tag===5)we(S)||d.push(S.stateNode);else for(S=S.child;S!==null;)f.push(S),S=S.sibling}return d}var uI=Math.ceil,Zp=a.ReactCurrentDispatcher,N2=a.ReactCurrentOwner,Vn=a.ReactCurrentBatchConfig,Gt=0,Jn=null,Yn=null,vr=0,Mi=0,Bc=Rt(0),er=0,Jf=null,Dc=0,Qp=0,F2=0,Yf=null,li=null,O2=0,k2=1/0;function Nc(){k2=cr()+500}var qp=!1,U2=null,ra=null,e1=!1,ia=null,t1=0,Kf=0,z2=null,n1=-1,r1=0;function Xr(){return Gt&6?cr():n1!==-1?n1:n1=cr()}function sa(f){return f.mode&1?Gt&2&&vr!==0?vr&-vr:$P.transition!==null?(r1===0&&(f=gp,gp<<=1,!(gp&4194240)&&(gp=64),r1=f),r1):(f=en,f!==0?f:ye()):1}function Ki(f,d,E){if(50<Kf)throw Kf=0,z2=null,Error(o(185));var S=i1(f,d);return S===null?null:(Bf(S,d,E),(!(Gt&2)||S!==Jn)&&(S===Jn&&(!(Gt&2)&&(Qp|=d),er===4&&oa(S,vr)),ci(S,E),d===1&&Gt===0&&!(f.mode&1)&&(Nc(),xp&&$s())),S)}function i1(f,d){f.lanes|=d;var E=f.alternate;for(E!==null&&(E.lanes|=d),E=f,f=f.return;f!==null;)f.childLanes|=d,E=f.alternate,E!==null&&(E.childLanes|=d),E=f,f=f.return;return E.tag===3?E.stateNode:null}function ci(f,d){var E=f.callbackNode;OP(f,d);var S=yp(f,f===Jn?vr:0);if(S===0)E!==null&&A5(E),f.callbackNode=null,f.callbackPriority=0;else if(d=S&-S,f.callbackPriority!==d){if(E!=null&&A5(E),d===1)f.tag===0?jP(kE.bind(null,f)):w5(kE.bind(null,f)),oe?I(function(){Gt===0&&$s()}):Jg(Yg,$s),E=null;else{switch(E5(S)){case 1:E=Yg;break;case 4:E=HP;break;case 16:E=Kg;break;case 536870912:E=GP;break;default:E=Kg}E=XE(E,OE.bind(null,f))}f.callbackPriority=d,f.callbackNode=E}}function OE(f,d){if(n1=-1,r1=0,Gt&6)throw Error(o(327));var E=f.callbackNode;if(xl()&&f.callbackNode!==E)return null;var S=yp(f,f===Jn?vr:0);if(S===0)return null;if(S&30||S&f.expiredLanes||d)d=s1(f,S);else{d=S;var C=Gt;Gt|=2;var B=HE();(Jn!==f||vr!==d)&&(Nc(),yl(f,d));do try{hI();break}catch(pe){zE(f,pe)}while(!0);qg(),Zp.current=B,Gt=C,Yn!==null?d=0:(Jn=null,vr=0,d=er)}if(d!==0){if(d===2&&(C=jg(f),C!==0&&(S=C,d=H2(f,C))),d===1)throw E=Jf,yl(f,0),oa(f,S),ci(f,cr()),E;if(d===6)oa(f,S);else{if(C=f.current.alternate,!(S&30)&&!fI(C)&&(d=s1(f,S),d===2&&(B=jg(f),B!==0&&(S=B,d=H2(f,B))),d===1))throw E=Jf,yl(f,0),oa(f,S),ci(f,cr()),E;switch(f.finishedWork=C,f.finishedLanes=S,d){case 0:case 1:throw Error(o(345));case 2:_l(f,li);break;case 3:if(oa(f,S),(S&130023424)===S&&(d=O2+500-cr(),10<d)){if(yp(f,0)!==0)break;if(C=f.suspendedLanes,(C&S)!==S){Xr(),f.pingedLanes|=f.suspendedLanes&C;break}f.timeoutHandle=z(_l.bind(null,f,li),d);break}_l(f,li);break;case 4:if(oa(f,S),(S&4194240)===S)break;for(d=f.eventTimes,C=-1;0<S;){var ee=31-pn(S);B=1<<ee,ee=d[ee],ee>C&&(C=ee),S&=~B}if(S=C,S=cr()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*uI(S/1960))-S,10<S){f.timeoutHandle=z(_l.bind(null,f,li),S);break}_l(f,li);break;case 5:_l(f,li);break;default:throw Error(o(329))}}}return ci(f,cr()),f.callbackNode===E?OE.bind(null,f):null}function H2(f,d){var E=Yf;return f.current.memoizedState.isDehydrated&&(yl(f,d).flags|=256),f=s1(f,d),f!==2&&(d=li,li=E,d!==null&&G2(d)),f}function G2(f){li===null?li=f:li.push.apply(li,f)}function fI(f){for(var d=f;;){if(d.flags&16384){var E=d.updateQueue;if(E!==null&&(E=E.stores,E!==null))for(var S=0;S<E.length;S++){var C=E[S],B=C.getSnapshot;C=C.value;try{if(!js(B(),C))return!1}catch{return!1}}}if(E=d.child,d.subtreeFlags&16384&&E!==null)E.return=d,d=E;else{if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function oa(f,d){for(d&=~F2,d&=~Qp,f.suspendedLanes|=d,f.pingedLanes&=~d,f=f.expirationTimes;0<d;){var E=31-pn(d),S=1<<E;f[E]=-1,d&=~S}}function kE(f){if(Gt&6)throw Error(o(327));xl();var d=yp(f,0);if(!(d&1))return ci(f,cr()),null;var E=s1(f,d);if(f.tag!==0&&E===2){var S=jg(f);S!==0&&(d=S,E=H2(f,S))}if(E===1)throw E=Jf,yl(f,0),oa(f,d),ci(f,cr()),E;if(E===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=d,_l(f,li),ci(f,cr()),null}function UE(f){ia!==null&&ia.tag===0&&!(Gt&6)&&xl();var d=Gt;Gt|=1;var E=Vn.transition,S=en;try{if(Vn.transition=null,en=1,f)return f()}finally{en=S,Vn.transition=E,Gt=d,!(Gt&6)&&$s()}}function V2(){Mi=Bc.current,nt(Bc)}function yl(f,d){f.finishedWork=null,f.finishedLanes=0;var E=f.timeoutHandle;if(E!==be&&(f.timeoutHandle=be,ve(E)),Yn!==null)for(E=Yn.return;E!==null;){var S=E;switch(o2(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Jt();break;case 3:Ic(),nt(Mt),nt(Et),h2();break;case 5:f2(S);break;case 4:Ic();break;case 13:nt(Tn);break;case 19:nt(Tn);break;case 10:e2(S.type._context);break;case 22:case 23:V2()}E=E.return}if(Jn=f,Yn=f=aa(f.current,null),vr=Mi=d,er=0,Jf=null,F2=Qp=Dc=0,li=Yf=null,Xs!==null){for(d=0;d<Xs.length;d++)if(E=Xs[d],S=E.interleaved,S!==null){E.interleaved=null;var C=S.next,B=E.pending;if(B!==null){var ee=B.next;B.next=C,S.next=ee}E.pending=S}Xs=null}return f}function zE(f,d){do{var E=Yn;try{if(qg(),Ip.current=Op,Lp){for(var S=kn.memoizedState;S!==null;){var C=S.queue;C!==null&&(C.pending=null),S=S.next}Lp=!1}if(Lc=0,ur=Mr=kn=null,Uf=!1,zf=0,N2.current=null,E===null||E.return===null){er=1,Jf=d,Yn=null;break}e:{var B=f,ee=E.return,pe=E,Be=d;if(d=vr,pe.flags|=32768,Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var We=Be,ot=pe,It=ot.tag;if(!(ot.mode&1)&&(It===0||It===11||It===15)){var _t=ot.alternate;_t?(ot.updateQueue=_t.updateQueue,ot.memoizedState=_t.memoizedState,ot.lanes=_t.lanes):(ot.updateQueue=null,ot.memoizedState=null)}var dn=aE(ee);if(dn!==null){dn.flags&=-257,lE(dn,ee,pe,B,d),dn.mode&1&&oE(B,We,d),d=dn,Be=We;var ht=d.updateQueue;if(ht===null){var Tr=new Set;Tr.add(Be),d.updateQueue=Tr}else ht.add(Be);break e}else{if(!(d&1)){oE(B,We,d),W2();break e}Be=Error(o(426))}}else if(Sn&&pe.mode&1){var Qi=aE(ee);if(Qi!==null){!(Qi.flags&65536)&&(Qi.flags|=256),lE(Qi,ee,pe,B,d),c2(Be);break e}}B=Be,er!==4&&(er=2),Yf===null?Yf=[B]:Yf.push(B),Be=x2(Be,pe),pe=ee;do{switch(pe.tag){case 3:pe.flags|=65536,d&=-d,pe.lanes|=d;var Se=iE(pe,Be,d);C5(pe,Se);break e;case 1:B=Be;var _e=pe.type,Pe=pe.stateNode;if(!(pe.flags&128)&&(typeof _e.getDerivedStateFromError=="function"||Pe!==null&&typeof Pe.componentDidCatch=="function"&&(ra===null||!ra.has(Pe)))){pe.flags|=65536,d&=-d,pe.lanes|=d;var qe=sE(pe,B,d);C5(pe,qe);break e}}pe=pe.return}while(pe!==null)}VE(E)}catch(dt){d=dt,Yn===E&&E!==null&&(Yn=E=E.return);continue}break}while(!0)}function HE(){var f=Zp.current;return Zp.current=Op,f===null?Op:f}function W2(){(er===0||er===3||er===2)&&(er=4),Jn===null||!(Dc&268435455)&&!(Qp&268435455)||oa(Jn,vr)}function s1(f,d){var E=Gt;Gt|=2;var S=HE();Jn===f&&vr===d||yl(f,d);do try{dI();break}catch(C){zE(f,C)}while(!0);if(qg(),Gt=E,Zp.current=S,Yn!==null)throw Error(o(261));return Jn=null,vr=0,er}function dI(){for(;Yn!==null;)GE(Yn)}function hI(){for(;Yn!==null&&!UP();)GE(Yn)}function GE(f){var d=$E(f.alternate,f,Mi);f.memoizedProps=f.pendingProps,d===null?VE(f):Yn=d,N2.current=null}function VE(f){var d=f;do{var E=d.alternate;if(f=d.return,d.flags&32768){if(E=sI(E,d),E!==null){E.flags&=32767,Yn=E;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{er=6,Yn=null;return}}else if(E=nI(E,d,Mi),E!==null){Yn=E;return}if(d=d.sibling,d!==null){Yn=d;return}Yn=d=f}while(d!==null);er===0&&(er=5)}function _l(f,d){var E=en,S=Vn.transition;try{Vn.transition=null,en=1,pI(f,d,E)}finally{Vn.transition=S,en=E}return null}function pI(f,d,E){do xl();while(ia!==null);if(Gt&6)throw Error(o(327));var S=f.finishedWork,C=f.finishedLanes;if(S===null)return null;if(f.finishedWork=null,f.finishedLanes=0,S===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var B=S.lanes|S.childLanes;if(kP(f,B),f===Jn&&(Yn=Jn=null,vr=0),!(S.subtreeFlags&2064)&&!(S.flags&2064)||e1||(e1=!0,XE(Kg,function(){return xl(),null})),B=(S.flags&15990)!==0,S.subtreeFlags&15990||B){B=Vn.transition,Vn.transition=null;var ee=en;en=1;var pe=Gt;Gt|=4,N2.current=null,aI(f,S),lI(f,S),Q(f.containerInfo),f.current=S,cI(S),zP(),Gt=pe,en=ee,Vn.transition=B}else f.current=S;if(e1&&(e1=!1,ia=f,t1=C),B=f.pendingLanes,B===0&&(ra=null),VP(S.stateNode),ci(f,cr()),d!==null)for(E=f.onRecoverableError,S=0;S<d.length;S++)E(d[S]);if(qp)throw qp=!1,f=U2,U2=null,f;return t1&1&&f.tag!==0&&xl(),B=f.pendingLanes,B&1?f===z2?Kf++:(Kf=0,z2=f):Kf=0,$s(),null}function xl(){if(ia!==null){var f=E5(t1),d=Vn.transition,E=en;try{if(Vn.transition=null,en=16>f?16:f,ia===null)var S=!1;else{if(f=ia,ia=null,t1=0,Gt&6)throw Error(o(331));var C=Gt;for(Gt|=4,Qe=f.current;Qe!==null;){var B=Qe,ee=B.child;if(Qe.flags&16){var pe=B.deletions;if(pe!==null){for(var Be=0;Be<pe.length;Be++){var We=pe[Be];for(Qe=We;Qe!==null;){var ot=Qe;switch(ot.tag){case 0:case 11:case 15:vl(8,ot,B)}var It=ot.child;if(It!==null)It.return=ot,Qe=It;else for(;Qe!==null;){ot=Qe;var _t=ot.sibling,dn=ot.return;if(bE(ot),ot===We){Qe=null;break}if(_t!==null){_t.return=dn,Qe=_t;break}Qe=dn}}}var ht=B.alternate;if(ht!==null){var Tr=ht.child;if(Tr!==null){ht.child=null;do{var Qi=Tr.sibling;Tr.sibling=null,Tr=Qi}while(Tr!==null)}}Qe=B}}if(B.subtreeFlags&2064&&ee!==null)ee.return=B,Qe=ee;else e:for(;Qe!==null;){if(B=Qe,B.flags&2048)switch(B.tag){case 0:case 11:case 15:vl(9,B,B.return)}var Se=B.sibling;if(Se!==null){Se.return=B.return,Qe=Se;break e}Qe=B.return}}var _e=f.current;for(Qe=_e;Qe!==null;){ee=Qe;var Pe=ee.child;if(ee.subtreeFlags&2064&&Pe!==null)Pe.return=ee,Qe=Pe;else e:for(ee=_e;Qe!==null;){if(pe=Qe,pe.flags&2048)try{switch(pe.tag){case 0:case 11:case 15:$f(9,pe)}}catch(dt){ui(pe,pe.return,dt)}if(pe===ee){Qe=null;break e}var qe=pe.sibling;if(qe!==null){qe.return=pe.return,Qe=qe;break e}Qe=pe.return}}if(Gt=C,$s(),Ws&&typeof Ws.onPostCommitFiberRoot=="function")try{Ws.onPostCommitFiberRoot(_p,f)}catch{}S=!0}return S}finally{en=E,Vn.transition=d}}return!1}function WE(f,d,E){d=x2(E,d),d=iE(f,d,1),na(f,d),d=Xr(),f=i1(f,1),f!==null&&(Bf(f,1,d),ci(f,d))}function ui(f,d,E){if(f.tag===3)WE(f,f,E);else for(;d!==null;){if(d.tag===3){WE(d,f,E);break}else if(d.tag===1){var S=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(ra===null||!ra.has(S))){f=x2(E,f),f=sE(d,f,1),na(d,f),f=Xr(),d=i1(d,1),d!==null&&(Bf(d,1,f),ci(d,f));break}}d=d.return}}function mI(f,d,E){var S=f.pingCache;S!==null&&S.delete(d),d=Xr(),f.pingedLanes|=f.suspendedLanes&E,Jn===f&&(vr&E)===E&&(er===4||er===3&&(vr&130023424)===vr&&500>cr()-O2?yl(f,0):F2|=E),ci(f,d)}function jE(f,d){d===0&&(f.mode&1?(d=vp,vp<<=1,!(vp&130023424)&&(vp=4194304)):d=1);var E=Xr();f=i1(f,d),f!==null&&(Bf(f,d,E),ci(f,E))}function gI(f){var d=f.memoizedState,E=0;d!==null&&(E=d.retryLane),jE(f,E)}function vI(f,d){var E=0;switch(f.tag){case 13:var S=f.stateNode,C=f.memoizedState;C!==null&&(E=C.retryLane);break;case 19:S=f.stateNode;break;default:throw Error(o(314))}S!==null&&S.delete(d),jE(f,E)}var $E;$E=function(f,d,E){if(f!==null)if(f.memoizedProps!==d.pendingProps||Mt.current)Si=!0;else{if(!(f.lanes&E)&&!(d.flags&128))return Si=!1,iI(f,d,E);Si=!!(f.flags&131072)}else Si=!1,Sn&&d.flags&1048576&&L5(d,Tp,d.index);switch(d.lanes=0,d.tag){case 2:var S=d.type;f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),f=d.pendingProps;var C=On(d,Et.current);Mc(d,E),C=m2(null,d,S,f,C,E);var B=g2();return d.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,wn(S)?(B=!0,Ft(d)):B=!1,d.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,n2(d),C.updater=Cp,d.stateNode=C,C._reactInternals=d,i2(d,S,f,E),d=w2(null,d,S,!0,B,E)):(d.tag=0,Sn&&B&&s2(d),$r(null,d,C,E),d=d.child),d;case 16:S=d.elementType;e:{switch(f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),f=d.pendingProps,C=S._init,S=C(S._payload),d.type=S,C=d.tag=_I(S),f=_s(S,f),C){case 0:d=A2(null,d,S,f,E);break e;case 1:d=gE(null,d,S,f,E);break e;case 11:d=fE(null,d,S,f,E);break e;case 14:d=dE(null,d,S,_s(S.type,f),E);break e}throw Error(o(306,S,""))}return d;case 0:return S=d.type,C=d.pendingProps,C=d.elementType===S?C:_s(S,C),A2(f,d,S,C,E);case 1:return S=d.type,C=d.pendingProps,C=d.elementType===S?C:_s(S,C),gE(f,d,S,C,E);case 3:e:{if(vE(d),f===null)throw Error(o(387));S=d.pendingProps,B=d.memoizedState,C=B.element,M5(f,d),Mp(d,S,null,E);var ee=d.memoizedState;if(S=ee.element,Ae&&B.isDehydrated)if(B={element:S,isDehydrated:!1,cache:ee.cache,transitions:ee.transitions},d.updateQueue.baseState=B,d.memoizedState=B,d.flags&256){C=Error(o(423)),d=yE(f,d,S,E,C);break e}else if(S!==C){C=Error(o(424)),d=yE(f,d,S,E,C);break e}else for(Ae&&(wi=dl(d.stateNode.containerInfo),Ai=d,Sn=!0,xs=null,Df=!1),E=k5(d,null,S,E),d.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(Tc(),S===C){d=_o(f,d,E);break e}$r(f,d,S,E)}d=d.child}return d;case 5:return U5(d),f===null&&l2(d),S=d.type,C=d.pendingProps,B=f!==null?f.memoizedProps:null,ee=C.children,j(S,C)?ee=null:B!==null&&j(S,B)&&(d.flags|=32),mE(f,d),$r(f,d,ee,E),d.child;case 6:return f===null&&l2(d),null;case 13:return _E(f,d,E);case 4:return u2(d,d.stateNode.containerInfo),S=d.pendingProps,f===null?d.child=Rc(d,null,S,E):$r(f,d,S,E),d.child;case 11:return S=d.type,C=d.pendingProps,C=d.elementType===S?C:_s(S,C),fE(f,d,S,C,E);case 7:return $r(f,d,d.pendingProps,E),d.child;case 8:return $r(f,d,d.pendingProps.children,E),d.child;case 12:return $r(f,d,d.pendingProps.children,E),d.child;case 10:e:{if(S=d.type._context,C=d.pendingProps,B=d.memoizedProps,ee=C.value,S5(d,S,ee),B!==null)if(js(B.value,ee)){if(B.children===C.children&&!Mt.current){d=_o(f,d,E);break e}}else for(B=d.child,B!==null&&(B.return=d);B!==null;){var pe=B.dependencies;if(pe!==null){ee=B.child;for(var Be=pe.firstContext;Be!==null;){if(Be.context===S){if(B.tag===1){Be=mo(-1,E&-E),Be.tag=2;var We=B.updateQueue;if(We!==null){We=We.shared;var ot=We.pending;ot===null?Be.next=Be:(Be.next=ot.next,ot.next=Be),We.pending=Be}}B.lanes|=E,Be=B.alternate,Be!==null&&(Be.lanes|=E),t2(B.return,E,d),pe.lanes|=E;break}Be=Be.next}}else if(B.tag===10)ee=B.type===d.type?null:B.child;else if(B.tag===18){if(ee=B.return,ee===null)throw Error(o(341));ee.lanes|=E,pe=ee.alternate,pe!==null&&(pe.lanes|=E),t2(ee,E,d),ee=B.sibling}else ee=B.child;if(ee!==null)ee.return=B;else for(ee=B;ee!==null;){if(ee===d){ee=null;break}if(B=ee.sibling,B!==null){B.return=ee.return,ee=B;break}ee=ee.return}B=ee}$r(f,d,C.children,E),d=d.child}return d;case 9:return C=d.type,S=d.pendingProps.children,Mc(d,E),C=ji(C),S=S(C),d.flags|=1,$r(f,d,S,E),d.child;case 14:return S=d.type,C=_s(S,d.pendingProps),C=_s(S.type,C),dE(f,d,S,C,E);case 15:return hE(f,d,d.type,d.pendingProps,E);case 17:return S=d.type,C=d.pendingProps,C=d.elementType===S?C:_s(S,C),f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),d.tag=1,wn(S)?(f=!0,Ft(d)):f=!1,Mc(d,E),P5(d,S,C),i2(d,S,C,E),w2(null,d,S,!0,f,E);case 19:return wE(f,d,E);case 22:return pE(f,d,E)}throw Error(o(156,d.tag))};function XE(f,d){return Jg(f,d)}function yI(f,d,E,S){this.tag=f,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zi(f,d,E,S){return new yI(f,d,E,S)}function j2(f){return f=f.prototype,!(!f||!f.isReactComponent)}function _I(f){if(typeof f=="function")return j2(f)?1:0;if(f!=null){if(f=f.$$typeof,f===x)return 11;if(f===A)return 14}return 2}function aa(f,d){var E=f.alternate;return E===null?(E=Zi(f.tag,d,f.key,f.mode),E.elementType=f.elementType,E.type=f.type,E.stateNode=f.stateNode,E.alternate=f,f.alternate=E):(E.pendingProps=d,E.type=f.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=f.flags&14680064,E.childLanes=f.childLanes,E.lanes=f.lanes,E.child=f.child,E.memoizedProps=f.memoizedProps,E.memoizedState=f.memoizedState,E.updateQueue=f.updateQueue,d=f.dependencies,E.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},E.sibling=f.sibling,E.index=f.index,E.ref=f.ref,E}function o1(f,d,E,S,C,B){var ee=2;if(S=f,typeof f=="function")j2(f)&&(ee=1);else if(typeof f=="string")ee=5;else e:switch(f){case u:return El(E.children,C,B,d);case h:ee=8,C|=8;break;case p:return f=Zi(12,E,d,C|2),f.elementType=p,f.lanes=B,f;case y:return f=Zi(13,E,d,C),f.elementType=y,f.lanes=B,f;case g:return f=Zi(19,E,d,C),f.elementType=g,f.lanes=B,f;case M:return a1(E,C,B,d);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case m:ee=10;break e;case v:ee=9;break e;case x:ee=11;break e;case A:ee=14;break e;case _:ee=16,S=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return d=Zi(ee,E,d,C),d.elementType=f,d.type=S,d.lanes=B,d}function El(f,d,E,S){return f=Zi(7,f,S,d),f.lanes=E,f}function a1(f,d,E,S){return f=Zi(22,f,S,d),f.elementType=M,f.lanes=E,f.stateNode={},f}function $2(f,d,E){return f=Zi(6,f,null,d),f.lanes=E,f}function X2(f,d,E){return d=Zi(4,f.children!==null?f.children:[],f.key,d),d.lanes=E,d.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},d}function xI(f,d,E,S,C){this.tag=d,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=be,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$g(0),this.expirationTimes=$g(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$g(0),this.identifierPrefix=S,this.onRecoverableError=C,Ae&&(this.mutableSourceEagerHydrationData=null)}function JE(f,d,E,S,C,B,ee,pe,Be){return f=new xI(f,d,E,pe,Be),d===1?(d=1,B===!0&&(d|=8)):d=0,B=Zi(3,null,null,d),f.current=B,B.stateNode=f,B.memoizedState={element:S,isDehydrated:E,cache:null,transitions:null},n2(B),f}function YE(f){if(!f)return Ht;f=f._reactInternals;e:{if(V(f)!==f||f.tag!==1)throw Error(o(170));var d=f;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(wn(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(o(171))}if(f.tag===1){var E=f.type;if(wn(E))return bn(f,E,d)}return d}function KE(f){var d=f._reactInternals;if(d===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=G(d),f===null?null:f.stateNode}function ZE(f,d){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var E=f.retryLane;f.retryLane=E!==0&&E<d?E:d}}function J2(f,d){ZE(f,d),(f=f.alternate)&&ZE(f,d)}function EI(f){return f=G(f),f===null?null:f.stateNode}function AI(){return null}return t.attemptContinuousHydration=function(f){if(f.tag===13){var d=Xr();Ki(f,134217728,d),J2(f,134217728)}},t.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var d=Xr(),E=sa(f);Ki(f,E,d),J2(f,E)}},t.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var d=f.stateNode;if(d.current.memoizedState.isDehydrated){var E=Lf(d.pendingLanes);E!==0&&(Xg(d,E|1),ci(d,cr()),!(Gt&6)&&(Nc(),$s()))}break;case 13:var S=Xr();UE(function(){return Ki(f,1,S)}),J2(f,1)}},t.batchedUpdates=function(f,d){var E=Gt;Gt|=1;try{return f(d)}finally{Gt=E,Gt===0&&(Nc(),xp&&$s())}},t.createComponentSelector=function(f){return{$$typeof:$p,value:f}},t.createContainer=function(f,d,E,S,C,B,ee){return JE(f,d,!1,null,E,S,C,B,ee)},t.createHasPseudoClassSelector=function(f){return{$$typeof:Xp,value:f}},t.createHydrationContainer=function(f,d,E,S,C,B,ee,pe,Be){return f=JE(E,S,!0,f,C,B,ee,pe,Be),f.context=YE(null),E=f.current,S=Xr(),C=sa(E),B=mo(S,C),B.callback=d??null,na(E,B),f.current.lanes=C,Bf(f,C,S),ci(f,S),f},t.createPortal=function(f,d,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:f,containerInfo:d,implementation:E}},t.createRoleSelector=function(f){return{$$typeof:Jp,value:f}},t.createTestNameSelector=function(f){return{$$typeof:Yp,value:f}},t.createTextSelector=function(f){return{$$typeof:Kp,value:f}},t.deferredUpdates=function(f){var d=en,E=Vn.transition;try{return Vn.transition=null,en=16,f()}finally{en=d,Vn.transition=E}},t.discreteUpdates=function(f,d,E,S,C){var B=en,ee=Vn.transition;try{return Vn.transition=null,en=1,f(d,E,S,C)}finally{en=B,Vn.transition=ee,Gt===0&&Nc()}},t.findAllNodes=D2,t.findBoundingRects=function(f,d){if(!k)throw Error(o(363));d=D2(f,d),f=[];for(var E=0;E<d.length;E++)f.push(Ne(d[E]));for(d=f.length-1;0<d;d--){E=f[d];for(var S=E.x,C=S+E.width,B=E.y,ee=B+E.height,pe=d-1;0<=pe;pe--)if(d!==pe){var Be=f[pe],We=Be.x,ot=We+Be.width,It=Be.y,_t=It+Be.height;if(S>=We&&B>=It&&C<=ot&&ee<=_t){f.splice(d,1);break}else if(S!==We||E.width!==Be.width||_t<B||It>ee){if(!(B!==It||E.height!==Be.height||ot<S||We>C)){We>S&&(Be.width+=We-S,Be.x=S),ot<C&&(Be.width=C-We),f.splice(d,1);break}}else{It>B&&(Be.height+=It-B,Be.y=B),_t<ee&&(Be.height=ee-It),f.splice(d,1);break}}}return f},t.findHostInstance=KE,t.findHostInstanceWithNoPortals=function(f){return f=L(f),f=f!==null?W(f):null,f===null?null:f.stateNode},t.findHostInstanceWithWarning=function(f){return KE(f)},t.flushControlled=function(f){var d=Gt;Gt|=1;var E=Vn.transition,S=en;try{Vn.transition=null,en=1,f()}finally{en=S,Vn.transition=E,Gt=d,Gt===0&&(Nc(),$s())}},t.flushPassiveEffects=xl,t.flushSync=UE,t.focusWithin=function(f,d){if(!k)throw Error(o(363));for(f=I2(f),d=FE(f,d),d=Array.from(d),f=0;f<d.length;){var E=d[f++];if(!we(E)){if(E.tag===5&&Ue(E.stateNode))return!0;for(E=E.child;E!==null;)d.push(E),E=E.sibling}}return!1},t.getCurrentUpdatePriority=function(){return en},t.getFindAllNodesFailureDescription=function(f,d){if(!k)throw Error(o(363));var E=0,S=[];f=[I2(f),0];for(var C=0;C<f.length;){var B=f[C++],ee=f[C++],pe=d[ee];if((B.tag!==5||!we(B))&&(L2(B,pe)&&(S.push(B2(pe)),ee++,ee>E&&(E=ee)),ee<d.length))for(B=B.child;B!==null;)f.push(B,ee),B=B.sibling}if(E<d.length){for(f=[];E<d.length;E++)f.push(B2(d[E]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},t.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return re(f.child.stateNode);default:return f.child.stateNode}},t.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:EI,findFiberByHostInstance:f.findFiberByHostInstance||AI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)f=!0;else{try{_p=d.inject(f),Ws=d}catch{}f=!!d.checkDCE}}return f},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(f,d,E,S){if(!k)throw Error(o(363));f=D2(f,d);var C=Je(f,E,S).disconnect;return{disconnect:function(){C()}}},t.registerMutableSourceForHydration=function(f,d){var E=d._getVersion;E=E(d._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[d,E]:f.mutableSourceEagerHydrationData.push(d,E)},t.runWithPriority=function(f,d){var E=en;try{return en=f,d()}finally{en=E}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(f,d,E,S){var C=d.current,B=Xr(),ee=sa(C);return E=YE(E),d.context===null?d.context=E:d.pendingContext=E,d=mo(B,ee),d.payload={element:f},S=S===void 0?null:S,S!==null&&(d.callback=S),na(C,d),f=Ki(C,ee,B),f!==null&&Sp(f,C,ee),ee},t};Xb.exports=NH;var FH=Xb.exports;const OH=rl(FH);var Jb={exports:{}},Yb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,Y){var Q=F.length;F.push(Y);e:for(;0<Q;){var fe=Q-1>>>1,xe=F[fe];if(0<i(xe,Y))F[fe]=Y,F[Q]=xe,Q=fe;else break e}}function t(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var Y=F[0],Q=F.pop();if(Q!==Y){F[0]=Q;e:for(var fe=0,xe=F.length,Oe=xe>>>1;fe<Oe;){var X=2*(fe+1)-1,j=F[X],H=X+1,z=F[H];if(0>i(j,Q))H<xe&&0>i(z,j)?(F[fe]=z,F[H]=Q,fe=H):(F[fe]=j,F[X]=Q,fe=X);else if(H<xe&&0>i(z,Q))F[fe]=z,F[H]=Q,fe=H;else break e}}return Y}function i(F,Y){var Q=F.sortIndex-Y.sortIndex;return Q!==0?Q:F.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(F){for(var Y=t(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=F)r(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=t(c)}}function M(F){if(x=!1,_(F),!v)if(t(l)!==null)v=!0,re(R);else{var Y=t(c);Y!==null&&ue(M,Y.startTime-F)}}function R(F,Y){v=!1,x&&(x=!1,g(D),D=-1),m=!0;var Q=p;try{for(_(Y),h=t(l);h!==null&&(!(h.expirationTime>Y)||F&&!L());){var fe=h.callback;if(typeof fe=="function"){h.callback=null,p=h.priorityLevel;var xe=fe(h.expirationTime<=Y);Y=n.unstable_now(),typeof xe=="function"?h.callback=xe:h===t(l)&&r(l),_(Y)}else r(l);h=t(l)}if(h!==null)var Oe=!0;else{var X=t(c);X!==null&&ue(M,X.startTime-Y),Oe=!1}return Oe}finally{h=null,p=Q,m=!1}}var b=!1,P=null,D=-1,V=5,T=-1;function L(){return!(n.unstable_now()-T<V)}function G(){if(P!==null){var F=n.unstable_now();T=F;var Y=!0;try{Y=P(!0,F)}finally{Y?se():(b=!1,P=null)}}else b=!1}var se;if(typeof A=="function")se=function(){A(G)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,te=W.port2;W.port1.onmessage=G,se=function(){te.postMessage(null)}}else se=function(){y(G,0)};function re(F){P=F,b||(b=!0,se())}function ue(F,Y){D=y(function(){F(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,re(R))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var Q=p;p=Y;try{return F()}finally{p=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,Y){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Q=p;p=F;try{return Y()}finally{p=Q}},n.unstable_scheduleCallback=function(F,Y,Q){var fe=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?fe+Q:fe):Q=fe,F){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=Q+xe,F={id:u++,callback:Y,priorityLevel:F,startTime:Q,expirationTime:xe,sortIndex:-1},Q>fe?(F.sortIndex=Q,e(c,F),t(l)===null&&F===t(c)&&(x?(g(D),D=-1):x=!0,ue(M,Q-fe))):(F.sortIndex=xe,e(l,F),v||m||(v=!0,re(R))),F},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(F){var Y=p;return function(){var Q=p;p=Y;try{return F.apply(this,arguments)}finally{p=Q}}}})(Yb);Jb.exports=Yb;var HS=Jb.exports;const kH=n=>typeof n=="object"&&typeof n.then=="function",Jl=[];function Kb(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function Zb(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of Jl)if(Kb(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Jl.indexOf(i);s!==-1&&Jl.splice(s,1)},promise:(kH(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Jl.push(i),!t)throw i.promise}const v_=(n,e,t)=>Zb(n,e,!1,t),UH=(n,e,t)=>void Zb(n,e,!0,t),zH=n=>{if(n===void 0||n.length===0)Jl.splice(0,Jl.length);else{const e=Jl.find(t=>Kb(n,t.keys,t.equal));e&&e.remove()}},G4={},Qb=n=>void Object.assign(G4,n);function HH(n,e){function t(u,{args:h=[],attach:p,...m},v){let x=`${u[0].toUpperCase()}${u.slice(1)}`,y;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;y=uu(g,{type:u,root:v,attach:p,primitive:!0})}else{const g=G4[x];if(!g)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");y=uu(new g(...h),{type:u,root:v,attach:p,memoizedProps:{args:h}})}return y.__r3f.attach===void 0&&(y instanceof Pt?y.__r3f.attach="geometry":y instanceof Qn&&(y.__r3f.attach="material")),x!=="inject"&&ly(y,m),y}function r(u,h){let p=!1;if(h){var m,v;(m=h.__r3f)!=null&&m.attach?ay(u,h,h.__r3f.attach):h.isObject3D&&u.isObject3D&&(u.add(h),p=!0),p||(v=u.__r3f)==null||v.objects.push(h),h.__r3f||uu(h,{}),h.__r3f.parent=u,__(h),fu(h)}}function i(u,h,p){let m=!1;if(h){var v,x;if((v=h.__r3f)!=null&&v.attach)ay(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){h.parent=u,h.dispatchEvent({type:"added"});const y=u.children.filter(A=>A!==h),g=y.indexOf(p);u.children=[...y.slice(0,g),h,...y.slice(g)],m=!0}m||(x=u.__r3f)==null||x.objects.push(h),h.__r3f||uu(h,{}),h.__r3f.parent=u,__(h),fu(h)}}function s(u,h,p=!1){u&&[...u].forEach(m=>o(h,m,p))}function o(u,h,p){if(h){var m,v,x;if(h.__r3f&&(h.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(M=>M!==h)),(v=h.__r3f)!=null&&v.attach)$S(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){var y;u.remove(h),(y=h.__r3f)!=null&&y.root&&YH(K0(h),h)}const A=(x=h.__r3f)==null?void 0:x.primitive,_=!A&&(p===void 0?h.dispose!==null:p);if(!A){var g;s((g=h.__r3f)==null?void 0:g.objects,h,_),s(h.children,h,_)}if(delete h.__r3f,_&&h.dispose&&h.type!=="Scene"){const M=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?HS.unstable_scheduleCallback(HS.unstable_IdlePriority,M):M()}fu(u)}}function a(u,h,p,m){var v;const x=(v=u.__r3f)==null?void 0:v.parent;if(!x)return;const y=t(h,p,u.__r3f.root);if(u.children){for(const g of u.children)g.__r3f&&r(y,g);u.children=u.children.filter(g=>!g.__r3f)}u.__r3f.objects.forEach(g=>r(y,g)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(x,u),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(x,y),y.raycast&&y.__r3f.eventCount&&K0(y).getState().internal.interaction.push(y),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=y,g.ref&&(typeof g.ref=="function"?g.ref(y):g.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:OH({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,h)=>{if(!h)return;const p=u.getState().scene;p.__r3f&&(p.__r3f.root=u,r(p,h))},removeChildFromContainer:(u,h)=>{h&&o(u.getState().scene,h)},insertInContainerBefore:(u,h,p)=>{if(!h||!p)return;const m=u.getState().scene;m.__r3f&&i(m,h,p)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var h;return!!((h=u==null?void 0:u.__r3f)!=null?h:{}).handlers},prepareUpdate(u,h,p,m){var v;if(((v=u==null?void 0:u.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:y=[],children:g,...A}=m,{args:_=[],children:M,...R}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((P,D)=>P!==_[D]))return[!0];const b=sT(u,A,R,!0);return b.changes.length?[!1,b]:null}},commitUpdate(u,[h,p],m,v,x,y){h?a(u,m,x,y):ly(u,p)},commitMount(u,h,p,m){var v;const x=(v=u.__r3f)!=null?v:{};u.raycast&&x.handlers&&x.eventCount&&K0(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>uu(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var h;const{attach:p,parent:m}=(h=u.__r3f)!=null?h:{};p&&m&&$S(m,u,p),u.isObject3D&&(u.visible=!1),fu(u)},unhideInstance(u,h){var p;const{attach:m,parent:v}=(p=u.__r3f)!=null?p:{};m&&v&&ay(v,u,m),(u.isObject3D&&h.visible==null||h.visible)&&(u.visible=!0),fu(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Tu.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&xn.fun(performance.now)?performance.now:xn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:xn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:xn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:ly}}var GS,VS;const oy=n=>"colorSpace"in n||"outputColorSpace"in n,qb=()=>{var n;return(n=G4.ColorManagement)!=null?n:null},eT=n=>n&&n.isOrthographicCamera,GH=n=>n&&n.hasOwnProperty("current"),op=typeof window<"u"&&((GS=window.document)!=null&&GS.createElement||((VS=window.navigator)==null?void 0:VS.product)==="ReactNative")?w.useLayoutEffect:w.useEffect;function tT(n){const e=w.useRef(n);return op(()=>void(e.current=n),[n]),e}function VH({set:n}){return op(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class nT extends w.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}nT.getDerivedStateFromError=()=>({error:!0});const rT="__default",WS=new Map,WH=n=>n&&!!n.memoized&&!!n.changes;function iT(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const gd=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function K0(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const xn={obj:n=>n===Object(n)&&!xn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(xn.str(n)||xn.num(n))return n===e;const s=xn.obj(n);if(s&&r==="reference")return n===e;const o=xn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!xn.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(xn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function jH(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function $H(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function uu(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function y_(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const jS=/-\d+$/;function ay(n,e,t){if(xn.str(t)){if(jS.test(t)){const s=t.replace(jS,""),{target:o,key:a}=y_(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=y_(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function $S(n,e,t){var r,i;if(xn.str(t)){const{target:s,key:o}=y_(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function sT(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const h=(u=n==null?void 0:n.__r3f)!=null?u:{},p=Object.entries(i),m=[];if(c){const x=Object.keys(l);for(let y=0;y<x.length;y++)i.hasOwnProperty(x[y])||p.unshift([x[y],rT+"remove"])}p.forEach(([x,y])=>{var g;if((g=n.__r3f)!=null&&g.primitive&&x==="object"||xn.equ(y,l[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return m.push([x,y,!0,[]]);let A=[];x.includes("-")&&(A=x.split("-")),m.push([x,y,!1,A]);for(const _ in i){const M=i[_];_.startsWith(`${x}-`)&&m.push([_,M,!1,_.split("-")])}});const v={...i};return h.memoizedProps&&h.memoizedProps.args&&(v.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(v.attach=h.memoizedProps.attach),{memoized:v,changes:m}}const XH=typeof process<"u"&&!1;function ly(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=WH(e)?e:sT(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[m,v,x,y]=c[p];if(oy(n)){const M="srgb",R="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?M:R):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?M:R)}let g=n,A=g[m];if(y.length&&(A=y.reduce((_,M)=>_[M],n),!(A&&A.set))){const[_,...M]=y.reverse();g=M.reverse().reduce((R,b)=>R[b],n),m=_}if(v===rT+"remove")if(g.constructor){let _=WS.get(g.constructor);_||(_=new g.constructor,WS.set(g.constructor,_)),v=_[m]}else v=0;if(x)v?s.handlers[m]=v:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(A&&A.set&&(A.copy||A instanceof ec)){if(Array.isArray(v))A.fromArray?A.fromArray(v):A.set(...v);else if(A.copy&&v&&v.constructor&&(XH?A.constructor.name===v.constructor.name:A.constructor===v.constructor))A.copy(v);else if(v!==void 0){const _=A instanceof Xe;!_&&A.setScalar?A.setScalar(v):A instanceof ec&&v instanceof ec?A.mask=v.mask:A.set(v),!qb()&&!a.linear&&_&&A.convertSRGBToLinear()}}else if(g[m]=v,g[m]instanceof yn&&g[m].format===Fr&&g[m].type===oo){const _=g[m];oy(_)&&oy(a.gl)?_.colorSpace=a.gl.outputColorSpace:_.encoding=a.gl.outputEncoding}fu(n)}if(s.parent&&n.raycast&&u!==s.eventCount){const p=K0(n).getState().internal,m=p.interaction.indexOf(n);m>-1&&p.interaction.splice(m,1),s.eventCount&&p.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=n.__r3f)!=null&&i.parent&&__(n),n}function fu(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function __(n){n.onUpdate==null||n.onUpdate(n)}function oT(n,e){n.manual||(eT(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function g0(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function JH(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Tu.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Tu.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Tu.ContinuousEventPriority;default:return Tu.DefaultEventPriority}}function aT(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function YH(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{aT(t.capturedMap,e,r,i)})}function KH(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+h*h))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+u]}))}function r(l,c){const u=n.getState(),h=new Set,p=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let g=0;g<m.length;g++){const A=gd(m[g]);A&&(A.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function v(g){const A=gd(g);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var _;A.events.compute==null||A.events.compute(l,A,(_=A.previousRoot)==null?void 0:_.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(g,!0):[]}let x=m.flatMap(v).sort((g,A)=>{const _=gd(g.object),M=gd(A.object);return!_||!M?g.distance-A.distance:M.events.priority-_.events.priority||g.distance-A.distance}).filter(g=>{const A=g0(g);return h.has(A)?!1:(h.add(A),!0)});u.events.filter&&(x=u.events.filter(x,u));for(const g of x){let A=g.object;for(;A;){var y;(y=A.__r3f)!=null&&y.eventCount&&p.push({...g,eventObject:A}),A=A.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let g of u.internal.capturedMap.get(l.pointerId).values())h.has(g0(g.intersection))||p.push(g.intersection);return p}function i(l,c,u,h){const p=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const x=gd(v.object)||p,{raycaster:y,pointer:g,camera:A,internal:_}=x,M=new Z(g.x,g.y,0).unproject(A),R=T=>{var L,G;return(L=(G=_.capturedMap.get(T))==null?void 0:G.has(v.eventObject))!=null?L:!1},b=T=>{const L={intersection:v,target:c.target};_.capturedMap.has(T)?_.capturedMap.get(T).set(v.eventObject,L):_.capturedMap.set(T,new Map([[v.eventObject,L]])),c.target.setPointerCapture(T)},P=T=>{const L=_.capturedMap.get(T);L&&aT(_.capturedMap,v.eventObject,L,T)};let D={};for(let T in c){let L=c[T];typeof L!="function"&&(D[T]=L)}let V={...v,...D,pointer:g,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:M,ray:y.ray,camera:A,stopPropagation(){const T="pointerId"in c&&_.capturedMap.get(c.pointerId);if((!T||T.has(v.eventObject))&&(V.stopped=m.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(L=>L.eventObject===v.eventObject))){const L=l.slice(0,l.indexOf(v));s([...L,v])}},target:{hasPointerCapture:R,setPointerCapture:b,releasePointerCapture:P},currentTarget:{hasPointerCapture:R,setPointerCapture:b,releasePointerCapture:P},nativeEvent:c};if(h(V),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(h=>h.object===u.object&&h.index===u.index&&h.instanceId===u.instanceId)){const p=u.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(g0(u)),p!=null&&p.eventCount){const v={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,c){for(let u=0;u<c.length;u++){const h=c[u].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=u;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(u,m?t:void 0),g=v?e(u):0;l==="onPointerDown"&&(p.initialClick=[u.offsetX,u.offsetY],p.initialHits=y.map(_=>_.eventObject)),v&&!y.length&&g<=2&&(o(u,p.interaction),h&&h(u)),m&&s(y);function A(_){const M=_.eventObject,R=M.__r3f,b=R==null?void 0:R.handlers;if(R!=null&&R.eventCount)if(m){if(b.onPointerOver||b.onPointerEnter||b.onPointerOut||b.onPointerLeave){const P=g0(_),D=p.hovered.get(P);D?D.stopped&&_.stopPropagation():(p.hovered.set(P,_),b.onPointerOver==null||b.onPointerOver(_),b.onPointerEnter==null||b.onPointerEnter(_))}b.onPointerMove==null||b.onPointerMove(_)}else{const P=b[l];P?(!v||p.initialHits.includes(M))&&(o(u,p.interaction.filter(D=>!p.initialHits.includes(D))),P(_)):v&&p.initialHits.includes(M)&&o(u,p.interaction.filter(D=>!p.initialHits.includes(D)))}}i(y,u,g,A)}}return{handlePointer:a}}const ZH=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],lT=n=>!!(n!=null&&n.render),Bh=w.createContext(null),QH=(n,e)=>{const t=H4((a,l)=>{const c=new Z,u=new Z,h=new Z;function p(g=l().camera,A=u,_=l().size){const{width:M,height:R,top:b,left:P}=_,D=M/R;A instanceof Z?h.copy(A):h.set(...A);const V=g.getWorldPosition(c).distanceTo(h);if(eT(g))return{width:M/g.zoom,height:R/g.zoom,top:b,left:P,factor:1,distance:V,aspect:D};{const T=g.fov*Math.PI/180,L=2*Math.tan(T/2)*V,G=L*(M/R);return{width:G,height:L,top:b,left:P,factor:M/G,distance:V,aspect:D}}}let m;const v=g=>a(A=>({performance:{...A.performance,current:g}})),x=new Ce;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,A)=>e(g,A,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new F4,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(A=>({...A,events:{...A.events,...g}})),setSize:(g,A,_,M,R)=>{const b=l().camera,P={width:g,height:A,top:M||0,left:R||0,updateStyle:_};a(D=>({size:P,viewport:{...D.viewport,...p(b,u,P)}}))},setDpr:g=>a(A=>{const _=iT(g);return{viewport:{...A.viewport,dpr:_,initialDpr:A.viewport.initialDpr||_}}}),setFrameloop:(g="always")=>{const A=l().clock;A.stop(),A.elapsedTime=0,g!=="never"&&(A.start(),A.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:w.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,A,_)=>{const M=l().internal;return M.priority=M.priority+(A>0?1:0),M.subscribers.push({ref:g,priority:A,store:_}),M.subscribers=M.subscribers.sort((R,b)=>R.priority-b.priority),()=>{const R=l().internal;R!=null&&R.subscribers&&(R.priority=R.priority-(A>0?1:0),R.subscribers=R.subscribers.filter(b=>b.ref!==g))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:h}=t.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var p;i=l,s=c.dpr,oT(a,l),u.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};function V4(n,e){const t={callback:n};return e.add(t),()=>void e.delete(t)}let v0,cT=new Set,uT=new Set,fT=new Set;const qH=n=>V4(n,cT),eG=n=>V4(n,uT),tG=n=>V4(n,fT);function cy(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function vd(n,e){switch(n){case"before":return cy(cT,e);case"after":return cy(uT,e);case"tail":return cy(fT,e)}}let uy,fy;function dy(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),uy=e.internal.subscribers,v0=0;v0<uy.length;v0++)fy=uy[v0],fy.ref.current(fy.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function nG(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,vd("before",l);for(const u of n.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=dy(l,i))}if(vd("after",l),t===0)return vd("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return n.forEach(h=>o(h.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,h){if(c&&vd("before",l),u)dy(l,u,h);else for(const p of n.values())dy(l,p.store.getState());c&&vd("after",l)}return{loop:s,invalidate:o,advance:a}}function W4(){const n=w.useContext(Bh);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Ar(n=t=>t,e){return W4()(n,e)}function Gi(n,e=0){const t=W4(),r=t.getState().internal.subscribe,i=tT(n);return op(()=>r(i,e,t),[e,r,t]),null}const XS=new WeakMap;function dT(n,e){return function(t,...r){let i=XS.get(t);return i||(i=new t,XS.set(t,i)),n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,jH(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`)))))).finally(()=>i.dispose==null?void 0:i.dispose())}}function Qo(n,e,t,r){const i=Array.isArray(e)?e:[e],s=v_(dT(t,r),[n,...i],{equal:xn.equ});return Array.isArray(e)?s:s[0]}Qo.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return UH(dT(t),[n,...r])};Qo.clear=function(n,e){const t=Array.isArray(e)?e:[e];return zH([n,...t])};const of=new Map,{invalidate:JS,advance:YS}=nG(of),{reconciler:Dh,applyProps:kl}=HH(of,JH),iu={objects:"shallow",strict:!1},rG=(n,e)=>{const t=typeof n=="function"?n(e):n;return lT(t)?t:new m4({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function iG(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=t}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:i,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function sG(n){const e=of.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||QH(JS,YS),o=t||Dh.createContainer(s,Tu.ConcurrentRoot,null,!1,null,"",i,null);e||of.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:h,size:p,scene:m,events:v,onCreated:x,shadows:y=!1,linear:g=!1,flat:A=!1,legacy:_=!1,orthographic:M=!1,frameloop:R="always",dpr:b=[1,2],performance:P,raycaster:D,camera:V,onPointerMissed:T}=u,L=s.getState(),G=L.gl;L.gl||L.set({gl:G=rG(h,n)});let se=L.raycaster;se||L.set({raycaster:se=new z4});const{params:W,...te}=D||{};if(xn.equ(te,se,iu)||kl(se,{...te}),xn.equ(W,se.params,iu)||kl(se,{params:{...se.params,...W}}),!L.camera||L.camera===c&&!xn.equ(c,V,iu)){c=V;const xe=V instanceof Yh,Oe=xe?V:M?new _f(0,0,0,0,.1,1e3):new nr(75,0,.1,1e3);xe||(Oe.position.z=5,V&&kl(Oe,V),!L.camera&&!(V!=null&&V.rotation)&&Oe.lookAt(0,0,0)),L.set({camera:Oe}),se.camera=Oe}if(!L.scene){let xe;m instanceof Ka?xe=m:(xe=new Ka,m&&kl(xe,m)),L.set({scene:uu(xe)})}if(!L.xr){var re;const xe=(j,H)=>{const z=s.getState();z.frameloop!=="never"&&YS(j,!0,z,H)},Oe=()=>{const j=s.getState();j.gl.xr.enabled=j.gl.xr.isPresenting,j.gl.xr.setAnimationLoop(j.gl.xr.isPresenting?xe:null),j.gl.xr.isPresenting||JS(j)},X={connect(){const j=s.getState().gl;j.xr.addEventListener("sessionstart",Oe),j.xr.addEventListener("sessionend",Oe)},disconnect(){const j=s.getState().gl;j.xr.removeEventListener("sessionstart",Oe),j.xr.removeEventListener("sessionend",Oe)}};typeof((re=G.xr)==null?void 0:re.addEventListener)=="function"&&X.connect(),L.set({xr:X})}if(G.shadowMap){const xe=G.shadowMap.enabled,Oe=G.shadowMap.type;if(G.shadowMap.enabled=!!y,xn.boo(y))G.shadowMap.type=$d;else if(xn.str(y)){var ue;const X={basic:H7,percentage:cg,soft:$d,variance:Ts};G.shadowMap.type=(ue=X[y])!=null?ue:$d}else xn.obj(y)&&Object.assign(G.shadowMap,y);(xe!==G.shadowMap.enabled||Oe!==G.shadowMap.type)&&(G.shadowMap.needsUpdate=!0)}const F=qb();F&&("enabled"in F?F.enabled=!_:"legacyMode"in F&&(F.legacyMode=_)),kl(G,{outputEncoding:g?3e3:3001,toneMapping:A?so:Xx}),L.legacy!==_&&L.set(()=>({legacy:_})),L.linear!==g&&L.set(()=>({linear:g})),L.flat!==A&&L.set(()=>({flat:A})),h&&!xn.fun(h)&&!lT(h)&&!xn.equ(h,G,iu)&&kl(G,h),v&&!L.events.handlers&&L.set({events:v(s)});const fe=iG(n,p);return xn.equ(fe,L.size,iu)||L.setSize(fe.width,fe.height,fe.updateStyle,fe.top,fe.left),b&&L.viewport.dpr!==iT(b)&&L.setDpr(b),L.frameloop!==R&&L.setFrameloop(R),L.onPointerMissed||L.set({onPointerMissed:T}),P&&!xn.equ(P,L.performance,iu)&&L.set(xe=>({performance:{...xe.performance,...P}})),a=x,l=!0,this},render(u){return l||this.configure(),Dh.updateContainer(w.createElement(oG,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){hT(n)}}}function oG({store:n,children:e,onCreated:t,rootElement:r}){return op(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),w.createElement(Bh.Provider,{value:n},e)}function hT(n,e){const t=of.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),Dh.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),$H(i),of.delete(n),e&&e(n)}catch{}},500)})}}function aG(n,e,t){return w.createElement(lG,{key:e.uuid,children:n,container:e,state:t})}function lG({state:n={},children:e,container:t}){const{events:r,size:i,...s}=n,o=W4(),[a]=w.useState(()=>new z4),[l]=w.useState(()=>new Ce),c=w.useCallback((h,p)=>{const m={...h};Object.keys(h).forEach(x=>{(ZH.includes(x)||h[x]!==p[x]&&p[x])&&delete m[x]});let v;if(p&&i){const x=p.camera;v=h.viewport.getCurrentViewport(x,new Z,i),x!==h.camera&&oT(x,i)}return{...m,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...h.events,...p==null?void 0:p.events,...r},size:{...h.size,...i},viewport:{...h.viewport,...v},...s}},[n]),[u]=w.useState(()=>{const h=o.getState();return H4((m,v)=>({...h,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...h.events,...r},size:{...h.size,...i},...s,set:m,get:v,setEvents:x=>m(y=>({...y,events:{...y.events,...x}}))}))});return w.useEffect(()=>{const h=o.subscribe(p=>u.setState(m=>c(p,m)));return()=>{h(),u.destroy()}},[]),w.useEffect(()=>{u.setState(h=>c(o.getState(),h))},[c]),w.createElement(w.Fragment,null,Dh.createPortal(w.createElement(Bh.Provider,{value:u},e),u,null))}Dh.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:w.version});function hn(){return hn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},hn.apply(this,arguments)}function x_(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}x_.debounce=x_;var cG=x_;const KS=rl(cG);function uG(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=w.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=w.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,h=w.useRef(!1);w.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,m,v]=w.useMemo(()=>{const A=()=>{if(!l.current.element)return;const{left:_,top:M,width:R,height:b,bottom:P,right:D,x:V,y:T}=l.current.element.getBoundingClientRect(),L={left:_,top:M,width:R,height:b,bottom:P,right:D,x:V,y:T};l.current.element instanceof HTMLElement&&i&&(L.height=l.current.element.offsetHeight,L.width=l.current.element.offsetWidth),Object.freeze(L),h.current&&!pG(l.current.lastBounds,L)&&a(l.current.lastBounds=L)};return[A,u?KS(A,u):A,c?KS(A,c):A]},[a,i,c,u]);function x(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(A=>A.addEventListener("scroll",v,{capture:!0,passive:!0})))}const g=A=>{!A||A===l.current.element||(x(),l.current.element=A,l.current.scrollContainers=pT(A),y())};return dG(v,!!t),fG(m),w.useEffect(()=>{x(),y()},[t,v,m]),w.useEffect(()=>x,[]),[g,o,p]}function fG(n){w.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function dG(n,e){w.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function pT(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...pT(n.parentElement)]}const hG=["x","y","top","bottom","left","right","width","height"],pG=(n,e)=>hG.every(t=>n[t]===e[t]);var mG=Object.defineProperty,gG=Object.defineProperties,vG=Object.getOwnPropertyDescriptors,ZS=Object.getOwnPropertySymbols,yG=Object.prototype.hasOwnProperty,_G=Object.prototype.propertyIsEnumerable,QS=(n,e,t)=>e in n?mG(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,qS=(n,e)=>{for(var t in e||(e={}))yG.call(e,t)&&QS(n,t,e[t]);if(ZS)for(var t of ZS(e))_G.call(e,t)&&QS(n,t,e[t]);return n},xG=(n,e)=>gG(n,vG(e));function mT(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=mT(r,e,t);if(i)return i;r=e?null:r.sibling}}function gT(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const j4=gT(w.createContext(null));class vT extends w.Component{render(){return w.createElement(j4.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:e9,ReactCurrentDispatcher:t9}=w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function EG(){const n=w.useContext(j4);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=w.useId();return w.useMemo(()=>{for(const r of[e9==null?void 0:e9.current,n,n==null?void 0:n.alternate]){if(!r)continue;const i=mT(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function AG(){var n,e;const t=EG(),[r]=w.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==j4&&!r.has(s)&&r.set(s,(e=t9==null?void 0:t9.current)==null?void 0:e.readContext(gT(s))),i=i.return}return r}function wG(){const n=AG();return w.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>w.createElement(e,null,w.createElement(t.Provider,xG(qS({},r),{value:n.get(t)}))),e=>w.createElement(vT,qS({},e))),[n])}const hy={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function SG(n){const{handlePointer:e}=KH(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(hy).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=hy[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=hy[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const MG=w.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=SG,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:x,performance:y,raycaster:g,camera:A,scene:_,onPointerMissed:M,onCreated:R,...b},P){w.useMemo(()=>Qb(PH),[]);const D=wG(),[V,T]=uG({scroll:!0,debounce:{scroll:50,resize:0},...r}),L=w.useRef(null),G=w.useRef(null);w.useImperativeHandle(P,()=>L.current);const se=tT(M),[W,te]=w.useState(!1),[re,ue]=w.useState(!1);if(W)throw W;if(re)throw re;const F=w.useRef(null);op(()=>{const Q=L.current;T.width>0&&T.height>0&&Q&&(F.current||(F.current=sG(Q)),F.current.configure({gl:s,events:o,shadows:c,linear:u,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:x,performance:y,raycaster:g,camera:A,scene:_,size:T,onPointerMissed:(...fe)=>se.current==null?void 0:se.current(...fe),onCreated:fe=>{fe.events.connect==null||fe.events.connect(a?GH(a)?a.current:a:G.current),l&&fe.setEvents({compute:(xe,Oe)=>{const X=xe[l+"X"],j=xe[l+"Y"];Oe.pointer.set(X/Oe.size.width*2-1,-(j/Oe.size.height)*2+1),Oe.raycaster.setFromCamera(Oe.pointer,Oe.camera)}}),R==null||R(fe)}}),F.current.render(w.createElement(D,null,w.createElement(nT,{set:ue},w.createElement(w.Suspense,{fallback:w.createElement(VH,{set:te})},e)))))}),w.useEffect(()=>{const Q=L.current;if(Q)return()=>hT(Q)},[]);const Y=a?"none":"auto";return w.createElement("div",hn({ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Y,...i}},b),w.createElement("div",{ref:V,style:{width:"100%",height:"100%"}},w.createElement("canvas",{ref:L,style:{display:"block"}},t)))}),yT=w.forwardRef(function(e,t){return w.createElement(vT,null,w.createElement(MG,hn({},e,{ref:t})))});function CG(n,e,t){return Math.max(e,Math.min(n,t))}const Ur={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function n9(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function r9(n,e,t,r=.15){return r===0?CG(n,e,t):n<e?-n9(e-n,t-e,r)+e:n>t?+n9(n-t,t-e,r)+t:n}function bG(n,[e,t],[r,i]){const[[s,o],[a,l]]=n;return[r9(e,s,o,r),r9(t,a,l,i)]}function TG(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function RG(n){var e=TG(n,"string");return typeof e=="symbol"?e:String(e)}function di(n,e,t){return e=RG(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function i9(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Bn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?i9(Object(t),!0).forEach(function(r){di(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i9(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const _T={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function s9(n){return n?n[0].toUpperCase()+n.slice(1):""}const PG=["enter","leave"];function IG(n=!1,e){return n&&!PG.includes(e)}function LG(n,e="",t=!1){const r=_T[n],i=r&&r[e]||e;return"on"+s9(n)+s9(i)+(IG(t,i)?"Capture":"")}const BG=["gotpointercapture","lostpointercapture"];function DG(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const r=BG.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:t}}function NG(n,e=""){const t=_T[n],r=t&&t[e]||e;return n+r}function Fg(n){return"touches"in n}function xT(n){return Fg(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function FG(n){return Array.from(n.touches).filter(e=>{var t,r;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(r=t.contains)===null||r===void 0?void 0:r.call(t,e.target))})}function OG(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function ET(n){return Fg(n)?OG(n)[0]:n}function kG(n){return FG(n).map(e=>e.identifier)}function py(n){const e=ET(n);return Fg(n)?e.identifier:e.pointerId}function o9(n){const e=ET(n);return[e.clientX,e.clientY]}function UG(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s})}return e}function Rm(n,...e){return typeof n=="function"?n(...e):n}function zG(){}function HG(...n){return n.length===0?zG:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function a9(n,e){return Object.assign({},e,n||{})}const GG=32;class VG{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:r,args:i}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?Rm(r.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:r,shared:i}=this;t.args=this.args;let s=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,UG(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const b=t._delta.map(Math.abs);Ur.addTo(t._distance,b)}this.axisIntent&&this.axisIntent(e);const[o,a]=t._movement,[l,c]=r.threshold,{_step:u,values:h}=t;if(r.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(o)>=l&&h[0]),u[1]===!1&&(u[1]=Math.abs(a)>=c&&h[1])):(u[0]===!1&&(u[0]=Math.abs(o)>=l&&Math.sign(o)*l),u[1]===!1&&(u[1]=Math.abs(a)>=c&&Math.sign(a)*c)),t.intentional=u[0]!==!1||u[1]!==!1,!t.intentional)return;const p=[0,0];if(r.hasCustomTransform){const[b,P]=h;p[0]=u[0]!==!1?b-u[0]:0,p[1]=u[1]!==!1?P-u[1]:0}else p[0]=u[0]!==!1?o-u[0]:0,p[1]=u[1]!==!1?a-u[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(p);const m=t.offset,v=t._active&&!t._blocked||t.active;v&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=Rm(r.bounds,t)),this.setup&&this.setup()),t.movement=p,this.computeOffset()));const[x,y]=t.offset,[[g,A],[_,M]]=t._bounds;t.overflow=[x<g?-1:x>A?1:0,y<_?-1:y>M?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const R=t._active?r.rubberband||[0,0]:[0,0];if(t.offset=bG(t._bounds,t.offset,R),t.delta=Ur.sub(t.offset,m),this.computeMovement(),v&&(!t.last||s>GG)){t.delta=Ur.sub(t.offset,m);const b=t.delta.map(Math.abs);Ur.addTo(t.distance,b),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[b[0]/s,b[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(Bn(Bn(Bn({},t),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function WG([n,e],t){const r=Math.abs(n),i=Math.abs(e);if(r>i&&r>t)return"x";if(i>r&&i>t)return"y"}class jG extends VG{constructor(...e){super(...e),di(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Ur.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Ur.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,r=this.config;if(!t.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[xT(e)]:r.axisThreshold;t.axis=WG(t._movement,i)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const $G=n=>n,l9=.15,AT={enabled(n=!0){return n},eventOptions(n,e,t){return Bn(Bn({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[l9,l9];case!1:return[0,0];default:return Ur.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return Ur.toVector(n)},transform(n,e,t){const r=n||t.shared.transform;return this.hasCustomTransform=!!r,r||$G},threshold(n){return Ur.toVector(n,0)}},XG=0,ap=Bn(Bn({},AT),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=XG){return n},bounds(n={}){if(typeof n=="function")return s=>ap.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:r=-1/0,bottom:i=1/0}=n;return[[e,t],[r,i]]}}),c9={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class JG extends jG{constructor(...e){super(...e),di(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=ap.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=py(e),r._pointerActive=!0,this.computeValues(o9(e)),this.computeInitial(),t.preventScrollAxis&&xT(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,r=this.config;if(!t._pointerActive)return;const i=py(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;const s=o9(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=Ur.sub(s,t._values),this.computeValues(s)),Ur.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;const i=py(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{const[a,l]=t._delta,[c,u]=t._movement,[h,p]=r.swipe.velocity,[m,v]=r.swipe.distance,x=r.swipe.duration;if(t.elapsedTime<x){const y=Math.abs(a/t.timeDelta),g=Math.abs(l/t.timeDelta);y>h&&Math.abs(c)>m&&(t.swipe[0]=Math.sign(a)),g>p&&Math.abs(u)>v&&(t.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,YG(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=c9[e.key];if(t){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(this.config.keyboardDisplacement,i),r._keyboardActive=!0,Ur.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in c9&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function YG(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const lp=typeof window<"u"&&window.document&&window.document.createElement;function wT(){return lp&&"ontouchstart"in window}function KG(){return wT()||lp&&window.navigator.maxTouchPoints>1}function ZG(){return lp&&"onpointerdown"in window}function QG(){return lp&&"exitPointerLock"in window.document}function qG(){try{return"constructor"in GestureEvent}catch{return!1}}const os={isBrowser:lp,gesture:qG(),touch:wT(),touchscreen:KG(),pointer:ZG(),pointerLock:QG()},eV=250,tV=180,nV=.5,rV=50,iV=250,sV=10,u9={mouse:0,touch:0,pen:8},oV=Bn(Bn({},ap),{},{device(n,e,{pointer:{touch:t=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&os.pointerLock,os.touch&&t?"touch":this.pointerLock?"mouse":os.pointer&&!i?"pointer":os.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?eV:void 0,!(!os.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:r=3,axis:i=void 0}){const s=Ur.toVector(n,t?r:i?1:0);return this.filterTaps=t,this.tapsThreshold=r,s},swipe({velocity:n=nV,distance:e=rV,duration:t=iV}={}){return{velocity:this.transform(Ur.toVector(n)),distance:this.transform(Ur.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return tV;case!1:return 0;default:return n}},axisThreshold(n){return n?Bn(Bn({},u9),n):u9},keyboardDisplacement(n=sV){return n}});Bn(Bn({},AT),{},{device(n,e,{shared:t,pointer:{touch:r=!1}={}}){if(t.target&&!os.touch&&os.gesture)return"gesture";if(os.touch&&r)return"touch";if(os.touchscreen){if(os.pointer)return"pointer";if(os.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:r={}}){const i=o=>{const a=a9(Rm(t,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=a9(Rm(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",Ur.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});Bn(Bn({},ap),{},{mouseOnly:(n=!0)=>n});Bn(Bn({},ap),{},{mouseOnly:(n=!0)=>n});const ST=new Map,E_=new Map;function aV(n){ST.set(n.key,n.engine),E_.set(n.key,n.resolver)}const lV={key:"drag",engine:JG,resolver:oV};function cV(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function uV(n,e){if(n==null)return{};var t=cV(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}const fV={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=os.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},dV=["target","eventOptions","window","enabled","transform"];function Z0(n={},e){const t={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":t[r]=i.call(t,n[r],r,n);break;case"object":t[r]=Z0(n[r],i);break;case"boolean":i&&(t[r]=n[r]);break}return t}function hV(n,e,t={}){const r=n,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,c=uV(r,dV);if(t.shared=Z0({target:i,eventOptions:s,window:o,enabled:a,transform:l},fV),e){const u=E_.get(e);t[e]=Z0(Bn({shared:t.shared},c),u)}else for(const u in c){const h=E_.get(u);h&&(t[u]=Z0(Bn({shared:t.shared},c[u]),h))}return t}class MT{constructor(e,t){di(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,r,i,s){const o=this._listeners,a=NG(t,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=Bn(Bn({},l),s);e.addEventListener(a,i,c);const u=()=>{e.removeEventListener(a,i,c),o.delete(u)};return o.add(u),u}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class pV{constructor(){di(this,"_timeouts",new Map)}add(e,t,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class mV{constructor(e){di(this,"gestures",new Set),di(this,"_targetEventStore",new MT(this)),di(this,"gestureEventStores",{}),di(this,"gestureTimeoutStores",{}),di(this,"handlers",{}),di(this,"config",{}),di(this,"pointerIds",new Set),di(this,"touchIds",new Set),di(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),gV(this,e)}setEventIds(e){if(Fg(e))return this.touchIds=new Set(kG(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=hV(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,r={};let i;if(!(t.target&&(i=t.target(),!i))){if(t.enabled){for(const o of this.gestures){const a=this.config[o],l=f9(r,a.eventOptions,!!i);if(a.enabled){const c=ST.get(o);new c(this,e,o).bind(l)}}const s=f9(r,t.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](Bn(Bn({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=HG(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=DG(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}}function su(n,e){n.gestures.add(e),n.gestureEventStores[e]=new MT(n,e),n.gestureTimeoutStores[e]=new pV}function gV(n,e){e.drag&&su(n,"drag"),e.wheel&&su(n,"wheel"),e.scroll&&su(n,"scroll"),e.move&&su(n,"move"),e.pinch&&su(n,"pinch"),e.hover&&su(n,"hover")}const f9=(n,e,t)=>(r,i,s,o={},a=!1)=>{var l,c;const u=(l=o.capture)!==null&&l!==void 0?l:e.capture,h=(c=o.passive)!==null&&c!==void 0?c:e.passive;let p=a?r:LG(r,i,u);t&&h&&(p+="Passive"),n[p]=n[p]||[],n[p].push(s)};function vV(n,e={},t,r){const i=le.useMemo(()=>new mV(n),[]);if(i.applyHandlers(n,r),i.applyConfig(e,t),le.useEffect(i.effect.bind(i)),le.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function yV(n,e){return aV(lV),vV({drag:n},e||{},"drag")}function Kd(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function A_(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function _V(n,e){if(n){if(typeof n=="string")return A_(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return A_(n,e)}}function xV(n){if(Array.isArray(n))return A_(n)}function EV(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function AV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wV(n){return xV(n)||EV(n)||_V(n)||AV()}new Ce;new Ce;function SV(n,e,t){return Math.max(e,Math.min(t,n))}function MV(n,e){return SV(n-Math.floor(n/e)*e,0,e)}function CV(n,e){var t=MV(e-n,Math.PI*2);return t>Math.PI&&(t-=Math.PI*2),t}function CT(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var es=function n(e,t,r){var i=this;CT(this,n),Kd(this,"dot2",function(s,o){return i.x*s+i.y*o}),Kd(this,"dot3",function(s,o,a){return i.x*s+i.y*o+i.z*a}),this.x=e,this.y=t,this.z=r},bV=[new es(1,1,0),new es(-1,1,0),new es(1,-1,0),new es(-1,-1,0),new es(1,0,1),new es(-1,0,1),new es(1,0,-1),new es(-1,0,-1),new es(0,1,1),new es(0,-1,1),new es(0,1,-1),new es(0,-1,-1)],d9=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],h9=new Array(512),p9=new Array(512),TV=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var r;t&1?r=d9[t]^e&255:r=d9[t]^e>>8&255,h9[t]=h9[t+256]=r,p9[t]=p9[t+256]=bV[r%12]}};TV(0);function RV(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function m9(n){var e=RV(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var PV=function n(e){var t=this;CT(this,n),Kd(this,"seed",0),Kd(this,"init",function(r){t.seed=r,t.value=m9(r)}),Kd(this,"value",m9(this.seed)),this.init(e)};new PV(Math.random());var IV=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/t)*Math.atan(Math.sin(2*Math.PI*e*i)/t)},bT=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)},LV=function(e){return e},BV={in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},DV={in:function(e){return e*e*e},out:function(e){return 1-Math.pow(1-e,3)},inOut:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}},NV={in:function(e){return e*e*e*e*e},out:function(e){return 1-Math.pow(1-e,5)},inOut:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}},FV={in:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},out:function(e){return Math.sqrt(1-Math.pow(e-1,2))},inOut:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}},OV={in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inOut:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},kV={in:function(e){return e===0?0:Math.pow(2,10*e-10)},out:function(e){return e===1?1:1-Math.pow(2,-10*e)},inOut:function(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};function sr(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:bT,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(n.__damp===void 0&&(n.__damp={}),n.__damp[l]===void 0&&(n.__damp[l]=0),Math.abs(n[e]-t)<=a)return n[e]=t,!1;r=Math.max(1e-4,r);var c=2/r,u=o(c*i),h=n[e]-t,p=t,m=s*r;h=Math.min(Math.max(h,-m),m),t=n[e]-h;var v=(n.__damp[l]+c*h)*i;n.__damp[l]=(n.__damp[l]-c*v)*u;var x=t+(h+v)*u;return p-n[e]>0==x>p&&(x=p,n.__damp[l]=(x-p)/i),n[e]=x,!0}var UV=function(e){return e&&e.isCamera},zV=function(e){return e&&e.isLight},yd=new Z,g9=new $n,v9=new $n,_d=new yt,my=new Z;function HV(n,e,t,r,i,s,o){typeof e=="number"?yd.setScalar(e):Array.isArray(e)?yd.set(e[0],e[1],e[2]):yd.copy(e);var a=n.parent;n.updateWorldMatrix(!0,!1),my.setFromMatrixPosition(n.matrixWorld),UV(n)||zV(n)?_d.lookAt(my,yd,n.up):_d.lookAt(yd,my,n.up),Pm(n.quaternion,v9.setFromRotationMatrix(_d),t,r,i,s,o),a&&(_d.extractRotation(a.matrixWorld),g9.setFromRotationMatrix(_d),Pm(n.quaternion,v9.copy(n.quaternion).premultiply(g9.invert()),t,r,i,s,o))}function Uu(n,e,t,r,i,s,o,a){return sr(n,e,n[e]+CV(n[e],t),r,i,s,o,a)}var xd=new Ce,y9,_9;function GV(n,e,t,r,i,s,o){return typeof e=="number"?xd.setScalar(e):Array.isArray(e)?xd.set(e[0],e[1]):xd.copy(e),y9=sr(n,"x",xd.x,t,r,i,s,o),_9=sr(n,"y",xd.y,t,r,i,s,o),y9||_9}var ou=new Z,x9,E9,A9;function w_(n,e,t,r,i,s,o){return typeof e=="number"?ou.setScalar(e):Array.isArray(e)?ou.set(e[0],e[1],e[2]):ou.copy(e),x9=sr(n,"x",ou.x,t,r,i,s,o),E9=sr(n,"y",ou.y,t,r,i,s,o),A9=sr(n,"z",ou.z,t,r,i,s,o),x9||E9||A9}var Ll=new Qt,w9,S9,M9,C9;function VV(n,e,t,r,i,s,o){return typeof e=="number"?Ll.setScalar(e):Array.isArray(e)?Ll.set(e[0],e[1],e[2],e[3]):Ll.copy(e),w9=sr(n,"x",Ll.x,t,r,i,s,o),S9=sr(n,"y",Ll.y,t,r,i,s,o),M9=sr(n,"z",Ll.z,t,r,i,s,o),C9=sr(n,"w",Ll.w,t,r,i,s,o),w9||S9||M9||C9}var Ed=new vf,b9,T9,R9;function WV(n,e,t,r,i,s,o){return Array.isArray(e)?Ed.set(e[0],e[1],e[2],e[3]):Ed.copy(e),b9=Uu(n,"x",Ed.x,t,r,i,s,o),T9=Uu(n,"y",Ed.y,t,r,i,s,o),R9=Uu(n,"z",Ed.z,t,r,i,s,o),b9||T9||R9}var au=new Xe,P9,I9,L9;function jV(n,e,t,r,i,s,o){return e instanceof Xe?au.copy(e):Array.isArray(e)?au.setRGB(e[0],e[1],e[2]):au.set(e),P9=sr(n,"r",au.r,t,r,i,s,o),I9=sr(n,"g",au.g,t,r,i,s,o),L9=sr(n,"b",au.b,t,r,i,s,o),P9||I9||L9}var Ms=new $n,Co=new Qt,B9=new Qt,Ad=new Qt,D9,N9,F9,O9;function Pm(n,e,t,r,i,s,o){var a=n;Array.isArray(e)?Ms.set(e[0],e[1],e[2],e[3]):Ms.copy(e);var l=n.dot(Ms)>0?1:-1;return Ms.x*=l,Ms.y*=l,Ms.z*=l,Ms.w*=l,D9=sr(n,"x",Ms.x,t,r,i,s,o),N9=sr(n,"y",Ms.y,t,r,i,s,o),F9=sr(n,"z",Ms.z,t,r,i,s,o),O9=sr(n,"w",Ms.w,t,r,i,s,o),Co.set(n.x,n.y,n.z,n.w).normalize(),B9.set(a.__damp.velocity_x,a.__damp.velocity_y,a.__damp.velocity_z,a.__damp.velocity_w),Ad.copy(Co).multiplyScalar(B9.dot(Co)/Co.dot(Co)),a.__damp.velocity_x-=Ad.x,a.__damp.velocity_y-=Ad.y,a.__damp.velocity_z-=Ad.z,a.__damp.velocity_w-=Ad.w,n.set(Co.x,Co.y,Co.z,Co.w),D9||N9||F9||O9}var wd=new Vb,k9,U9,z9;function $V(n,e,t,r,i,s,o){return Array.isArray(e)?wd.set(e[0],e[1],e[2]):wd.copy(e),k9=sr(n,"radius",wd.radius,t,r,i,s,o),U9=Uu(n,"phi",wd.phi,t,r,i,s,o),z9=Uu(n,"theta",wd.theta,t,r,i,s,o),k9||U9||z9}var y0=new yt,H9=new Z,G9=new $n,V9=new Z,W9,j9,$9;function XV(n,e,t,r,i,s,o){var a=n;return a.__damp===void 0&&(a.__damp={position:new Z,rotation:new $n,scale:new Z},n.decompose(a.__damp.position,a.__damp.rotation,a.__damp.scale)),Array.isArray(e)?y0.set.apply(y0,wV(e)):y0.copy(e),y0.decompose(H9,G9,V9),W9=w_(a.__damp.position,H9,t,r,i,s,o),j9=Pm(a.__damp.rotation,G9,t,r,i,s,o),$9=w_(a.__damp.scale,V9,t,r,i,s,o),n.compose(a.__damp.position,a.__damp.rotation,a.__damp.scale),W9||j9||$9}var nc=Object.freeze({__proto__:null,rsqw:IV,exp:bT,linear:LV,sine:BV,cubic:DV,quint:NV,circ:FV,quart:OV,expo:kV,damp:sr,dampLookAt:HV,dampAngle:Uu,damp2:GV,damp3:w_,damp4:VV,dampE:WV,dampC:jV,dampQ:Pm,dampS:$V,dampM:XV});const $4=w.createContext(null);function Og(){return w.useContext($4)}function JV({eps:n=1e-5,enabled:e=!0,infinite:t,horizontal:r,pages:i=1,distance:s=1,damping:o=.25,maxSpeed:a=1/0,style:l={},children:c}){const{get:u,setEvents:h,gl:p,size:m,invalidate:v,events:x}=Ar(),[y]=w.useState(()=>document.createElement("div")),[g]=w.useState(()=>document.createElement("div")),[A]=w.useState(()=>document.createElement("div")),_=p.domElement.parentNode,M=w.useRef(0),R=w.useMemo(()=>({el:y,eps:n,fill:g,fixed:A,horizontal:r,damping:o,offset:0,delta:0,scroll:M,pages:i,range(D,V,T=0){const L=D-T,G=L+V+T*2;return this.offset<L?0:this.offset>G?1:(this.offset-L)/(G-L)},curve(D,V,T=0){return Math.sin(this.range(D,V,T)*Math.PI)},visible(D,V,T=0){const L=D-T,G=L+V+T*2;return this.offset>=L&&this.offset<=G}}),[n,o,r,i]);w.useEffect(()=>{y.style.position="absolute",y.style.width="100%",y.style.height="100%",y.style[r?"overflowX":"overflowY"]="auto",y.style[r?"overflowY":"overflowX"]="hidden",y.style.top="0px",y.style.left="0px";for(const V in l)y.style[V]=l[V];A.style.position="sticky",A.style.top="0px",A.style.left="0px",A.style.width="100%",A.style.height="100%",A.style.overflow="hidden",y.appendChild(A),g.style.height=r?"100%":`${i*s*100}%`,g.style.width=r?`${i*s*100}%`:"100%",g.style.pointerEvents="none",y.appendChild(g),_.appendChild(y),y[r?"scrollLeft":"scrollTop"]=1;const P=x.connected||p.domElement;requestAnimationFrame(()=>x.connect==null?void 0:x.connect(y));const D=u().events.compute;return h({compute(V,T){const{left:L,top:G}=_.getBoundingClientRect(),se=V.clientX-L,W=V.clientY-G;T.pointer.set(se/T.size.width*2-1,-(W/T.size.height)*2+1),T.raycaster.setFromCamera(T.pointer,T.camera)}}),()=>{_.removeChild(y),h({compute:D}),x.connect==null||x.connect(P)}},[i,s,r,y,g,A,_]),w.useEffect(()=>{if(x.connected===y){const P=m[r?"width":"height"],D=y[r?"scrollWidth":"scrollHeight"],V=D-P;let T=0,L=!0,G=!0;const se=()=>{if(!(!e||G)&&(v(),T=y[r?"scrollLeft":"scrollTop"],M.current=T/V,t)){if(!L){if(T>=V){const te=1-R.offset;y[r?"scrollLeft":"scrollTop"]=1,M.current=R.offset=-te,L=!0}else if(T<=0){const te=1+R.offset;y[r?"scrollLeft":"scrollTop"]=D,M.current=R.offset=te,L=!0}}L&&setTimeout(()=>L=!1,40)}};y.addEventListener("scroll",se,{passive:!0}),requestAnimationFrame(()=>G=!1);const W=te=>y.scrollLeft+=te.deltaY/2;return r&&y.addEventListener("wheel",W,{passive:!0}),()=>{y.removeEventListener("scroll",se),r&&y.removeEventListener("wheel",W)}}},[y,x,m,t,R,v,r,e]);let b=0;return Gi((P,D)=>{b=R.offset,nc.damp(R,"offset",M.current,o,D,a,void 0,n),nc.damp(R,"delta",Math.abs(b-R.offset),o,D,a,void 0,n),R.delta>n&&v()}),w.createElement($4.Provider,{value:R},c)}const YV=w.forwardRef(({children:n},e)=>{const t=w.useRef(null);w.useImperativeHandle(e,()=>t.current,[]);const r=Og(),{width:i,height:s}=Ar(o=>o.viewport);return Gi(()=>{t.current.position.x=r.horizontal?-i*(r.pages-1)*r.offset:0,t.current.position.y=r.horizontal?0:s*(r.pages-1)*r.offset}),w.createElement("group",{ref:t},n)}),KV=w.forwardRef(({children:n,style:e,...t},r)=>{const i=Og(),s=w.useRef(null);w.useImperativeHandle(r,()=>s.current,[]);const{width:o,height:a}=Ar(u=>u.size),l=w.useContext(Bh),c=w.useMemo(()=>$x(i.fixed),[i.fixed]);return Gi(()=>{i.delta>i.eps&&(s.current.style.transform=`translate3d(${i.horizontal?-o*(i.pages-1)*i.offset:0}px,${i.horizontal?0:a*(i.pages-1)*-i.offset}px,0)`)}),c.render(w.createElement("div",hn({ref:s,style:{...e,position:"absolute",top:0,left:0,willChange:"transform"}},t),w.createElement($4.Provider,{value:i},w.createElement(Bh.Provider,{value:l},n)))),null}),ZV=w.forwardRef(({html:n,...e},t)=>{const r=n?KV:YV;return w.createElement(r,hn({ref:t},e))}),QV=n=>(e,t,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let c=o;if(a){const u=(l==null?void 0:l.equalityFn)||Object.is;let h=o(r.getState());c=p=>{const m=o(p);if(!u(h,m)){const v=h;a(h=m,v)}},l!=null&&l.fireImmediately&&a(h,h)}return i(c)},n(e,t,r)};function X9(n,e){if(e===R8)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===Mm||e===r4){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===Mm)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const qV=parseInt(pf.replace(/\D+/g,""));var as=Uint8Array,La=Uint16Array,S_=Uint32Array,TT=new as([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),RT=new as([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),eW=new as([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),PT=function(n,e){for(var t=new La(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new S_(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},IT=PT(TT,2),LT=IT[0],tW=IT[1];LT[28]=258,tW[258]=28;var nW=PT(RT,0),rW=nW[0],M_=new La(32768);for(var En=0;En<32768;++En){var ya=(En&43690)>>>1|(En&21845)<<1;ya=(ya&52428)>>>2|(ya&13107)<<2,ya=(ya&61680)>>>4|(ya&3855)<<4,M_[En]=((ya&65280)>>>8|(ya&255)<<8)>>>1}var Zd=function(n,e,t){for(var r=n.length,i=0,s=new La(e);i<r;++i)++s[n[i]-1];var o=new La(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new La(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],h=o[n[i]-1]++<<u,p=h|(1<<u)-1;h<=p;++h)a[M_[h]>>>l]=c}else for(a=new La(r),i=0;i<r;++i)n[i]&&(a[i]=M_[o[n[i]-1]++]>>>15-n[i]);return a},cp=new as(288);for(var En=0;En<144;++En)cp[En]=8;for(var En=144;En<256;++En)cp[En]=9;for(var En=256;En<280;++En)cp[En]=7;for(var En=280;En<288;++En)cp[En]=8;var BT=new as(32);for(var En=0;En<32;++En)BT[En]=5;var iW=Zd(cp,9,1),sW=Zd(BT,5,1),gy=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Cs=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},vy=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},oW=function(n){return(n/8|0)+(n&7&&1)},aW=function(n,e,t){(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof La?La:n instanceof S_?S_:as)(t-e);return r.set(n.subarray(e,t)),r},lW=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new as(0);var i=!e||t,s=!t||t.i;t||(t={}),e||(e=new as(r*3));var o=function(H){var z=e.length;if(H>z){var ve=new as(Math.max(z*2,H));ve.set(e),e=ve}},a=t.f||0,l=t.p||0,c=t.b||0,u=t.l,h=t.d,p=t.m,m=t.n,v=r*8;do{if(!u){t.f=a=Cs(n,l,1);var x=Cs(n,l+1,3);if(l+=3,x)if(x==1)u=iW,h=sW,p=9,m=5;else if(x==2){var _=Cs(n,l,31)+257,M=Cs(n,l+10,15)+4,R=_+Cs(n,l+5,31)+1;l+=14;for(var b=new as(R),P=new as(19),D=0;D<M;++D)P[eW[D]]=Cs(n,l+D*3,7);l+=M*3;for(var V=gy(P),T=(1<<V)-1,L=Zd(P,V,1),D=0;D<R;){var G=L[Cs(n,l,T)];l+=G&15;var y=G>>>4;if(y<16)b[D++]=y;else{var se=0,W=0;for(y==16?(W=3+Cs(n,l,3),l+=2,se=b[D-1]):y==17?(W=3+Cs(n,l,7),l+=3):y==18&&(W=11+Cs(n,l,127),l+=7);W--;)b[D++]=se}}var te=b.subarray(0,_),re=b.subarray(_);p=gy(te),m=gy(re),u=Zd(te,p,1),h=Zd(re,m,1)}else throw"invalid block type";else{var y=oW(l)+4,g=n[y-4]|n[y-3]<<8,A=y+g;if(A>r){if(s)throw"unexpected EOF";break}i&&o(c+g),e.set(n.subarray(y,A),c),t.b=c+=g,t.p=l=A*8;continue}if(l>v){if(s)throw"unexpected EOF";break}}i&&o(c+131072);for(var ue=(1<<p)-1,F=(1<<m)-1,Y=l;;Y=l){var se=u[vy(n,l)&ue],Q=se>>>4;if(l+=se&15,l>v){if(s)throw"unexpected EOF";break}if(!se)throw"invalid length/literal";if(Q<256)e[c++]=Q;else if(Q==256){Y=l,u=null;break}else{var fe=Q-254;if(Q>264){var D=Q-257,xe=TT[D];fe=Cs(n,l,(1<<xe)-1)+LT[D],l+=xe}var Oe=h[vy(n,l)&F],X=Oe>>>4;if(!Oe)throw"invalid distance";l+=Oe&15;var re=rW[X];if(X>3){var xe=RT[X];re+=vy(n,l)&(1<<xe)-1,l+=xe}if(l>v){if(s)throw"unexpected EOF";break}i&&o(c+131072);for(var j=c+fe;c<j;c+=4)e[c]=e[c-re],e[c+1]=e[c+1-re],e[c+2]=e[c+2-re],e[c+3]=e[c+3-re];c=j}}t.l=u,t.p=Y,t.b=c,u&&(a=1,t.m=p,t.d=h,t.n=m)}while(!a);return c==e.length?e:aW(e,0,c)},cW=new as(0),uW=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function _0(n,e){return lW((uW(n),n.subarray(2,-4)),e)}var fW=typeof TextDecoder<"u"&&new TextDecoder,dW=0;try{fW.decode(cW,{stream:!0}),dW=1}catch{}const hW=n=>n&&n.isCubeTexture;class pW extends Cn{constructor(e,t){var r,i;const s=hW(e),a=((i=s?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(a)),c=Math.pow(2,l),u=3*Math.max(c,16*7),h=4*c,p=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/u}`,`#define CUBEUV_TEXEL_HEIGHT ${1/h}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,v=p.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(pf.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,x={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},y=new tp(1,16),g=new Gr({uniforms:x,fragmentShader:v,vertexShader:m,side:qr});super(y,g)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class X4 extends Sr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new _W(t)}),this.register(function(t){return new bW(t)}),this.register(function(t){return new TW(t)}),this.register(function(t){return new RW(t)}),this.register(function(t){return new EW(t)}),this.register(function(t){return new AW(t)}),this.register(function(t){return new wW(t)}),this.register(function(t){return new SW(t)}),this.register(function(t){return new yW(t)}),this.register(function(t){return new MW(t)}),this.register(function(t){return new xW(t)}),this.register(function(t){return new CW(t)}),this.register(function(t){return new gW(t)}),this.register(function(t){return new PW(t)}),this.register(function(t){return new IW(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=ao.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Ei(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(ao.decodeText(new Uint8Array(e.slice(0,4)))===DT){try{o[Xt.KHR_BINARY_GLTF]=new LW(e)}catch(u){i&&i(u);return}s=JSON.parse(o[Xt.KHR_BINARY_GLTF].content)}else s=JSON.parse(ao.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new jW(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],h=s.extensionsRequired||[];switch(u){case Xt.KHR_MATERIALS_UNLIT:o[u]=new vW;break;case Xt.KHR_DRACO_MESH_COMPRESSION:o[u]=new BW(s,this.dracoLoader);break;case Xt.KHR_TEXTURE_TRANSFORM:o[u]=new DW;break;case Xt.KHR_MESH_QUANTIZATION:o[u]=new NW;break;default:h.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function mW(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Xt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class gW{constructor(e){this.parser=e,this.name=Xt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new Xe(16777215);l.color!==void 0&&u.fromArray(l.color);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new D4(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new B4(u),c.distance=h;break;case"spot":c=new L4(u),c.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Ma(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class vW{constructor(){this.name=Xt.KHR_MATERIALS_UNLIT}getMaterialType(){return Di}extendParams(e,t,r){const i=[];e.color=new Xe(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class yW{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class _W{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ho}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Ce(a,a)}return Promise.all(s)}}class xW{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ho}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class EW{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ho}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Xe(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class AW{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ho}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class wW{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ho}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Xe(a[0],a[1],a[2]),Promise.all(s)}}class SW{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ho}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class MW{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ho}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Xe(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class CW{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ho}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class bW{constructor(e){this.parser=e,this.name=Xt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class TW{constructor(e){this.parser=e,this.name=Xt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class RW{constructor(e){this.parser=e,this.name=Xt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class PW{constructor(e){this.name=Xt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,h=i.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,h,p,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*h);return o.decodeGltfBuffer(new Uint8Array(m),u,h,p,i.mode,i.filter),m})})}else return null}}class IW{constructor(e){this.name=Xt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==rs.TRIANGLES&&c.mode!==rs.TRIANGLE_STRIP&&c.mode!==rs.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),h=u.isGroup?u.children:[u],p=c[0].count,m=[];for(const v of h){const x=new yt,y=new Z,g=new $n,A=new Z(1,1,1),_=new y4(v.geometry,v.material,p);for(let M=0;M<p;M++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,M),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,M),l.SCALE&&A.fromBufferAttribute(l.SCALE,M),_.setMatrixAt(M,x.compose(y,g,A));for(const M in l)M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&v.geometry.setAttribute(M,l[M]);Bt.prototype.copy.call(_,v),this.parser.assignFinalMaterial(_),m.push(_)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const DT="glTF",Sd=12,J9={JSON:1313821514,BIN:5130562};class LW{constructor(e){this.name=Xt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Sd);if(this.header={magic:ao.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==DT)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Sd,i=new DataView(e,Sd);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===J9.JSON){const l=new Uint8Array(e,Sd+s,o);this.content=ao.decodeText(l)}else if(a===J9.BIN){const l=Sd+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class BW{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Xt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const h=C_[u]||u.toLowerCase();a[h]=o[u]}for(const u in e.attributes){const h=C_[u]||u.toLowerCase();if(o[u]!==void 0){const p=r.accessors[e.attributes[u]],m=zu[p.componentType];c[h]=m.name,l[h]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(h){i.decodeDracoFile(u,function(p){for(const m in p.attributes){const v=p.attributes[m],x=l[m];x!==void 0&&(v.normalized=x)}h(p)},a,c)})})}}class DW{constructor(){this.name=Xt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class NW{constructor(){this.name=Xt.KHR_MESH_QUANTIZATION}}class NT extends wf{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-t,h=(r-t)/u,p=h*h,m=p*h,v=e*c,x=v-c,y=-2*m+3*p,g=m-p,A=1-y,_=g-p+h;for(let M=0;M!==a;M++){const R=o[x+M+a],b=o[x+M+l]*u,P=o[v+M+a],D=o[v+M]*u;s[M]=A*R+_*b+y*P+g*D}return s}}const FW=new $n;class OW extends NT{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return FW.fromArray(s).normalize().toArray(s),s}}const rs={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},zu={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Y9={9728:jt,9729:Ct,9984:Eh,9985:Ou,9986:Ra,9987:cs},K9={33071:_r,33648:Zu,10497:Ya},yy={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},C_={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...qV>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},_a={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},kW={CUBICSPLINE:void 0,LINEAR:fc,STEP:Qu},_y={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function UW(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Af({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:lo})),n.DefaultMaterial}function Bl(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Ma(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function zW(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const h=e[c];if(h.POSITION!==void 0&&(r=!0),h.NORMAL!==void 0&&(i=!0),h.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const h=e[c];if(r){const p=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):n.attributes.position;o.push(p)}if(i){const p=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],h=c[1],p=c[2];return r&&(n.morphAttributes.position=u),i&&(n.morphAttributes.normal=h),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function HW(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function GW(n){let e;const t=n.extensions&&n.extensions[Xt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+xy(t.attributes):e=n.indices+":"+xy(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+xy(n.targets[r]);return e}function xy(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function b_(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function VW(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const WW=new yt;class jW{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new mW,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new sp(this.options.manager):this.textureLoader=new kb(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ei(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Bl(s,a,i),Ma(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Xt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(ao.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=yy[i.type],a=zu[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new Kt(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=yy[i.type],c=zu[i.componentType],u=c.BYTES_PER_ELEMENT,h=u*l,p=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,v=i.normalized===!0;let x,y;if(m&&m!==h){const g=Math.floor(p/m),A="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+g+":"+i.count;let _=t.cache.get(A);_||(x=new c(a,g*m,i.count*m/u),_=new Qh(x,m/u),t.cache.add(A,_)),y=new Za(_,l,p%m/u,v)}else a===null?x=new c(i.count*l):x=new c(a,p,i.count*l),y=new Kt(x,l,v);if(i.sparse!==void 0){const g=yy.SCALAR,A=zu[i.sparse.indices.componentType],_=i.sparse.indices.byteOffset||0,M=i.sparse.values.byteOffset||0,R=new A(o[1],_,i.sparse.count*g),b=new c(o[2],M,i.sparse.count*l);a!==null&&(y=new Kt(y.array.slice(),y.itemSize,y.normalized));for(let P=0,D=R.length;P<D;P++){const V=R[P];if(y.setX(V,b[P*l]),l>=2&&y.setY(V,b[P*l+1]),l>=3&&y.setZ(V,b[P*l+2]),l>=4&&y.setW(V,b[P*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return u.magFilter=Y9[p.magFilter]||Ct,u.minFilter=Y9[p.minFilter]||cs,u.wrapS=K9[p.wrapS]||Ya,u.wrapT=K9[p.wrapT]||Ya,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(h){c=!0;const p=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(h){return new Promise(function(p,m){let v=p;t.isImageBitmapLoader===!0&&(v=function(x){const y=new yn(x);y.needsUpdate=!0,p(y)}),t.load(ao.resolveURL(h,s.path),v,void 0,m)})}).then(function(h){return c===!0&&a.revokeObjectURL(l),h.userData.mimeType=o.mimeType||VW(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[Xt.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Xt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Xt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new xg,Qn.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Vr,Qn.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return Af}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Xt.KHR_MATERIALS_UNLIT]){const h=i[Xt.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),c.push(h.extendParams(a,s,t))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new Xe(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const p=h.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}h.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",h.baseColorTexture,3001)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=qr);const u=s.alphaMode||_y.OPAQUE;if(u===_y.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===_y.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Di&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Ce(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}return s.occlusionTexture!==void 0&&o!==Di&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Di&&(a.emissive=new Xe().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Di&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const h=new o(a);return s.name&&(h.name=s.name),Ma(h,s),t.associations.set(h,{materials:e}),s.extensions&&Bl(i,h,s),h})}createUniqueName(e){const t=Yt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Xt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return Z9(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=GW(c),h=i[u];if(h)o.push(h.promise);else{let p;c.extensions&&c.extensions[Xt.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=Z9(new Pt,c,t),i[u]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?UW(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],h=[];for(let m=0,v=u.length;m<v;m++){const x=u[m],y=o[m];let g;const A=c[m];if(y.mode===rs.TRIANGLES||y.mode===rs.TRIANGLE_STRIP||y.mode===rs.TRIANGLE_FAN||y.mode===void 0)g=s.isSkinnedMesh===!0?new v4(x,A):new Cn(x,A),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),y.mode===rs.TRIANGLE_STRIP?g.geometry=X9(g.geometry,r4):y.mode===rs.TRIANGLE_FAN&&(g.geometry=X9(g.geometry,Mm));else if(y.mode===rs.LINES)g=new ks(x,A);else if(y.mode===rs.LINE_STRIP)g=new jo(x,A);else if(y.mode===rs.LINE_LOOP)g=new _4(x,A);else if(y.mode===rs.POINTS)g=new Eg(x,A);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(g.geometry.morphAttributes).length>0&&HW(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),Ma(g,s),y.extensions&&Bl(i,g,y),t.assignFinalMaterial(g),h.push(g)}for(let m=0,v=h.length;m<v;m++)t.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return s.extensions&&Bl(i,h[0],s),h[0];const p=new no;s.extensions&&Bl(i,p,s),t.associations.set(p,{meshes:e});for(let m=0,v=h.length;m<v;m++)p.add(h[m]);return p})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new nr(Jh.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new _f(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Ma(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const h=o[c];if(h){a.push(h);const p=new yt;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new qh(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let u=0,h=r.channels.length;u<h;u++){const p=r.channels[u],m=r.samplers[p.sampler],v=p.target,x=v.node,y=r.parameters!==void 0?r.parameters[m.input]:m.input,g=r.parameters!==void 0?r.parameters[m.output]:m.output;v.node!==void 0&&(s.push(this.getDependency("node",x)),o.push(this.getDependency("accessor",y)),a.push(this.getDependency("accessor",g)),l.push(m),c.push(v))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const h=u[0],p=u[1],m=u[2],v=u[3],x=u[4],y=[];for(let g=0,A=h.length;g<A;g++){const _=h[g],M=p[g],R=m[g],b=v[g],P=x[g];if(_===void 0)continue;_.updateMatrix();let D;switch(_a[P.path]){case _a.weights:D=nf;break;case _a.rotation:D=Qa;break;case _a.position:case _a.scale:default:D=rf;break}const V=_.name?_.name:_.uuid,T=b.interpolation!==void 0?kW[b.interpolation]:fc,L=[];_a[P.path]===_a.weights?_.traverse(function(se){se.morphTargetInfluences&&L.push(se.name?se.name:se.uuid)}):L.push(V);let G=R.array;if(R.normalized){const se=b_(G.constructor),W=new Float32Array(G.length);for(let te=0,re=G.length;te<re;te++)W[te]=G[te]*se;G=W}for(let se=0,W=L.length;se<W;se++){const te=new D(L[se]+"."+_a[P.path],M.array,G,T);b.interpolation==="CUBICSPLINE"&&(te.createInterpolant=function(ue){const F=this instanceof Qa?OW:NT;return new F(this.times,this.values,this.getValueSize()/3,ue)},te.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),y.push(te)}}return new sf(i,void 0,y)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,u=a.length;c<u;c++)o.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],h=c[1],p=c[2];p!==null&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(p,WW)});for(let m=0,v=h.length;m<v;m++)u.add(h[m]);return u})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new _g:c.length>1?u=new no:c.length===1?u=c[0]:u=new Bt,u!==c[0])for(let h=0,p=c.length;h<p;h++)u.add(c[h]);if(s.name&&(u.userData.name=s.name,u.name=o),Ma(u,s),s.extensions&&Bl(r,u,s),s.matrix!==void 0){const h=new yt;h.fromArray(s.matrix),u.applyMatrix4(h)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new no;r.name&&(s.name=i.createUniqueName(r.name)),Ma(s,r),r.extensions&&Bl(t,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,h=l.length;u<h;u++)s.add(l[u]);const c=u=>{const h=new Map;for(const[p,m]of i.associations)(p instanceof Qn||p instanceof yn)&&h.set(p,m);return u.traverse(p=>{const m=i.associations.get(p);m!=null&&h.set(p,m)}),h};return i.associations=c(s),s})}}function $W(n,e,t){const r=e.attributes,i=new zr;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new Z(l[0],l[1],l[2]),new Z(c[0],c[1],c[2])),a.normalized){const u=b_(zu[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new Z,l=new Z;for(let c=0,u=s.length;c<u;c++){const h=s[c];if(h.POSITION!==void 0){const p=t.json.accessors[h.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const x=b_(zu[p.componentType]);l.multiplyScalar(x)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new Er;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function Z9(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=C_[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Ma(n,e),$W(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?zW(n,e.targets,t):n})}class XW extends P4{constructor(e){super(e),this.type=kr}parse(e){const a=function(_,M){switch(_){case 1:console.error("THREE.RGBELoader Read Error: "+(M||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(M||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(M||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(M||""))}return-1},h=`
`,p=function(_,M,R){M=M||1024;let P=_.pos,D=-1,V=0,T="",L=String.fromCharCode.apply(null,new Uint16Array(_.subarray(P,P+128)));for(;0>(D=L.indexOf(h))&&V<M&&P<_.byteLength;)T+=L,V+=L.length,P+=128,L+=String.fromCharCode.apply(null,new Uint16Array(_.subarray(P,P+128)));return-1<D?(R!==!1&&(_.pos+=V+D+1),T+L.slice(0,D)):!1},m=function(_){const M=/^#\?(\S+)/,R=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,b=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,P=/^\s*FORMAT=(\S+)\s*$/,D=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,V={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let T,L;if(_.pos>=_.byteLength||!(T=p(_)))return a(1,"no header found");if(!(L=T.match(M)))return a(3,"bad initial token");for(V.valid|=1,V.programtype=L[1],V.string+=T+`
`;T=p(_),T!==!1;){if(V.string+=T+`
`,T.charAt(0)==="#"){V.comments+=T+`
`;continue}if((L=T.match(R))&&(V.gamma=parseFloat(L[1])),(L=T.match(b))&&(V.exposure=parseFloat(L[1])),(L=T.match(P))&&(V.valid|=2,V.format=L[1]),(L=T.match(D))&&(V.valid|=4,V.height=parseInt(L[1],10),V.width=parseInt(L[2],10)),V.valid&2&&V.valid&4)break}return V.valid&2?V.valid&4?V:a(3,"missing image size specifier"):a(3,"missing format specifier")},v=function(_,M,R){const b=M;if(b<8||b>32767||_[0]!==2||_[1]!==2||_[2]&128)return new Uint8Array(_);if(b!==(_[2]<<8|_[3]))return a(3,"wrong scanline width");const P=new Uint8Array(4*M*R);if(!P.length)return a(4,"unable to allocate buffer space");let D=0,V=0;const T=4*b,L=new Uint8Array(4),G=new Uint8Array(T);let se=R;for(;se>0&&V<_.byteLength;){if(V+4>_.byteLength)return a(1);if(L[0]=_[V++],L[1]=_[V++],L[2]=_[V++],L[3]=_[V++],L[0]!=2||L[1]!=2||(L[2]<<8|L[3])!=b)return a(3,"bad rgbe scanline format");let W=0,te;for(;W<T&&V<_.byteLength;){te=_[V++];const ue=te>128;if(ue&&(te-=128),te===0||W+te>T)return a(3,"bad scanline data");if(ue){const F=_[V++];for(let Y=0;Y<te;Y++)G[W++]=F}else G.set(_.subarray(V,V+te),W),W+=te,V+=te}const re=b;for(let ue=0;ue<re;ue++){let F=0;P[D]=G[ue+F],F+=b,P[D+1]=G[ue+F],F+=b,P[D+2]=G[ue+F],F+=b,P[D+3]=G[ue+F],D+=4}se--}return P},x=function(_,M,R,b){const P=_[M+3],D=Math.pow(2,P-128)/255;R[b+0]=_[M+0]*D,R[b+1]=_[M+1]*D,R[b+2]=_[M+2]*D,R[b+3]=1},y=function(_,M,R,b){const P=_[M+3],D=Math.pow(2,P-128)/255;R[b+0]=$l.toHalfFloat(Math.min(_[M+0]*D,65504)),R[b+1]=$l.toHalfFloat(Math.min(_[M+1]*D,65504)),R[b+2]=$l.toHalfFloat(Math.min(_[M+2]*D,65504)),R[b+3]=$l.toHalfFloat(1)},g=new Uint8Array(e);g.pos=0;const A=m(g);if(A!==-1){const _=A.width,M=A.height,R=v(g.subarray(g.pos),_,M);if(R!==-1){let b,P,D;switch(this.type){case rr:D=R.length/4;const V=new Float32Array(D*4);for(let L=0;L<D;L++)x(R,L*4,V,L*4);b=V,P=rr;break;case kr:D=R.length/4;const T=new Uint16Array(D*4);for(let L=0;L<D;L++)y(R,L*4,T,L*4);b=T,P=kr;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:_,height:M,data:b,header:A.string,gamma:A.gamma,exposure:A.exposure,type:P}}}return null}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){switch(o.type){case rr:case kr:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=Ct,o.magFilter=Ct,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,s,r,i)}}const Md="colorSpace"in new yn;class JW extends P4{constructor(e){super(e),this.type=kr}parse(e){const V=Math.pow(2.7182818,2.2);function T(U,$){for(var de=0,O=0;O<65536;++O)(O==0||U[O>>3]&1<<(O&7))&&($[de++]=O);for(var K=de-1;de<65536;)$[de++]=0;return K}function L(U){for(var $=0;$<16384;$++)U[$]={},U[$].len=0,U[$].lit=0,U[$].p=null}const G={l:0,c:0,lc:0};function se(U,$,de,O,K){for(;de<U;)$=$<<8|et(O,K),de+=8;de-=U,G.l=$>>de&(1<<U)-1,G.c=$,G.lc=de}const W=new Array(59);function te(U){for(var $=0;$<=58;++$)W[$]=0;for(var $=0;$<65537;++$)W[U[$]]+=1;for(var de=0,$=58;$>0;--$){var O=de+W[$]>>1;W[$]=de,de=O}for(var $=0;$<65537;++$){var K=U[$];K>0&&(U[$]=K|W[K]++<<6)}}function re(U,$,de,O,K,q,ce){for(var ie=de,Me=0,Re=0;K<=q;K++){if(ie.value-de.value>O)return!1;se(6,Me,Re,U,ie);var Le=G.l;if(Me=G.c,Re=G.lc,ce[K]=Le,Le==63){if(ie.value-de.value>O)throw"Something wrong with hufUnpackEncTable";se(8,Me,Re,U,ie);var Ie=G.l+6;if(Me=G.c,Re=G.lc,K+Ie>q+1)throw"Something wrong with hufUnpackEncTable";for(;Ie--;)ce[K++]=0;K--}else if(Le>=59){var Ie=Le-59+2;if(K+Ie>q+1)throw"Something wrong with hufUnpackEncTable";for(;Ie--;)ce[K++]=0;K--}}te(ce)}function ue(U){return U&63}function F(U){return U>>6}function Y(U,$,de,O){for(;$<=de;$++){var K=F(U[$]),q=ue(U[$]);if(K>>q)throw"Invalid table entry";if(q>14){var ce=O[K>>q-14];if(ce.len)throw"Invalid table entry";if(ce.lit++,ce.p){var ie=ce.p;ce.p=new Array(ce.lit);for(var Me=0;Me<ce.lit-1;++Me)ce.p[Me]=ie[Me]}else ce.p=new Array(1);ce.p[ce.lit-1]=$}else if(q)for(var Re=0,Me=1<<14-q;Me>0;Me--){var ce=O[(K<<14-q)+Re];if(ce.len||ce.p)throw"Invalid table entry";ce.len=q,ce.lit=$,Re++}}return!0}const Q={c:0,lc:0};function fe(U,$,de,O){U=U<<8|et(de,O),$+=8,Q.c=U,Q.lc=$}const xe={c:0,lc:0};function Oe(U,$,de,O,K,q,ce,ie,Me,Re){if(U==$){O<8&&(fe(de,O,K,ce),de=Q.c,O=Q.lc),O-=8;var Le=de>>O,Le=new Uint8Array([Le])[0];if(Me.value+Le>Re)return!1;for(var Ie=ie[Me.value-1];Le-- >0;)ie[Me.value++]=Ie}else if(Me.value<Re)ie[Me.value++]=U;else return!1;xe.c=de,xe.lc=O}function X(U){return U&65535}function j(U){var $=X(U);return $>32767?$-65536:$}const H={a:0,b:0};function z(U,$){var de=j(U),O=j($),K=O,q=de+(K&1)+(K>>1),ce=q,ie=q-K;H.a=ce,H.b=ie}function ve(U,$){var de=X(U),O=X($),K=de-(O>>1)&65535,q=O+K-32768&65535;H.a=q,H.b=K}function be(U,$,de,O,K,q,ce){for(var ie=ce<16384,Me=de>K?K:de,Re=1,Le;Re<=Me;)Re<<=1;for(Re>>=1,Le=Re,Re>>=1;Re>=1;){for(var Ie=0,tt=Ie+q*(K-Le),ke=q*Re,ze=q*Le,rt=O*Re,pt=O*Le,vt,Rt,nt,Ye;Ie<=tt;Ie+=ze){for(var Ht=Ie,Et=Ie+O*(de-Le);Ht<=Et;Ht+=pt){var Mt=Ht+rt,on=Ht+ke,On=on+rt;ie?(z(U[Ht+$],U[on+$]),vt=H.a,nt=H.b,z(U[Mt+$],U[On+$]),Rt=H.a,Ye=H.b,z(vt,Rt),U[Ht+$]=H.a,U[Mt+$]=H.b,z(nt,Ye),U[on+$]=H.a,U[On+$]=H.b):(ve(U[Ht+$],U[on+$]),vt=H.a,nt=H.b,ve(U[Mt+$],U[On+$]),Rt=H.a,Ye=H.b,ve(vt,Rt),U[Ht+$]=H.a,U[Mt+$]=H.b,ve(nt,Ye),U[on+$]=H.a,U[On+$]=H.b)}if(de&Re){var on=Ht+ke;ie?z(U[Ht+$],U[on+$]):ve(U[Ht+$],U[on+$]),vt=H.a,U[on+$]=H.b,U[Ht+$]=vt}}if(K&Re)for(var Ht=Ie,Et=Ie+O*(de-Le);Ht<=Et;Ht+=pt){var Mt=Ht+rt;ie?z(U[Ht+$],U[Mt+$]):ve(U[Ht+$],U[Mt+$]),vt=H.a,U[Mt+$]=H.b,U[Ht+$]=vt}Le=Re,Re>>=1}return Ie}function Ee(U,$,de,O,K,q,ce,ie,Me,Re){for(var Le=0,Ie=0,tt=ie,ke=Math.trunc(K.value+(q+7)/8);K.value<ke;)for(fe(Le,Ie,de,K),Le=Q.c,Ie=Q.lc;Ie>=14;){var ze=Le>>Ie-14&16383,rt=$[ze];if(rt.len)Ie-=rt.len,Oe(rt.lit,ce,Le,Ie,de,O,K,Me,Re,tt),Le=xe.c,Ie=xe.lc;else{if(!rt.p)throw"hufDecode issues";var pt;for(pt=0;pt<rt.lit;pt++){for(var vt=ue(U[rt.p[pt]]);Ie<vt&&K.value<ke;)fe(Le,Ie,de,K),Le=Q.c,Ie=Q.lc;if(Ie>=vt&&F(U[rt.p[pt]])==(Le>>Ie-vt&(1<<vt)-1)){Ie-=vt,Oe(rt.p[pt],ce,Le,Ie,de,O,K,Me,Re,tt),Le=xe.c,Ie=xe.lc;break}}if(pt==rt.lit)throw"hufDecode issues"}}var Rt=8-q&7;for(Le>>=Rt,Ie-=Rt;Ie>0;){var rt=$[Le<<14-Ie&16383];if(rt.len)Ie-=rt.len,Oe(rt.lit,ce,Le,Ie,de,O,K,Me,Re,tt),Le=xe.c,Ie=xe.lc;else throw"hufDecode issues"}return!0}function Te(U,$,de,O,K,q){var ce={value:0},ie=de.value,Me=Ze($,de),Re=Ze($,de);de.value+=4;var Le=Ze($,de);if(de.value+=4,Me<0||Me>=65537||Re<0||Re>=65537)throw"Something wrong with HUF_ENCSIZE";var Ie=new Array(65537),tt=new Array(16384);L(tt);var ke=O-(de.value-ie);if(re(U,$,de,ke,Me,Re,Ie),Le>8*(O-(de.value-ie)))throw"Something wrong with hufUncompress";Y(Ie,Me,Re,tt),Ee(Ie,tt,U,$,de,Le,Re,q,K,ce)}function J(U,$,de){for(var O=0;O<de;++O)$[O]=U[$[O]]}function Ae(U){for(var $=1;$<U.length;$++){var de=U[$-1]+U[$]-128;U[$]=de}}function ae(U,$){for(var de=0,O=Math.floor((U.length+1)/2),K=0,q=U.length-1;!(K>q||($[K++]=U[de++],K>q));)$[K++]=U[O++]}function me(U){for(var $=U.byteLength,de=new Array,O=0,K=new DataView(U);$>0;){var q=K.getInt8(O++);if(q<0){var ce=-q;$-=ce+1;for(var ie=0;ie<ce;ie++)de.push(K.getUint8(O++))}else{var ce=q;$-=2;for(var Me=K.getUint8(O++),ie=0;ie<ce+1;ie++)de.push(Me)}}return de}function ye(U,$,de,O,K,q){var Mt=new DataView(q.buffer),ce=de[U.idx[0]].width,ie=de[U.idx[0]].height,Me=3,Re=Math.floor(ce/8),Le=Math.ceil(ce/8),Ie=Math.ceil(ie/8),tt=ce-(Le-1)*8,ke=ie-(Ie-1)*8,ze={value:0},rt=new Array(Me),pt=new Array(Me),vt=new Array(Me),Rt=new Array(Me),nt=new Array(Me);for(let Vt=0;Vt<Me;++Vt)nt[Vt]=$[U.idx[Vt]],rt[Vt]=Vt<1?0:rt[Vt-1]+Le*Ie,pt[Vt]=new Float32Array(64),vt[Vt]=new Uint16Array(64),Rt[Vt]=new Uint16Array(Le*64);for(let Vt=0;Vt<Ie;++Vt){var Ye=8;Vt==Ie-1&&(Ye=ke);var Ht=8;for(let Ft=0;Ft<Le;++Ft){Ft==Le-1&&(Ht=tt);for(let Wt=0;Wt<Me;++Wt)vt[Wt].fill(0),vt[Wt][0]=K[rt[Wt]++],De(ze,O,vt[Wt]),oe(vt[Wt],pt[Wt]),I(pt[Wt]);k(pt);for(let Wt=0;Wt<Me;++Wt)he(pt[Wt],Rt[Wt],Ft*64)}let bn=0;for(let Ft=0;Ft<Me;++Ft){const Wt=de[U.idx[Ft]].type;for(let pn=8*Vt;pn<8*Vt+Ye;++pn){bn=nt[Ft][pn];for(let Wi=0;Wi<Re;++Wi){const jr=Wi*64+(pn&7)*8;Mt.setUint16(bn+0*2*Wt,Rt[Ft][jr+0],!0),Mt.setUint16(bn+1*2*Wt,Rt[Ft][jr+1],!0),Mt.setUint16(bn+2*2*Wt,Rt[Ft][jr+2],!0),Mt.setUint16(bn+3*2*Wt,Rt[Ft][jr+3],!0),Mt.setUint16(bn+4*2*Wt,Rt[Ft][jr+4],!0),Mt.setUint16(bn+5*2*Wt,Rt[Ft][jr+5],!0),Mt.setUint16(bn+6*2*Wt,Rt[Ft][jr+6],!0),Mt.setUint16(bn+7*2*Wt,Rt[Ft][jr+7],!0),bn+=8*2*Wt}}if(Re!=Le)for(let pn=8*Vt;pn<8*Vt+Ye;++pn){const Wi=nt[Ft][pn]+8*Re*2*Wt,jr=Re*64+(pn&7)*8;for(let Vs=0;Vs<Ht;++Vs)Mt.setUint16(Wi+Vs*2*Wt,Rt[Ft][jr+Vs],!0)}}}for(var Et=new Uint16Array(ce),Mt=new DataView(q.buffer),on=0;on<Me;++on){de[U.idx[on]].decoded=!0;var On=de[U.idx[on]].type;if(de[on].type==2)for(var wn=0;wn<ie;++wn){const Vt=nt[on][wn];for(var Jt=0;Jt<ce;++Jt)Et[Jt]=Mt.getUint16(Vt+Jt*2*On,!0);for(var Jt=0;Jt<ce;++Jt)Mt.setFloat32(Vt+Jt*2*On,He(Et[Jt]),!0)}}}function De(U,$,de){for(var O,K=1;K<64;)O=$[U.value],O==65280?K=64:O>>8==255?K+=O&255:(de[K]=O,K++),U.value++}function oe(U,$){$[0]=He(U[0]),$[1]=He(U[1]),$[2]=He(U[5]),$[3]=He(U[6]),$[4]=He(U[14]),$[5]=He(U[15]),$[6]=He(U[27]),$[7]=He(U[28]),$[8]=He(U[2]),$[9]=He(U[4]),$[10]=He(U[7]),$[11]=He(U[13]),$[12]=He(U[16]),$[13]=He(U[26]),$[14]=He(U[29]),$[15]=He(U[42]),$[16]=He(U[3]),$[17]=He(U[8]),$[18]=He(U[12]),$[19]=He(U[17]),$[20]=He(U[25]),$[21]=He(U[30]),$[22]=He(U[41]),$[23]=He(U[43]),$[24]=He(U[9]),$[25]=He(U[11]),$[26]=He(U[18]),$[27]=He(U[24]),$[28]=He(U[31]),$[29]=He(U[40]),$[30]=He(U[44]),$[31]=He(U[53]),$[32]=He(U[10]),$[33]=He(U[19]),$[34]=He(U[23]),$[35]=He(U[32]),$[36]=He(U[39]),$[37]=He(U[45]),$[38]=He(U[52]),$[39]=He(U[54]),$[40]=He(U[20]),$[41]=He(U[22]),$[42]=He(U[33]),$[43]=He(U[38]),$[44]=He(U[46]),$[45]=He(U[51]),$[46]=He(U[55]),$[47]=He(U[60]),$[48]=He(U[21]),$[49]=He(U[34]),$[50]=He(U[37]),$[51]=He(U[47]),$[52]=He(U[50]),$[53]=He(U[56]),$[54]=He(U[59]),$[55]=He(U[61]),$[56]=He(U[35]),$[57]=He(U[36]),$[58]=He(U[48]),$[59]=He(U[49]),$[60]=He(U[57]),$[61]=He(U[58]),$[62]=He(U[62]),$[63]=He(U[63])}function I(U){const $=.5*Math.cos(.7853975),de=.5*Math.cos(3.14159/16),O=.5*Math.cos(3.14159/8),K=.5*Math.cos(3*3.14159/16),q=.5*Math.cos(5*3.14159/16),ce=.5*Math.cos(3*3.14159/8),ie=.5*Math.cos(7*3.14159/16);for(var Me=new Array(4),Re=new Array(4),Le=new Array(4),Ie=new Array(4),tt=0;tt<8;++tt){var ke=tt*8;Me[0]=O*U[ke+2],Me[1]=ce*U[ke+2],Me[2]=O*U[ke+6],Me[3]=ce*U[ke+6],Re[0]=de*U[ke+1]+K*U[ke+3]+q*U[ke+5]+ie*U[ke+7],Re[1]=K*U[ke+1]-ie*U[ke+3]-de*U[ke+5]-q*U[ke+7],Re[2]=q*U[ke+1]-de*U[ke+3]+ie*U[ke+5]+K*U[ke+7],Re[3]=ie*U[ke+1]-q*U[ke+3]+K*U[ke+5]-de*U[ke+7],Le[0]=$*(U[ke+0]+U[ke+4]),Le[3]=$*(U[ke+0]-U[ke+4]),Le[1]=Me[0]+Me[3],Le[2]=Me[1]-Me[2],Ie[0]=Le[0]+Le[1],Ie[1]=Le[3]+Le[2],Ie[2]=Le[3]-Le[2],Ie[3]=Le[0]-Le[1],U[ke+0]=Ie[0]+Re[0],U[ke+1]=Ie[1]+Re[1],U[ke+2]=Ie[2]+Re[2],U[ke+3]=Ie[3]+Re[3],U[ke+4]=Ie[3]-Re[3],U[ke+5]=Ie[2]-Re[2],U[ke+6]=Ie[1]-Re[1],U[ke+7]=Ie[0]-Re[0]}for(var ze=0;ze<8;++ze)Me[0]=O*U[16+ze],Me[1]=ce*U[16+ze],Me[2]=O*U[48+ze],Me[3]=ce*U[48+ze],Re[0]=de*U[8+ze]+K*U[24+ze]+q*U[40+ze]+ie*U[56+ze],Re[1]=K*U[8+ze]-ie*U[24+ze]-de*U[40+ze]-q*U[56+ze],Re[2]=q*U[8+ze]-de*U[24+ze]+ie*U[40+ze]+K*U[56+ze],Re[3]=ie*U[8+ze]-q*U[24+ze]+K*U[40+ze]-de*U[56+ze],Le[0]=$*(U[ze]+U[32+ze]),Le[3]=$*(U[ze]-U[32+ze]),Le[1]=Me[0]+Me[3],Le[2]=Me[1]-Me[2],Ie[0]=Le[0]+Le[1],Ie[1]=Le[3]+Le[2],Ie[2]=Le[3]-Le[2],Ie[3]=Le[0]-Le[1],U[0+ze]=Ie[0]+Re[0],U[8+ze]=Ie[1]+Re[1],U[16+ze]=Ie[2]+Re[2],U[24+ze]=Ie[3]+Re[3],U[32+ze]=Ie[3]-Re[3],U[40+ze]=Ie[2]-Re[2],U[48+ze]=Ie[1]-Re[1],U[56+ze]=Ie[0]-Re[0]}function k(U){for(var $=0;$<64;++$){var de=U[0][$],O=U[1][$],K=U[2][$];U[0][$]=de+1.5747*K,U[1][$]=de-.1873*O-.4682*K,U[2][$]=de+1.8556*O}}function he(U,$,de){for(var O=0;O<64;++O)$[de+O]=$l.toHalfFloat(Ne(U[O]))}function Ne(U){return U<=1?Math.sign(U)*Math.pow(Math.abs(U),2.2):Math.sign(U)*Math.pow(V,Math.abs(U)-1)}function ge(U){return new DataView(U.array.buffer,U.offset.value,U.size)}function we(U){var $=U.viewer.buffer.slice(U.offset.value,U.offset.value+U.size),de=new Uint8Array(me($)),O=new Uint8Array(de.length);return Ae(de),ae(de,O),new DataView(O.buffer)}function Ge(U){var $=U.array.slice(U.offset.value,U.offset.value+U.size),de=_0($),O=new Uint8Array(de.length);return Ae(de),ae(de,O),new DataView(O.buffer)}function Ue(U){for(var $=U.viewer,de={value:U.offset.value},O=new Uint16Array(U.width*U.scanlineBlockSize*(U.channels*U.type)),K=new Uint8Array(8192),q=0,ce=new Array(U.channels),ie=0;ie<U.channels;ie++)ce[ie]={},ce[ie].start=q,ce[ie].end=ce[ie].start,ce[ie].nx=U.width,ce[ie].ny=U.lines,ce[ie].size=U.type,q+=ce[ie].nx*ce[ie].ny*ce[ie].size;var Me=ne($,de),Re=ne($,de);if(Re>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(Me<=Re)for(var ie=0;ie<Re-Me+1;ie++)K[ie+Me]=gt($,de);var Le=new Uint16Array(65536),Ie=T(K,Le),tt=Ze($,de);Te(U.array,$,de,tt,O,q);for(var ie=0;ie<U.channels;++ie)for(var ke=ce[ie],ze=0;ze<ce[ie].size;++ze)be(O,ke.start+ze,ke.nx,ke.size,ke.ny,ke.nx*ke.size,Ie);J(Le,O,q);for(var rt=0,pt=new Uint8Array(O.buffer.byteLength),vt=0;vt<U.lines;vt++)for(var Rt=0;Rt<U.channels;Rt++){var ke=ce[Rt],nt=ke.nx*ke.size,Ye=new Uint8Array(O.buffer,ke.end*2,nt*2);pt.set(Ye,rt),rt+=nt*2,ke.end+=nt}return new DataView(pt.buffer)}function Je(U){var $=U.array.slice(U.offset.value,U.offset.value+U.size),de=_0($);const O=U.lines*U.channels*U.width,K=U.type==1?new Uint16Array(O):new Uint32Array(O);let q=0,ce=0;const ie=new Array(4);for(let Me=0;Me<U.lines;Me++)for(let Re=0;Re<U.channels;Re++){let Le=0;switch(U.type){case 1:ie[0]=q,ie[1]=ie[0]+U.width,q=ie[1]+U.width;for(let Ie=0;Ie<U.width;++Ie){const tt=de[ie[0]++]<<8|de[ie[1]++];Le+=tt,K[ce]=Le,ce++}break;case 2:ie[0]=q,ie[1]=ie[0]+U.width,ie[2]=ie[1]+U.width,q=ie[2]+U.width;for(let Ie=0;Ie<U.width;++Ie){const tt=de[ie[0]++]<<24|de[ie[1]++]<<16|de[ie[2]++]<<8;Le+=tt,K[ce]=Le,ce++}break}}return new DataView(K.buffer)}function st(U){var $=U.viewer,de={value:U.offset.value},O=new Uint8Array(U.width*U.lines*(U.channels*U.type*2)),K={version:At($,de),unknownUncompressedSize:At($,de),unknownCompressedSize:At($,de),acCompressedSize:At($,de),dcCompressedSize:At($,de),rleCompressedSize:At($,de),rleUncompressedSize:At($,de),rleRawSize:At($,de),totalAcUncompressedCount:At($,de),totalDcUncompressedCount:At($,de),acCompression:At($,de)};if(K.version<2)throw"EXRLoader.parse: "+ai.compression+" version "+K.version+" is unsupported";for(var q=new Array,ce=ne($,de)-2;ce>0;){var ie=ut($.buffer,de),Me=gt($,de),Re=Me>>2&3,Le=(Me>>4)-1,Ie=new Int8Array([Le])[0],tt=gt($,de);q.push({name:ie,index:Ie,type:tt,compression:Re}),ce-=ie.length+3}for(var ke=ai.channels,ze=new Array(U.channels),rt=0;rt<U.channels;++rt){var pt=ze[rt]={},vt=ke[rt];pt.name=vt.name,pt.compression=0,pt.decoded=!1,pt.type=vt.pixelType,pt.pLinear=vt.pLinear,pt.width=U.width,pt.height=U.lines}for(var Rt={idx:new Array(3)},nt=0;nt<U.channels;++nt)for(var pt=ze[nt],rt=0;rt<q.length;++rt){var Ye=q[rt];pt.name==Ye.name&&(pt.compression=Ye.compression,Ye.index>=0&&(Rt.idx[Ye.index]=nt),pt.offset=nt)}if(K.acCompressedSize>0)switch(K.acCompression){case 0:var Mt=new Uint16Array(K.totalAcUncompressedCount);Te(U.array,$,de,K.acCompressedSize,Mt,K.totalAcUncompressedCount);break;case 1:var Ht=U.array.slice(de.value,de.value+K.totalAcUncompressedCount),Et=_0(Ht),Mt=new Uint16Array(Et.buffer);de.value+=K.totalAcUncompressedCount;break}if(K.dcCompressedSize>0){var on={array:U.array,offset:de,size:K.dcCompressedSize},On=new Uint16Array(Ge(on).buffer);de.value+=K.dcCompressedSize}if(K.rleRawSize>0){var Ht=U.array.slice(de.value,de.value+K.rleCompressedSize),Et=_0(Ht),wn=me(Et.buffer);de.value+=K.rleCompressedSize}for(var Jt=0,Vt=new Array(ze.length),rt=0;rt<Vt.length;++rt)Vt[rt]=new Array;for(var bn=0;bn<U.lines;++bn)for(var Ft=0;Ft<ze.length;++Ft)Vt[Ft].push(Jt),Jt+=ze[Ft].width*U.type*2;ye(Rt,Vt,ze,Mt,On,O);for(var rt=0;rt<ze.length;++rt){var pt=ze[rt];if(!pt.decoded)switch(pt.compression){case 2:for(var Wt=0,pn=0,bn=0;bn<U.lines;++bn){for(var Wi=Vt[rt][Wt],jr=0;jr<pt.width;++jr){for(var Vs=0;Vs<2*pt.type;++Vs)O[Wi++]=wn[pn+Vs*pt.width*pt.height];pn++}Wt++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(O.buffer)}function ut(U,$){for(var de=new Uint8Array(U),O=0;de[$.value+O]!=0;)O+=1;var K=new TextDecoder().decode(de.slice($.value,$.value+O));return $.value=$.value+O+1,K}function Fe(U,$,de){var O=new TextDecoder().decode(new Uint8Array(U).slice($.value,$.value+de));return $.value=$.value+de,O}function Dt(U,$){var de=ft(U,$),O=Ze(U,$);return[de,O]}function St(U,$){var de=Ze(U,$),O=Ze(U,$);return[de,O]}function ft(U,$){var de=U.getInt32($.value,!0);return $.value=$.value+4,de}function Ze(U,$){var de=U.getUint32($.value,!0);return $.value=$.value+4,de}function et(U,$){var de=U[$.value];return $.value=$.value+1,de}function gt(U,$){var de=U.getUint8($.value);return $.value=$.value+1,de}const At=function(U,$){let de;return"getBigInt64"in DataView.prototype?de=Number(U.getBigInt64($.value,!0)):de=U.getUint32($.value+4,!0)+Number(U.getUint32($.value,!0)<<32),$.value+=8,de};function bt(U,$){var de=U.getFloat32($.value,!0);return $.value+=4,de}function Ut(U,$){return $l.toHalfFloat(bt(U,$))}function He(U){var $=(U&31744)>>10,de=U&1023;return(U>>15?-1:1)*($?$===31?de?NaN:1/0:Math.pow(2,$-15)*(1+de/1024):6103515625e-14*(de/1024))}function ne(U,$){var de=U.getUint16($.value,!0);return $.value+=2,de}function je(U,$){return He(ne(U,$))}function $e(U,$,de,O){for(var K=de.value,q=[];de.value<K+O-1;){var ce=ut($,de),ie=ft(U,de),Me=gt(U,de);de.value+=3;var Re=ft(U,de),Le=ft(U,de);q.push({name:ce,pixelType:ie,pLinear:Me,xSampling:Re,ySampling:Le})}return de.value+=1,q}function ct(U,$){var de=bt(U,$),O=bt(U,$),K=bt(U,$),q=bt(U,$),ce=bt(U,$),ie=bt(U,$),Me=bt(U,$),Re=bt(U,$);return{redX:de,redY:O,greenX:K,greenY:q,blueX:ce,blueY:ie,whiteX:Me,whiteY:Re}}function mt(U,$){var de=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],O=gt(U,$);return de[O]}function Zt(U,$){var de=Ze(U,$),O=Ze(U,$),K=Ze(U,$),q=Ze(U,$);return{xMin:de,yMin:O,xMax:K,yMax:q}}function rn(U,$){var de=["INCREASING_Y"],O=gt(U,$);return de[O]}function Fn(U,$){var de=bt(U,$),O=bt(U,$);return[de,O]}function gr(U,$){var de=bt(U,$),O=bt(U,$),K=bt(U,$);return[de,O,K]}function sn(U,$,de,O,K){if(O==="string"||O==="stringvector"||O==="iccProfile")return Fe($,de,K);if(O==="chlist")return $e(U,$,de,K);if(O==="chromaticities")return ct(U,de);if(O==="compression")return mt(U,de);if(O==="box2i")return Zt(U,de);if(O==="lineOrder")return rn(U,de);if(O==="float")return bt(U,de);if(O==="v2f")return Fn(U,de);if(O==="v3f")return gr(U,de);if(O==="int")return ft(U,de);if(O==="rational")return Dt(U,de);if(O==="timecode")return St(U,de);if(O==="preview")return de.value+=K,"skipped";de.value+=K}function qn(U,$,de){const O={};if(U.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";O.version=U.getUint8(4);const K=U.getUint8(5);O.spec={singleTile:!!(K&2),longName:!!(K&4),deepFormat:!!(K&8),multiPart:!!(K&16)},de.value=8;for(var q=!0;q;){var ce=ut($,de);if(ce==0)q=!1;else{var ie=ut($,de),Me=Ze(U,de),Re=sn(U,$,de,ie,Me);Re===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${ie}'.`):O[ce]=Re}}if(K&-5)throw console.error("EXRHeader:",O),"THREE.EXRLoader: provided file is currently unsupported.";return O}function oi(U,$,de,O,K){const q={size:0,viewer:$,array:de,offset:O,width:U.dataWindow.xMax-U.dataWindow.xMin+1,height:U.dataWindow.yMax-U.dataWindow.yMin+1,channels:U.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:U.channels[0].pixelType,uncompress:null,getter:null,format:null,[Md?"colorSpace":"encoding"]:null};switch(U.compression){case"NO_COMPRESSION":q.lines=1,q.uncompress=ge;break;case"RLE_COMPRESSION":q.lines=1,q.uncompress=we;break;case"ZIPS_COMPRESSION":q.lines=1,q.uncompress=Ge;break;case"ZIP_COMPRESSION":q.lines=16,q.uncompress=Ge;break;case"PIZ_COMPRESSION":q.lines=32,q.uncompress=Ue;break;case"PXR24_COMPRESSION":q.lines=16,q.uncompress=Je;break;case"DWAA_COMPRESSION":q.lines=32,q.uncompress=st;break;case"DWAB_COMPRESSION":q.lines=256,q.uncompress=st;break;default:throw"EXRLoader.parse: "+U.compression+" is unsupported"}if(q.scanlineBlockSize=q.lines,q.type==1)switch(K){case rr:q.getter=je,q.inputSize=2;break;case kr:q.getter=ne,q.inputSize=2;break}else if(q.type==2)switch(K){case rr:q.getter=bt,q.inputSize=4;break;case kr:q.getter=Ut,q.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+q.type+" for "+U.compression+".";q.blockCount=(U.dataWindow.yMax+1)/q.scanlineBlockSize;for(var ce=0;ce<q.blockCount;ce++)At($,O);q.outputChannels=q.channels==3?4:q.channels;const ie=q.width*q.height*q.outputChannels;switch(K){case rr:q.byteArray=new Float32Array(ie),q.channels<q.outputChannels&&q.byteArray.fill(1,0,ie);break;case kr:q.byteArray=new Uint16Array(ie),q.channels<q.outputChannels&&q.byteArray.fill(15360,0,ie);break;default:console.error("THREE.EXRLoader: unsupported type: ",K);break}return q.bytesPerLine=q.width*q.inputSize*q.channels,q.outputChannels==4?q.format=Fr:q.format=Zx,Md?q.colorSpace="srgb-linear":q.encoding=3e3,q}const Gs=new DataView(e),fl=new Uint8Array(e),Vi={value:0},ai=qn(Gs,e,Vi),Nt=oi(ai,Gs,fl,Vi,this.type),dl={value:0},wc={R:0,G:1,B:2,A:3,Y:0};for(let U=0;U<Nt.height/Nt.scanlineBlockSize;U++){const $=Ze(Gs,Vi);Nt.size=Ze(Gs,Vi),Nt.lines=$+Nt.scanlineBlockSize>Nt.height?Nt.height-$:Nt.scanlineBlockSize;const O=Nt.size<Nt.lines*Nt.bytesPerLine?Nt.uncompress(Nt):ge(Nt);Vi.value+=Nt.size;for(let K=0;K<Nt.scanlineBlockSize;K++){const q=K+U*Nt.scanlineBlockSize;if(q>=Nt.height)break;for(let ce=0;ce<Nt.channels;ce++){const ie=wc[ai.channels[ce].name];for(let Me=0;Me<Nt.width;Me++){dl.value=(K*(Nt.channels*Nt.width)+ce*Nt.width+Me)*Nt.inputSize;const Re=(Nt.height-1-q)*(Nt.width*Nt.outputChannels)+Me*Nt.outputChannels+ie;Nt.byteArray[Re]=Nt.getter(O,dl)}}}}return{header:ai,width:Nt.width,height:Nt.height,data:Nt.byteArray,format:Nt.format,[Md?"colorSpace":"encoding"]:Nt[Md?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){Md?o.colorSpace=a.colorSpace:o.encoding=a.encoding,o.minFilter=Ct,o.magFilter=Ct,o.generateMipmaps=!1,o.flipY=!1,t&&t(o,a)}return super.load(e,s,r,i)}}const Ey=new WeakMap;class YW extends Sr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new Ei(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if(Ey.has(e)){const l=Ey.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),Ey.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new Pt;e.index&&t.setIndex(new Kt(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new Kt(o,a))}return t}_loadLibrary(e,t){const r=new Ei(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=KW.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function KW(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(h){u({draco:h})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const h=u.draco,p=new h.Decoder,m=new h.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=t(h,p,m,c),x=v.attributes.map(y=>y.array.buffer);v.index&&x.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},x)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{h.destroy(m),h.destroy(p)}});break}};function t(o,a,l,c){const u=c.attributeIDs,h=c.attributeTypes;let p,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(v===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const x={index:null,attributes:[]};for(const y in u){const g=self[h[y]];let A,_;if(c.useUniqueIDs)_=u[y],A=a.GetAttributeByUniqueId(p,_);else{if(_=a.GetAttributeId(p,o[u[y]]),_===-1)continue;A=a.GetAttribute(p,_)}x.attributes.push(i(o,a,p,y,g,A))}return v===o.TRIANGULAR_MESH&&(x.index=r(o,a,p)),o.destroy(p),x}function r(o,a,l){const u=l.num_faces()*3,h=u*4,p=o._malloc(h);a.GetTrianglesUInt32Array(l,h,p);const m=new Uint32Array(o.HEAPF32.buffer,p,u).slice();return o._free(p),{array:m,itemSize:1}}function i(o,a,l,c,u,h){const p=h.num_components(),v=l.num_points()*p,x=v*u.BYTES_PER_ELEMENT,y=s(o,u),g=o._malloc(x);a.GetAttributeDataArrayForAllPoints(l,h,y,x,g);const A=new u(o.HEAPF32.buffer,g,v).slice();return o._free(g),{name:c,array:A,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let x0;const Ay=()=>{if(x0)return x0;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function a(h){const p=new Uint8Array(h.length);for(let v=0;v<h.length;++v){const x=h.charCodeAt(v);p[v]=x>96?x-71:x>64?x-65:x>47?x+4:x>46?63:62}let m=0;for(let v=0;v<h.length;++v)p[m++]=p[v]<60?r[p[v]]:(p[v]-60)*64+p[++v];return p.buffer.slice(0,m)}function l(h,p,m,v,x,y){const g=s.exports.sbrk,A=m+3&-4,_=g(A*v),M=g(x.length),R=new Uint8Array(s.exports.memory.buffer);R.set(x,M);const b=h(_,m,v,M,x.length);if(b===0&&y&&y(_,A,v),p.set(R.subarray(_,_+m*v)),g(_-g(0)),b!==0)throw new Error(`Malformed buffer data: ${b}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return x0={ready:o,supported:!0,decodeVertexBuffer(h,p,m,v,x){l(s.exports.meshopt_decodeVertexBuffer,h,p,m,v,s.exports[c[x]])},decodeIndexBuffer(h,p,m,v){l(s.exports.meshopt_decodeIndexBuffer,h,p,m,v)},decodeIndexSequence(h,p,m,v){l(s.exports.meshopt_decodeIndexSequence,h,p,m,v)},decodeGltfBuffer(h,p,m,v,x,y){l(s.exports[u[x]],h,p,m,v,s.exports[c[y]])}},x0};function up(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}const ZW="modulepreload",QW=function(n,e){return new URL(n,e).href},Q9={},qW=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){const s=document.getElementsByTagName("link");i=Promise.all(t.map(o=>{if(o=QW(o,r),o in Q9)return;Q9[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let h=s.length-1;h>=0;h--){const p=s[h];if(p.href===o&&(!a||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":ZW,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((h,p)=>{u.addEventListener("load",h),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},q9=w.forwardRef(({sdfGlyphSize:n=64,anchorX:e="center",anchorY:t="middle",font:r,fontSize:i=1,children:s,characters:o,onSync:a,...l},c)=>{const{Text:u,preloadFont:h}=v_(async()=>qW(()=>import("./troika-three-text.esm-iErbOgK2.js"),__vite__mapDeps([]),import.meta.url),[]),p=Ar(({invalidate:y})=>y),[m]=w.useState(()=>new u),[v,x]=w.useMemo(()=>{const y=[];let g="";return w.Children.forEach(s,A=>{typeof A=="string"||typeof A=="number"?g+=A:y.push(A)}),[y,g]},[s]);return v_(()=>new Promise(y=>h({font:r,characters:o},y)),["troika-text",r,o]),w.useLayoutEffect(()=>void m.sync(()=>{p(),a&&a(m)})),w.useEffect(()=>()=>m.dispose(),[m]),w.createElement("primitive",hn({object:m,ref:c,font:r,text:x,anchorX:e,anchorY:t,fontSize:i,sdfGlyphSize:n},l),v)}),eM=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function ul(n,e){const t=Ar(i=>i.gl),r=Qo(sp,eM(n)?Object.values(n):n);if(w.useLayoutEffect(()=>{e==null||e(r)},[e]),w.useEffect(()=>{"initTexture"in t&&(Array.isArray(r)?r:[r]).forEach(t.initTexture)},[t,r]),eM(n)){const i={};let s=0;for(const o in n)i[o]=r[s++];return i}else return r}ul.preload=n=>Qo.preload(sp,n);ul.clear=n=>Qo.clear(sp,n);let E0=null,FT="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function OT(n,e,t){return r=>{t&&t(r),n&&(E0||(E0=new YW),E0.setDecoderPath(typeof n=="string"?n:FT),r.setDRACOLoader(E0)),e&&r.setMeshoptDecoder(typeof Ay=="function"?Ay():Ay)}}function Ec(n,e=!0,t=!0,r){return Qo(X4,n,OT(e,t,r))}Ec.preload=(n,e=!0,t=!0,r)=>Qo.preload(X4,n,OT(e,t,r));Ec.clear=n=>Qo.clear(X4,n);Ec.setDecoderPath=n=>{FT=n};function ej(n,e,t){const r=Ar(p=>p.size),i=Ar(p=>p.viewport),s=typeof n=="number"?n:r.width*i.dpr,o=typeof e=="number"?e:r.height*i.dpr,a=(typeof n=="number"?t:n)||{},{samples:l=0,depth:c,...u}=a,h=w.useMemo(()=>{const p=new ms(s,o,{minFilter:Ct,magFilter:Ct,type:kr,...u});return c&&(p.depthTexture=new mg(s,o,rr)),p.samples=l,p},[]);return w.useLayoutEffect(()=>{h.setSize(s,o),l&&(h.samples=l)},[l,h,s,o]),w.useEffect(()=>()=>h.dispose(),[]),h}const tj=n=>typeof n=="function",nj=w.forwardRef(({envMap:n,resolution:e=256,frames:t=1/0,makeDefault:r,children:i,...s},o)=>{const a=Ar(({set:y})=>y),l=Ar(({camera:y})=>y),c=Ar(({size:y})=>y),u=w.useRef(null);w.useImperativeHandle(o,()=>u.current,[]);const h=w.useRef(null),p=ej(e);w.useLayoutEffect(()=>{s.manual||(u.current.aspect=c.width/c.height)},[c,s]),w.useLayoutEffect(()=>{u.current.updateProjectionMatrix()});let m=0,v=null;const x=tj(i);return Gi(y=>{x&&(t===1/0||m<t)&&(h.current.visible=!1,y.gl.setRenderTarget(p),v=y.scene.background,n&&(y.scene.background=n),y.gl.render(y.scene,u.current),y.scene.background=v,y.gl.setRenderTarget(null),h.current.visible=!0,m++)}),w.useLayoutEffect(()=>{if(r){const y=l;return a(()=>({camera:u.current})),()=>a(()=>({camera:y}))}},[u,r,a]),w.createElement(w.Fragment,null,w.createElement("perspectiveCamera",hn({ref:u},s),!x&&i),w.createElement("group",{ref:h},x&&i(p.texture)))});function J4(n,e){const t=w.useRef(),[r]=w.useState(()=>e?e instanceof Bt?{current:e}:e:t),[i]=w.useState(()=>new Gb(void 0));w.useLayoutEffect(()=>{e&&(r.current=e instanceof Bt?e:e.current),i._root=r.current});const s=w.useRef({}),o=w.useMemo(()=>{const a={};return n.forEach(l=>Object.defineProperty(a,l.name,{enumerable:!0,get(){if(r.current)return s.current[l.name]||(s.current[l.name]=i.clipAction(l,r.current))},configurable:!0})),{ref:r,clips:n,actions:a,names:n.map(l=>l.name),mixer:i}},[n]);return Gi((a,l)=>i.update(l)),w.useEffect(()=>{const a=r.current;return()=>{s.current={},i.stopAllAction(),Object.values(o.actions).forEach(l=>{a&&i.uncacheAction(l,a)})}},[n]),o}var kT={exports:{}},rj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ij=rj,sj=ij;function UT(){}function zT(){}zT.resetWarningCache=UT;var oj=function(){function n(r,i,s,o,a,l){if(l!==sj){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:zT,resetWarningCache:UT};return t.PropTypes=t,t};kT.exports=oj();var aj=kT.exports;const mn=rl(aj),lj=w.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:s=[-.1,.1],...o},a)=>{const l=w.useRef(null);w.useImperativeHandle(a,()=>l.current,[]);const c=w.useRef(Math.random()*1e4);return Gi(u=>{var h,p;if(!e||t===0)return;const m=c.current+u.clock.getElapsedTime();l.current.rotation.x=Math.cos(m/4*t)/8*r,l.current.rotation.y=Math.sin(m/4*t)/8*r,l.current.rotation.z=Math.sin(m/4*t)/20*r;let v=Math.sin(m/4*t)/10;v=Jh.mapLinear(v,-.1,.1,(h=s==null?void 0:s[0])!==null&&h!==void 0?h:-.1,(p=s==null?void 0:s[1])!==null&&p!==void 0?p:.1),l.current.position.y=v*i,l.current.updateMatrix()}),w.createElement("group",o,w.createElement("group",{ref:l,matrixAutoUpdate:!1},n))}),wy={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},cj="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",tM=n=>Array.isArray(n);function HT({files:n=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:t=void 0,encoding:r=void 0,extensions:i}={}){var s;let o=null,a=!1,l;if(t){if(!(t in wy))throw new Error("Preset must be one of: "+Object.keys(wy).join(", "));n=wy[t],e=cj}if(a=tM(n),l=tM(n)?"cube":n.startsWith("data:application/exr")?"exr":n.startsWith("data:application/hdr")?"hdr":(s=n.split(".").pop())==null||(s=s.split("?"))==null||(s=s.shift())==null?void 0:s.toLowerCase(),o=a?Pb:l==="hdr"?XW:l==="exr"?JW:null,!o)throw new Error("useEnvironment: Unrecognized file extension: "+n);const c=Qo(o,a?[n]:n,m=>{m.setPath==null||m.setPath(e),i&&i(m)}),u=a?c[0]:c;u.mapping=a?co:Ku;const h=3001,p=3e3;return"colorSpace"in u?u.colorSpace=r??a?"srgb":"srgb-linear":u.encoding=r??a?h:p,u}const uj=n=>n.current&&n.current.isScene,fj=n=>uj(n)?n.current:n;function Y4(n,e,t,r,i=0){const s=fj(e||t),o=s.background,a=s.environment,l=s.backgroundBlurriness||0;return n!=="only"&&(s.environment=r),n&&(s.background=r),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=i),()=>{n!=="only"&&(s.environment=a),n&&(s.background=o),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=l)}}function K4({scene:n,background:e=!1,blur:t,map:r}){const i=Ar(s=>s.scene);return w.useLayoutEffect(()=>{if(r)return Y4(e,n,i,r,t)},[i,n,r,e,t]),null}function GT({background:n=!1,scene:e,blur:t,...r}){const i=HT(r),s=Ar(o=>o.scene);return w.useLayoutEffect(()=>Y4(n,e,s,i,t),[i,n,e,s,t]),null}function dj({children:n,near:e=1,far:t=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,scene:l,files:c,path:u,preset:h=void 0,extensions:p}){const m=Ar(_=>_.gl),v=Ar(_=>_.scene),x=w.useRef(null),[y]=w.useState(()=>new Ka),g=w.useMemo(()=>{const _=new f4(r);return _.texture.type=kr,_},[r]);w.useLayoutEffect(()=>(i===1&&x.current.update(m,y),Y4(o,l,v,g.texture,a)),[n,y,g.texture,l,v,o,i,m]);let A=1;return Gi(()=>{(i===1/0||A<i)&&(x.current.update(m,y),A++)}),w.createElement(w.Fragment,null,aG(w.createElement(w.Fragment,null,n,w.createElement("cubeCamera",{ref:x,args:[e,t,g]}),c||h?w.createElement(GT,{background:!0,files:c,preset:h,path:u,extensions:p}):s?w.createElement(K4,{background:!0,map:s,extensions:p}):null),y))}function hj(n){var e,t,r,i;const s=HT(n),o=n.map||s;w.useMemo(()=>Qb({GroundProjectedEnvImpl:pW}),[]);const a=w.useMemo(()=>[o],[o]),l=(e=n.ground)==null?void 0:e.height,c=(t=n.ground)==null?void 0:t.radius,u=(r=(i=n.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return w.createElement(w.Fragment,null,w.createElement(K4,hn({},n,{map:o})),w.createElement("groundProjectedEnvImpl",{args:a,scale:u,height:l,radius:c}))}function pj(n){return n.ground?w.createElement(hj,n):n.map?w.createElement(K4,n):n.children?w.createElement(dj,n):w.createElement(GT,n)}const mj=w.forwardRef(({args:n,map:e,toneMapped:t=!1,color:r="white",form:i="rect",intensity:s=1,scale:o=1,target:a,children:l,...c},u)=>{const h=w.useRef(null);return w.useImperativeHandle(u,()=>h.current,[]),w.useLayoutEffect(()=>{!l&&!c.material&&(kl(h.current.material,{color:r}),h.current.material.color.multiplyScalar(s))},[r,s,l,c.material]),w.useLayoutEffect(()=>{a&&h.current.lookAt(Array.isArray(a)?new Z(...a):a)},[a]),o=Array.isArray(o)&&o.length===2?[o[0],o[1],1]:o,w.createElement("mesh",hn({ref:h,scale:o},c),i==="circle"?w.createElement("ringGeometry",{args:[0,1,64]}):i==="ring"?w.createElement("ringGeometry",{args:[.5,1,64]}):i==="rect"?w.createElement("planeGeometry",null):w.createElement(i,{args:n}),l||(c.material?null:w.createElement("meshBasicMaterial",{toneMapped:t,map:e,side:qr})))});var VT={exports:{}},WT={},jT={exports:{}},$T={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af=w;function gj(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var vj=typeof Object.is=="function"?Object.is:gj,yj=af.useState,_j=af.useEffect,xj=af.useLayoutEffect,Ej=af.useDebugValue;function Aj(n,e){var t=e(),r=yj({inst:{value:t,getSnapshot:e}}),i=r[0].inst,s=r[1];return xj(function(){i.value=t,i.getSnapshot=e,Sy(i)&&s({inst:i})},[n,t,e]),_j(function(){return Sy(i)&&s({inst:i}),n(function(){Sy(i)&&s({inst:i})})},[n]),Ej(t),t}function Sy(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!vj(n,t)}catch{return!0}}function wj(n,e){return e()}var Sj=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?wj:Aj;$T.useSyncExternalStore=af.useSyncExternalStore!==void 0?af.useSyncExternalStore:Sj;jT.exports=$T;var Mj=jT.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg=w,Cj=Mj;function bj(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Tj=typeof Object.is=="function"?Object.is:bj,Rj=Cj.useSyncExternalStore,Pj=kg.useRef,Ij=kg.useEffect,Lj=kg.useMemo,Bj=kg.useDebugValue;WT.useSyncExternalStoreWithSelector=function(n,e,t,r,i){var s=Pj(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Lj(function(){function l(m){if(!c){if(c=!0,u=m,m=r(m),i!==void 0&&o.hasValue){var v=o.value;if(i(v,m))return h=v}return h=m}if(v=h,Tj(u,m))return v;var x=r(m);return i!==void 0&&i(v,x)?v:(u=m,h=x)}var c=!1,u,h,p=t===void 0?null:t;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,t,r,i]);var a=Rj(n,s[0],s[1]);return Ij(function(){o.hasValue=!0,o.value=a},[a]),Bj(a),a};VT.exports=WT;var Dj=VT.exports;const Nj=rl(Dj);function Fj(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function XT(...n){return e=>n.forEach(t=>Fj(t,e))}function Sf(...n){return w.useCallback(XT(...n),n)}const JT=w.forwardRef((n,e)=>{const{children:t,...r}=n,i=w.Children.toArray(t),s=i.find(Oj);if(s){const o=s.props.children,a=i.map(l=>l===s?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:l);return w.createElement(T_,hn({},r,{ref:e}),w.isValidElement(o)?w.cloneElement(o,void 0,a):null)}return w.createElement(T_,hn({},r,{ref:e}),t)});JT.displayName="Slot";const T_=w.forwardRef((n,e)=>{const{children:t,...r}=n;return w.isValidElement(t)?w.cloneElement(t,{...kj(r,t.props),ref:e?XT(e,t.ref):t.ref}):w.Children.count(t)>1?w.Children.only(null):null});T_.displayName="SlotClone";const YT=({children:n})=>w.createElement(w.Fragment,null,n);function Oj(n){return w.isValidElement(n)&&n.type===YT}function kj(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{s(...a),i(...a)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}const Uj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ac=Uj.reduce((n,e)=>{const t=w.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?JT:e;return w.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),w.createElement(a,hn({},o,{ref:i}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function zj(n,e){n&&jh.flushSync(()=>n.dispatchEvent(e))}const Hj=w.forwardRef((n,e)=>{var t;const{container:r=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...i}=n;return r?k7.createPortal(w.createElement(Ac.div,hn({},i,{ref:e})),r):null}),Gj=Hj;var nM=Object.prototype.hasOwnProperty;function Nh(n,e){var t,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Nh(n[r],e[r]););return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(nM.call(n,t)&&++r&&!nM.call(e,t)||!(t in e)||!Nh(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}var Ug=function(e,t,r,i){this.name=e,this.fn=t,this.args=r,this.modifiers=i};Ug.prototype._test=function(e){var t=this.fn;try{Hu(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return Hu(this.modifiers.slice(),t,this)(e)}catch{return!1}};Ug.prototype._check=function(e){try{Hu(this.modifiers.slice(),this.fn,this)(e)}catch{if(Hu(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!Hu(this.modifiers.slice(),this.fn,this)(e))throw null};Ug.prototype._testAsync=function(e){var t=this;return new Promise(function(r,i){ZT(t.modifiers.slice(),t.fn,t)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function KT(n,e){return e===void 0&&(e="simple"),typeof n=="object"?n[e]:n}function Hu(n,e,t){if(n.length){var r=n.shift(),i=Hu(n,e,t);return r.perform(i,t)}else return KT(e)}function ZT(n,e,t){if(n.length){var r=n.shift(),i=ZT(n,e,t);return r.performAsync(i,t)}else return function(s){return Promise.resolve(KT(e,"async")(s))}}var Vj=function(e,t,r){this.name=e,this.perform=t,this.performAsync=r},Z4=function(n){function e(t,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];n.call(this,o),n.captureStackTrace&&n.captureStackTrace(this,e),this.rule=t,this.value=r,this.cause=i,this.target=s}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),uo=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};uo.prototype._applyRule=function(e,t){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new Ug(t,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};uo.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new Vj(t,e.simple,e.async)),this};uo.prototype._clone=function(){return new uo(this.chain.slice(),this.nextRuleModifiers.slice())};uo.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};uo.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){t.push(new Z4(r,e,i))}}),t};uo.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(r){throw new Z4(t,e,r)}})};uo.prototype.testAsync=function(e){var t=this;return new Promise(function(r,i){QT(e,t.chain.slice(),r,i)})};function QT(n,e,t,r){if(e.length){var i=e.shift();i._testAsync(n).then(function(){QT(n,e,t,r)},function(s){r(new Z4(i,n,s))})}else t(n)}var rM=function(n,e){return e&&typeof n=="string"&&n.trim().length===0?!0:n==null};function Wj(n,e){return e===void 0&&(e=!1),{simple:function(t){return rM(t,e)||n.check(t)===void 0},async:function(t){return rM(t,e)||n.testAsync(t)}}}function gi(){return typeof Proxy<"u"?qT(new uo):R_(new uo)}var Fh={};gi.extend=function(n){Object.assign(Fh,n)};gi.clearCustomRules=function(){Fh={}};function qT(n){return new Proxy(n,{get:function(t,r){if(r in t)return t[r];var i=qT(n._clone());if(r in Im)return i._applyModifier(Im[r],r);if(r in Fh)return i._applyRule(Fh[r],r);if(r in P_)return i._applyRule(P_[r],r)}})}function R_(n){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=R_(s._clone()),u=c._applyRule(i[o],o).apply(void 0,a);return u}}),s},t=e(P_,n),r=e(Fh,t);return Object.keys(Im).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=R_(r._clone());return s._applyModifier(Im[i],i)}})}),r}var Im={not:{simple:function(n){return function(e){return!n(e)}},async:function(n){return function(e){return Promise.resolve(n(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(n){return function(e){return A0(e).some(function(t){try{return n(t)}catch{return!1}})}},async:function(n){return function(e){return Promise.all(A0(e).map(function(t){try{return n(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(n){return function(e){return e!==!1&&A0(e).every(n)}},async:function(n){return function(e){return Promise.all(A0(e).map(n)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(n,e){return function(t){return iM(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n(t):n(t)}},async:function(n,e){return function(t){return Promise.resolve(n(t)).then(function(r){return iM(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&r:r}).catch(function(){return!1})}}}};function iM(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function A0(n){return typeof n=="string"?n.split(""):n}var P_={equal:function(n){return function(e){return e==n}},exact:function(n){return function(e){return e===n}},number:function(n){return n===void 0&&(n=!0),function(e){return typeof e=="number"&&(n||isFinite(e))}},integer:function(){return function(n){var e=Number.isInteger||jj;return e(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return lu("string")},boolean:function(){return lu("boolean")},undefined:function(){return lu("undefined")},null:function(){return lu("null")},array:function(){return lu("array")},object:function(){return lu("object")},instanceOf:function(n){return function(e){return e instanceof n}},pattern:function(n){return function(e){return n.test(e)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(e){return e[0]==n}},last:function(n){return function(e){return e[e.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,e){return function(t){return t.length>=n&&t.length<=(e||n)}},minLength:function(n){return function(e){return e.length>=n}},maxLength:function(n){return function(e){return e.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,e){return function(t){return t>=n&&t<=e}},range:function(n,e){return function(t){return t>=n&&t<=e}},lessThan:function(n){return function(e){return e<n}},lessThanOrEqual:function(n){return function(e){return e<=n}},greaterThan:function(n){return function(e){return e>n}},greaterThanOrEqual:function(n){return function(e){return e>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(e){return~e.indexOf(n)}},schema:function(n){return $j(n)},passesAnyOf:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t){return n.some(function(r){return r.test(t)})}},optional:Wj};function lu(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function jj(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function $j(n){return{simple:function(e){var t=[];if(Object.keys(n).forEach(function(r){var i=n[r];try{i.check((e||{})[r])}catch(s){s.target=r,t.push(s)}}),t.length>0)throw t;return!0},async:function(e){var t=[],r=Object.keys(n).map(function(i){var s=n[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,t.push(o)})});return Promise.all(r).then(function(){if(t.length>0)throw t;return!0})}}}var cn="colors",Yr="sizes",at="space",Xj={gap:at,gridGap:at,columnGap:at,gridColumnGap:at,rowGap:at,gridRowGap:at,inset:at,insetBlock:at,insetBlockEnd:at,insetBlockStart:at,insetInline:at,insetInlineEnd:at,insetInlineStart:at,margin:at,marginTop:at,marginRight:at,marginBottom:at,marginLeft:at,marginBlock:at,marginBlockEnd:at,marginBlockStart:at,marginInline:at,marginInlineEnd:at,marginInlineStart:at,padding:at,paddingTop:at,paddingRight:at,paddingBottom:at,paddingLeft:at,paddingBlock:at,paddingBlockEnd:at,paddingBlockStart:at,paddingInline:at,paddingInlineEnd:at,paddingInlineStart:at,top:at,right:at,bottom:at,left:at,scrollMargin:at,scrollMarginTop:at,scrollMarginRight:at,scrollMarginBottom:at,scrollMarginLeft:at,scrollMarginX:at,scrollMarginY:at,scrollMarginBlock:at,scrollMarginBlockEnd:at,scrollMarginBlockStart:at,scrollMarginInline:at,scrollMarginInlineEnd:at,scrollMarginInlineStart:at,scrollPadding:at,scrollPaddingTop:at,scrollPaddingRight:at,scrollPaddingBottom:at,scrollPaddingLeft:at,scrollPaddingX:at,scrollPaddingY:at,scrollPaddingBlock:at,scrollPaddingBlockEnd:at,scrollPaddingBlockStart:at,scrollPaddingInline:at,scrollPaddingInlineEnd:at,scrollPaddingInlineStart:at,fontSize:"fontSizes",background:cn,backgroundColor:cn,backgroundImage:cn,borderImage:cn,border:cn,borderBlock:cn,borderBlockEnd:cn,borderBlockStart:cn,borderBottom:cn,borderBottomColor:cn,borderColor:cn,borderInline:cn,borderInlineEnd:cn,borderInlineStart:cn,borderLeft:cn,borderLeftColor:cn,borderRight:cn,borderRightColor:cn,borderTop:cn,borderTopColor:cn,caretColor:cn,color:cn,columnRuleColor:cn,fill:cn,outline:cn,outlineColor:cn,stroke:cn,textDecorationColor:cn,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Yr,minBlockSize:Yr,maxBlockSize:Yr,inlineSize:Yr,minInlineSize:Yr,maxInlineSize:Yr,width:Yr,minWidth:Yr,maxWidth:Yr,height:Yr,minHeight:Yr,maxHeight:Yr,flexBasis:Yr,gridTemplateColumns:Yr,gridTemplateRows:Yr,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},Jj=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Mf=()=>{const n=Object.create(null);return(e,t,...r)=>{const i=(s=>JSON.stringify(s,Jj))(e);return i in n?n[i]:n[i]=t(e,...r)}},rc=Symbol.for("sxs.internal"),Q4=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),sM=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:Yj}=Object.prototype,I_=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),Kj=/\s+(?![^()]*\))/,cu=n=>e=>n(...typeof e=="string"?String(e).split(Kj):[e]),oM={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:cu((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:cu((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:cu((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:cu((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:cu((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:cu((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},My=/([\d.]+)([^]*)/,Zj=(n,e)=>n.length?n.reduce((t,r)=>(t.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),t),[]):e,Qj=(n,e)=>n in qj&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${I_(n)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${I_(n)}:${r}fit-content`)+s):String(e),qj={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},$o=n=>n?n+"-":"",eR=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?$o(e)+(a.includes("$")?"":$o(t))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),e$=/\s*,\s*(?![^()]*\))/,t$=Object.prototype.toString,Ru=(n,e,t,r,i)=>{let s,o,a;const l=(c,u,h)=>{let p,m;const v=x=>{for(p in x){const A=p.charCodeAt(0)===64,_=A&&Array.isArray(x[p])?x[p]:[x[p]];for(m of _){const M=/[A-Z]/.test(g=p)?g:g.replace(/-[^]/g,b=>b[1].toUpperCase()),R=typeof m=="object"&&m&&m.toString===t$&&(!r.utils[M]||!u.length);if(M in r.utils&&!R){const b=r.utils[M];if(b!==o){o=b,v(b(m)),o=null;continue}}else if(M in oM){const b=oM[M];if(b!==a){a=b,v(b(m)),a=null;continue}}if(A&&(y=p.slice(1)in r.media?"@media "+r.media[p.slice(1)]:p,p=y.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(b,P,D,V,T,L)=>{const G=My.test(P),se=.0625*(G?-1:1),[W,te]=G?[V,P]:[P,V];return"("+(D[0]==="="?"":D[0]===">"===G?"max-":"min-")+W+":"+(D[0]!=="="&&D.length===1?te.replace(My,(re,ue,F)=>Number(ue)+se*(D===">"?1:-1)+F):te)+(T?") and ("+(T[0]===">"?"min-":"max-")+W+":"+(T.length===1?L.replace(My,(re,ue,F)=>Number(ue)+se*(T===">"?-1:1)+F):L):"")+")"})),R){const b=A?h.concat(p):[...h],P=A?[...u]:Zj(u,p.split(e$));s!==void 0&&i(aM(...s)),s=void 0,l(m,P,b)}else s===void 0&&(s=[[],u,h]),p=A||p.charCodeAt(0)!==36?p:`--${$o(r.prefix)}${p.slice(1).replace(/\$/g,"-")}`,m=R?m:typeof m=="number"?m&&M in n$?String(m)+"px":String(m):eR(Qj(M,m??""),r.prefix,r.themeMap[M]),s[0].push(`${A?`${p} `:`${I_(p)}:`}${m}`)}}var y,g};v(c),s!==void 0&&i(aM(...s)),s=void 0};l(n,e,t)},aM=(n,e,t)=>`${t.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,n$={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},lM=n=>String.fromCharCode(n+(n>25?39:97)),ic=n=>(e=>{let t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=lM(t%52)+r;return lM(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(n))>>>0),Fd=["themed","global","styled","onevar","resonevar","allvar","inline"],r$=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},i$=n=>{let e;const t=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===s)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const i=Object(n).styleSheets||[];for(const a of i)if(r$(a)){for(let l=0,c=a.cssRules;c[l];++l){const u=Object(c[l]);if(u.type!==1)continue;const h=Object(c[l+1]);if(h.type!==4)continue;++l;const{cssText:p}=u;if(!p.startsWith("--sxs"))continue;const m=p.slice(14,-3).trim().split(/\s+/),v=Fd[m[0]];v&&(e||(e={sheet:a,reset:r,rules:{},toString:t}),e.rules[v]={group:h,index:l,cache:new Set(m)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(u,h){this.cssRules.splice(h,0,a(u,{import:3,undefined:1}[(u.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,u=>u.cssText).join("")}}`:l}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:t}}const{sheet:s,rules:o}=e;for(let a=Fd.length-1;a>=0;--a){const l=Fd[a];if(!o[l]){const c=Fd[a+1],u=o[c]?o[c].index:s.cssRules.length;s.insertRule("@media{}",u),s.insertRule(`--sxs{--sxs:${a}}`,u),o[l]={group:s.cssRules[u+1],index:u,cache:new Set([a])}}s$(o[l])}};return r(),e},s$=n=>{const e=n.group;let t=e.cssRules.length;n.apply=r=>{try{e.insertRule(r,t),++t}catch{}}},Cd=Symbol(),o$=Mf(),cM=(n,e)=>o$(n,()=>(...t)=>{let r={type:null,composers:new Set};for(const i of t)if(i!=null)if(i[rc]){r.type==null&&(r.type=i[rc].type);for(const s of i[rc].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(a$(i,n));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),l$(n,r,e)}),a$=({variants:n,compoundVariants:e,defaultVariants:t,...r},i)=>{const s=`${$o(i.prefix)}c-${ic(r)}`,o=[],a=[],l=Object.create(null),c=[];for(const p in t)l[p]=String(t[p]);if(typeof n=="object"&&n)for(const p in n){u=l,h=p,Yj.call(u,h)||(l[p]="undefined");const m=n[p];for(const v in m){const x={[p]:String(v)};String(v)==="undefined"&&c.push(p);const y=m[v],g=[x,y,!sM(y)];o.push(g)}}var u,h;if(typeof e=="object"&&e)for(const p of e){let{css:m,...v}=p;m=typeof m=="object"&&m||{};for(const y in v)v[y]=String(v[y]);const x=[v,m,!sM(m)];a.push(x)}return[s,r,o,a,l,c]},l$=(n,e,t)=>{const[r,i,s,o]=c$(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(h=>{function p(){for(let m=0;m<p[Cd].length;m++){const[v,x]=p[Cd][m];h.rules[v].apply(x)}return p[Cd]=[],null}return p[Cd]=[],p.rules={},Fd.forEach(m=>p.rules[m]={apply:v=>p[Cd].push([m,v])}),p})(t):null,l=(a||t).rules,c=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,u=h=>{h=typeof h=="object"&&h||u$;const{css:p,...m}=h,v={};for(const g in s)if(delete m[g],g in h){let A=h[g];typeof A=="object"&&A?v[g]={"@initial":s[g],...A}:(A=String(A),v[g]=A!=="undefined"||o.has(g)?A:s[g])}else v[g]=s[g];const x=new Set([...i]);for(const[g,A,_,M]of e.composers){t.rules.styled.cache.has(g)||(t.rules.styled.cache.add(g),Ru(A,[`.${g}`],[],n,P=>{l.styled.apply(P)}));const R=uM(_,v,n.media),b=uM(M,v,n.media,!0);for(const P of R)if(P!==void 0)for(const[D,V,T]of P){const L=`${g}-${ic(V)}-${D}`;x.add(L);const G=(T?t.rules.resonevar:t.rules.onevar).cache,se=T?l.resonevar:l.onevar;G.has(L)||(G.add(L),Ru(V,[`.${L}`],[],n,W=>{se.apply(W)}))}for(const P of b)if(P!==void 0)for(const[D,V]of P){const T=`${g}-${ic(V)}-${D}`;x.add(T),t.rules.allvar.cache.has(T)||(t.rules.allvar.cache.add(T),Ru(V,[`.${T}`],[],n,L=>{l.allvar.apply(L)}))}}if(typeof p=="object"&&p){const g=`${r}-i${ic(p)}-css`;x.add(g),t.rules.inline.cache.has(g)||(t.rules.inline.cache.add(g),Ru(p,[`.${g}`],[],n,A=>{l.inline.apply(A)}))}for(const g of String(h.className||"").trim().split(/\s+/))g&&x.add(g);const y=m.className=[...x].join(" ");return{type:e.type,className:y,selector:c,props:m,toString:()=>y,deferredInjector:a}};return Q4(u,{className:r,selector:c,[rc]:e,toString:()=>(t.rules.styled.cache.has(r)||u(),r)})},c$=n=>{let e="";const t=[],r={},i=[];for(const[s,,,,o,a]of n){e===""&&(e=s),t.push(s),i.push(...a);for(const l in o){const c=o[l];(r[l]===void 0||c!=="undefined"||a.includes(c))&&(r[l]=c)}}return[e,t,r,new Set(i)]},uM=(n,e,t,r)=>{const i=[];e:for(let[s,o,a]of n){if(a)continue;let l,c=0,u=!1;for(l in s){const h=s[l];let p=e[l];if(p!==h){if(typeof p!="object"||!p)continue e;{let m,v,x=0;for(const y in p){if(h===String(p[y])){if(y!=="@initial"){const g=y.slice(1);(v=v||[]).push(g in t?t[g]:y.replace(/^@media ?/,"")),u=!0}c+=x,m=!0}++x}if(v&&v.length&&(o={["@media "+v.join(", ")]:o}),!m)continue e}}}(i[c]=i[c]||[]).push([r?"cv":`${l}-${s[l]}`,o,u])}return i},u$={},f$=Mf(),d$=(n,e)=>f$(n,()=>(...t)=>{const r=()=>{for(let i of t){i=typeof i=="object"&&i||{};let s=ic(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}Ru(i,[],[],n,o=>{e.rules.global.apply(o)})}}return""};return Q4(r,{toString:r})}),h$=Mf(),p$=(n,e)=>h$(n,()=>t=>{const r=`${$o(n.prefix)}k-${ic(t)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];Ru(t,[],[],n,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return Q4(i,{get name(){return i()},toString:i})}),m$=class{constructor(n,e,t,r){this.token=n==null?"":String(n),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+$o(this.prefix)+$o(this.scale)+this.token}toString(){return this.computedValue}},g$=Mf(),v$=(n,e)=>g$(n,()=>(t,r)=>{r=typeof t=="object"&&t||Object(r);const i=`.${t=(t=typeof t=="string"?t:"")||`${$o(n.prefix)}t-${ic(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const c in r[l]){const u=`--${$o(n.prefix)}${l}-${c}`,h=eR(String(r[l][c]),n.prefix,l);s[l][c]=new m$(c,h,l,n.prefix),o.push(`${u}:${h}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${r===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(l)}return t};return{...s,get className(){return a()},selector:i,toString:a}}),y$=Mf(),fM,_$=Mf(),tR=n=>{const e=(t=>{let r=!1;const i=y$(t,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,c=typeof s.theme=="object"&&s.theme||{},u={prefix:o,media:a,theme:c,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...Xj},utils:typeof s.utils=="object"&&s.utils||{}},h=i$(l),p={css:cM(u,h),globalCss:d$(u,h),keyframes:p$(u,h),createTheme:v$(u,h),reset(){h.reset(),p.theme.toString()},theme:{},sheet:h,config:u,prefix:o,getCssText:h.toString,toString:h.toString};return String(p.theme=p.createTheme(c)),p});return r||i.reset(),i})(n);return e.styled=(({config:t,sheet:r})=>_$(t,()=>{const i=cM(t,r);return(...s)=>{const o=i(...s),a=o[rc].type,l=le.forwardRef((c,u)=>{const h=c&&c.as||a,{props:p,deferredInjector:m}=o(c);return delete p.as,p.ref=u,m?le.createElement(le.Fragment,null,le.createElement(h,p),le.createElement(m,null)):le.createElement(h,p)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[rc]=o[rc],l}}))(e),e},x$=()=>fM||(fM=tR()),lr=(...n)=>x$().styled(...n);function Po(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function nR(n,e=[]){let t=[];function r(s,o){const a=w.createContext(o),l=t.length;t=[...t,o];function c(h){const{scope:p,children:m,...v}=h,x=(p==null?void 0:p[n][l])||a,y=w.useMemo(()=>v,Object.values(v));return w.createElement(x.Provider,{value:y},m)}function u(h,p){const m=(p==null?void 0:p[n][l])||a,v=w.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return w.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,E$(i,...e)]}function E$(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function Cf(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n}),w.useMemo(()=>(...t)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...t)},[])}function A$(n,e=globalThis==null?void 0:globalThis.document){const t=Cf(n);w.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[t,e])}const L_="dismissableLayer.update",w$="dismissableLayer.pointerDownOutside",S$="dismissableLayer.focusOutside";let dM;const M$=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),C$=w.forwardRef((n,e)=>{var t;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=n,u=w.useContext(M$),[h,p]=w.useState(null),m=(t=h==null?void 0:h.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,[,v]=w.useState({}),x=Sf(e,D=>p(D)),y=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),A=y.indexOf(g),_=h?y.indexOf(h):-1,M=u.layersWithOutsidePointerEventsDisabled.size>0,R=_>=A,b=b$(D=>{const V=D.target,T=[...u.branches].some(L=>L.contains(V));!R||T||(s==null||s(D),a==null||a(D),D.defaultPrevented||l==null||l())},m),P=T$(D=>{const V=D.target;[...u.branches].some(L=>L.contains(V))||(o==null||o(D),a==null||a(D),D.defaultPrevented||l==null||l())},m);return A$(D=>{_===u.layers.size-1&&(i==null||i(D),!D.defaultPrevented&&l&&(D.preventDefault(),l()))},m),w.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(dM=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),hM(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=dM)}},[h,m,r,u]),w.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),hM())},[h,u]),w.useEffect(()=>{const D=()=>v({});return document.addEventListener(L_,D),()=>document.removeEventListener(L_,D)},[]),w.createElement(Ac.div,hn({},c,{ref:x,style:{pointerEvents:M?R?"auto":"none":void 0,...n.style},onFocusCapture:Po(n.onFocusCapture,P.onFocusCapture),onBlurCapture:Po(n.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Po(n.onPointerDownCapture,b.onPointerDownCapture)}))});function b$(n,e=globalThis==null?void 0:globalThis.document){const t=Cf(n),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){rR(w$,t,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function T$(n,e=globalThis==null?void 0:globalThis.document){const t=Cf(n),r=w.useRef(!1);return w.useEffect(()=>{const i=s=>{s.target&&!r.current&&rR(S$,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function hM(){const n=new CustomEvent(L_);document.dispatchEvent(n)}function rR(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?zj(i,s):i.dispatchEvent(s)}const lf=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},R$=zI.useId||(()=>{});let P$=0;function I$(n){const[e,t]=w.useState(R$());return lf(()=>{n||t(r=>r??String(P$++))},[n]),n||(e?`radix-${e}`:"")}const L$=["top","right","bottom","left"],qa=Math.min,Pi=Math.max,Lm=Math.round,w0=Math.floor,el=n=>({x:n,y:n}),B$={left:"right",right:"left",bottom:"top",top:"bottom"},D$={start:"end",end:"start"};function B_(n,e,t){return Pi(n,qa(e,t))}function Xo(n,e){return typeof n=="function"?n(e):n}function Jo(n){return n.split("-")[0]}function bf(n){return n.split("-")[1]}function q4(n){return n==="x"?"y":"x"}function e5(n){return n==="y"?"height":"width"}function Tf(n){return["top","bottom"].includes(Jo(n))?"y":"x"}function t5(n){return q4(Tf(n))}function N$(n,e,t){t===void 0&&(t=!1);const r=bf(n),i=t5(n),s=e5(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Bm(o)),[o,Bm(o)]}function F$(n){const e=Bm(n);return[D_(n),e,D_(e)]}function D_(n){return n.replace(/start|end/g,e=>D$[e])}function O$(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function k$(n,e,t,r){const i=bf(n);let s=O$(Jo(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(D_)))),s}function Bm(n){return n.replace(/left|right|bottom|top/g,e=>B$[e])}function U$(n){return{top:0,right:0,bottom:0,left:0,...n}}function iR(n){return typeof n!="number"?U$(n):{top:n,right:n,bottom:n,left:n}}function Dm(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function pM(n,e,t){let{reference:r,floating:i}=n;const s=Tf(e),o=t5(e),a=e5(o),l=Jo(e),c=s==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(bf(e)){case"start":m[o]-=p*(t&&c?-1:1);break;case"end":m[o]+=p*(t&&c?-1:1);break}return m}const z$=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:h}=pM(c,r,l),p=r,m={},v=0;for(let x=0;x<a.length;x++){const{name:y,fn:g}=a[x],{x:A,y:_,data:M,reset:R}=await g({x:u,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:n,floating:e}});u=A??u,h=_??h,m={...m,[y]:{...m[y],...M}},R&&v<=50&&(v++,typeof R=="object"&&(R.placement&&(p=R.placement),R.rects&&(c=R.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):R.rects),{x:u,y:h}=pM(c,p,l)),x=-1)}return{x:u,y:h,placement:p,strategy:i,middlewareData:m}};async function Oh(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Xo(e,n),v=iR(m),y=a[p?h==="floating"?"reference":"floating":h],g=Dm(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(y)))==null||t?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),A=h==="floating"?{...o.floating,x:r,y:i}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),M=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},R=Dm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:A,offsetParent:_,strategy:l}):A);return{top:(g.top-R.top+v.top)/M.y,bottom:(R.bottom-g.bottom+v.bottom)/M.y,left:(g.left-R.left+v.left)/M.x,right:(R.right-g.right+v.right)/M.x}}const H$=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Xo(n,e)||{};if(c==null)return{};const h=iR(u),p={x:t,y:r},m=t5(i),v=e5(m),x=await o.getDimensions(c),y=m==="y",g=y?"top":"left",A=y?"bottom":"right",_=y?"clientHeight":"clientWidth",M=s.reference[v]+s.reference[m]-p[m]-s.floating[v],R=p[m]-s.reference[m],b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let P=b?b[_]:0;(!P||!await(o.isElement==null?void 0:o.isElement(b)))&&(P=a.floating[_]||s.floating[v]);const D=M/2-R/2,V=P/2-x[v]/2-1,T=qa(h[g],V),L=qa(h[A],V),G=T,se=P-x[v]-L,W=P/2-x[v]/2+D,te=B_(G,W,se),re=!l.arrow&&bf(i)!=null&&W!==te&&s.reference[v]/2-(W<G?T:L)-x[v]/2<0,ue=re?W<G?W-G:W-se:0;return{[m]:p[m]+ue,data:{[m]:te,centerOffset:W-te-ue,...re&&{alignmentOffset:ue}},reset:re}}}),G$=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...y}=Xo(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const g=Jo(i),A=Jo(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),M=p||(A||!x?[Bm(a)]:F$(a));!p&&v!=="none"&&M.push(...k$(a,x,v,_));const R=[a,...M],b=await Oh(e,y),P=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&P.push(b[g]),h){const G=N$(i,o,_);P.push(b[G[0]],b[G[1]])}if(D=[...D,{placement:i,overflows:P}],!P.every(G=>G<=0)){var V,T;const G=(((V=s.flip)==null?void 0:V.index)||0)+1,se=R[G];if(se)return{data:{index:G,overflows:D},reset:{placement:se}};let W=(T=D.filter(te=>te.overflows[0]<=0).sort((te,re)=>te.overflows[1]-re.overflows[1])[0])==null?void 0:T.placement;if(!W)switch(m){case"bestFit":{var L;const te=(L=D.map(re=>[re.placement,re.overflows.filter(ue=>ue>0).reduce((ue,F)=>ue+F,0)]).sort((re,ue)=>re[1]-ue[1])[0])==null?void 0:L[0];te&&(W=te);break}case"initialPlacement":W=a;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function mM(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function gM(n){return L$.some(e=>n[e]>=0)}const V$=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Xo(n,e);switch(r){case"referenceHidden":{const s=await Oh(e,{...i,elementContext:"reference"}),o=mM(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:gM(o)}}}case"escaped":{const s=await Oh(e,{...i,altBoundary:!0}),o=mM(s,t.floating);return{data:{escapedOffsets:o,escaped:gM(o)}}}default:return{}}}}};async function W$(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Jo(t),a=bf(t),l=Tf(t)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,h=Xo(e,n);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*u,y:p*c}:{x:p*c,y:m*u}}const j$=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await W$(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},$$=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:g,y:A}=y;return{x:g,y:A}}},...l}=Xo(n,e),c={x:t,y:r},u=await Oh(e,l),h=Tf(Jo(i)),p=q4(h);let m=c[p],v=c[h];if(s){const y=p==="y"?"top":"left",g=p==="y"?"bottom":"right",A=m+u[y],_=m-u[g];m=B_(A,m,_)}if(o){const y=h==="y"?"top":"left",g=h==="y"?"bottom":"right",A=v+u[y],_=v-u[g];v=B_(A,v,_)}const x=a.fn({...e,[p]:m,[h]:v});return{...x,data:{x:x.x-t,y:x.y-r}}}}},X$=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Xo(n,e),u={x:t,y:r},h=Tf(i),p=q4(h);let m=u[p],v=u[h];const x=Xo(a,e),y=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const _=p==="y"?"height":"width",M=s.reference[p]-s.floating[_]+y.mainAxis,R=s.reference[p]+s.reference[_]-y.mainAxis;m<M?m=M:m>R&&(m=R)}if(c){var g,A;const _=p==="y"?"width":"height",M=["top","left"].includes(Jo(i)),R=s.reference[h]-s.floating[_]+(M&&((g=o.offset)==null?void 0:g[h])||0)+(M?0:y.crossAxis),b=s.reference[h]+s.reference[_]+(M?0:((A=o.offset)==null?void 0:A[h])||0)-(M?y.crossAxis:0);v<R?v=R:v>b&&(v=b)}return{[p]:m,[h]:v}}}},J$=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){const{placement:t,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=Xo(n,e),l=await Oh(e,a),c=Jo(t),u=bf(t),h=Tf(t)==="y",{width:p,height:m}=r.floating;let v,x;c==="top"||c==="bottom"?(v=c,x=u===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(x=c,v=u==="end"?"top":"bottom");const y=m-l[v],g=p-l[x],A=!e.middlewareData.shift;let _=y,M=g;if(h){const b=p-l.left-l.right;M=u||A?qa(g,b):b}else{const b=m-l.top-l.bottom;_=u||A?qa(y,b):b}if(A&&!u){const b=Pi(l.left,0),P=Pi(l.right,0),D=Pi(l.top,0),V=Pi(l.bottom,0);h?M=p-2*(b!==0||P!==0?b+P:Pi(l.left,l.right)):_=m-2*(D!==0||V!==0?D+V:Pi(l.top,l.bottom))}await o({...e,availableWidth:M,availableHeight:_});const R=await i.getDimensions(s.floating);return p!==R.width||m!==R.height?{reset:{rects:!0}}:{}}}};function tl(n){return sR(n)?(n.nodeName||"").toLowerCase():"#document"}function ki(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function qo(n){var e;return(e=(sR(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function sR(n){return n instanceof Node||n instanceof ki(n).Node}function Yo(n){return n instanceof Element||n instanceof ki(n).Element}function fo(n){return n instanceof HTMLElement||n instanceof ki(n).HTMLElement}function vM(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ki(n).ShadowRoot}function fp(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=gs(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function Y$(n){return["table","td","th"].includes(tl(n))}function n5(n){const e=r5(),t=gs(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function K$(n){let e=cf(n);for(;fo(e)&&!zg(e);){if(n5(e))return e;e=cf(e)}return null}function r5(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function zg(n){return["html","body","#document"].includes(tl(n))}function gs(n){return ki(n).getComputedStyle(n)}function Hg(n){return Yo(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function cf(n){if(tl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||vM(n)&&n.host||qo(n);return vM(e)?e.host:e}function oR(n){const e=cf(n);return zg(e)?n.ownerDocument?n.ownerDocument.body:n.body:fo(e)&&fp(e)?e:oR(e)}function kh(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=oR(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=ki(i);return s?e.concat(o,o.visualViewport||[],fp(i)?i:[],o.frameElement&&t?kh(o.frameElement):[]):e.concat(i,kh(i,[],t))}function aR(n){const e=gs(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=fo(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=Lm(t)!==s||Lm(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function i5(n){return Yo(n)?n:n.contextElement}function Gu(n){const e=i5(n);if(!fo(e))return el(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=aR(e);let o=(s?Lm(t.width):t.width)/r,a=(s?Lm(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Z$=el(0);function lR(n){const e=ki(n);return!r5()||!e.visualViewport?Z$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Q$(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ki(n)?!1:e}function hc(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=i5(n);let o=el(1);e&&(r?Yo(r)&&(o=Gu(r)):o=Gu(n));const a=Q$(s,t,r)?lR(s):el(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const p=ki(s),m=r&&Yo(r)?ki(r):r;let v=p,x=v.frameElement;for(;x&&r&&m!==v;){const y=Gu(x),g=x.getBoundingClientRect(),A=gs(x),_=g.left+(x.clientLeft+parseFloat(A.paddingLeft))*y.x,M=g.top+(x.clientTop+parseFloat(A.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,h*=y.y,l+=_,c+=M,v=ki(x),x=v.frameElement}}return Dm({width:u,height:h,x:l,y:c})}const q$=[":popover-open",":modal"];function cR(n){return q$.some(e=>{try{return n.matches(e)}catch{return!1}})}function eX(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=qo(r),a=e?cR(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=el(1);const u=el(0),h=fo(r);if((h||!h&&!s)&&((tl(r)!=="body"||fp(o))&&(l=Hg(r)),fo(r))){const p=hc(r);c=Gu(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x,y:t.y*c.y-l.scrollTop*c.y+u.y}}function tX(n){return Array.from(n.getClientRects())}function uR(n){return hc(qo(n)).left+Hg(n).scrollLeft}function nX(n){const e=qo(n),t=Hg(n),r=n.ownerDocument.body,i=Pi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Pi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+uR(n);const a=-t.scrollTop;return gs(r).direction==="rtl"&&(o+=Pi(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function rX(n,e){const t=ki(n),r=qo(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=r5();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function iX(n,e){const t=hc(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=fo(n)?Gu(n):el(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function yM(n,e,t){let r;if(e==="viewport")r=rX(n,t);else if(e==="document")r=nX(qo(n));else if(Yo(e))r=iX(e,t);else{const i=lR(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return Dm(r)}function fR(n,e){const t=cf(n);return t===e||!Yo(t)||zg(t)?!1:gs(t).position==="fixed"||fR(t,e)}function sX(n,e){const t=e.get(n);if(t)return t;let r=kh(n,[],!1).filter(a=>Yo(a)&&tl(a)!=="body"),i=null;const s=gs(n).position==="fixed";let o=s?cf(n):n;for(;Yo(o)&&!zg(o);){const a=gs(o),l=n5(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||fp(o)&&!l&&fR(n,o))?r=r.filter(u=>u!==o):i=a,o=cf(o)}return e.set(n,r),r}function oX(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?sX(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const h=yM(e,u,i);return c.top=Pi(h.top,c.top),c.right=qa(h.right,c.right),c.bottom=qa(h.bottom,c.bottom),c.left=Pi(h.left,c.left),c},yM(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function aX(n){const{width:e,height:t}=aR(n);return{width:e,height:t}}function lX(n,e,t){const r=fo(e),i=qo(e),s=t==="fixed",o=hc(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=el(0);if(r||!r&&!s)if((tl(e)!=="body"||fp(i))&&(a=Hg(e)),r){const h=hc(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=uR(i));const c=o.left+a.scrollLeft-l.x,u=o.top+a.scrollTop-l.y;return{x:c,y:u,width:o.width,height:o.height}}function _M(n,e){return!fo(n)||gs(n).position==="fixed"?null:e?e(n):n.offsetParent}function dR(n,e){const t=ki(n);if(!fo(n)||cR(n))return t;let r=_M(n,e);for(;r&&Y$(r)&&gs(r).position==="static";)r=_M(r,e);return r&&(tl(r)==="html"||tl(r)==="body"&&gs(r).position==="static"&&!n5(r))?t:r||K$(n)||t}const cX=async function(n){const e=this.getOffsetParent||dR,t=this.getDimensions;return{reference:lX(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,...await t(n.floating)}}};function uX(n){return gs(n).direction==="rtl"}const fX={convertOffsetParentRelativeRectToViewportRelativeRect:eX,getDocumentElement:qo,getClippingRect:oX,getOffsetParent:dR,getElementRects:cX,getClientRects:tX,getDimensions:aX,getScale:Gu,isElement:Yo,isRTL:uX};function dX(n,e){let t=null,r;const i=qo(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:h,height:p}=n.getBoundingClientRect();if(a||e(),!h||!p)return;const m=w0(u),v=w0(i.clientWidth-(c+h)),x=w0(i.clientHeight-(u+p)),y=w0(c),A={rootMargin:-m+"px "+-v+"px "+-x+"px "+-y+"px",threshold:Pi(0,qa(1,l))||1};let _=!0;function M(R){const b=R[0].intersectionRatio;if(b!==l){if(!_)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},100)}_=!1}try{t=new IntersectionObserver(M,{...A,root:i.ownerDocument})}catch{t=new IntersectionObserver(M,A)}t.observe(n)}return o(!0),s}function hX(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=i5(n),u=i||s?[...c?kh(c):[],...kh(e)]:[];u.forEach(g=>{i&&g.addEventListener("scroll",t,{passive:!0}),s&&g.addEventListener("resize",t)});const h=c&&a?dX(c,t):null;let p=-1,m=null;o&&(m=new ResizeObserver(g=>{let[A]=g;A&&A.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(e)})),t()}),c&&!l&&m.observe(c),m.observe(e));let v,x=l?hc(n):null;l&&y();function y(){const g=hc(n);x&&(g.x!==x.x||g.y!==x.y||g.width!==x.width||g.height!==x.height)&&t(),x=g,v=requestAnimationFrame(y)}return t(),()=>{var g;u.forEach(A=>{i&&A.removeEventListener("scroll",t),s&&A.removeEventListener("resize",t)}),h==null||h(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const pX=$$,mX=G$,gX=J$,vX=V$,xM=H$,yX=X$,_X=(n,e,t)=>{const r=new Map,i={platform:fX,...t},s={...i.platform,_c:r};return z$(n,e,{...i,platform:s})},xX=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?xM({element:r.current,padding:i}).fn(t):{}:r?xM({element:r,padding:i}).fn(t):{}}}};var Q0=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Nm(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Nm(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!Nm(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function hR(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function EM(n,e){const t=hR(n);return Math.round(e*t)/t}function AM(n){const e=w.useRef(n);return Q0(()=>{e.current=n}),e}function EX(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,h]=w.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=w.useState(r);Nm(p,r)||m(r);const[v,x]=w.useState(null),[y,g]=w.useState(null),A=w.useCallback(ue=>{ue!==b.current&&(b.current=ue,x(ue))},[]),_=w.useCallback(ue=>{ue!==P.current&&(P.current=ue,g(ue))},[]),M=s||v,R=o||y,b=w.useRef(null),P=w.useRef(null),D=w.useRef(u),V=l!=null,T=AM(l),L=AM(i),G=w.useCallback(()=>{if(!b.current||!P.current)return;const ue={placement:e,strategy:t,middleware:p};L.current&&(ue.platform=L.current),_X(b.current,P.current,ue).then(F=>{const Y={...F,isPositioned:!0};se.current&&!Nm(D.current,Y)&&(D.current=Y,jh.flushSync(()=>{h(Y)}))})},[p,e,t,L]);Q0(()=>{c===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,h(ue=>({...ue,isPositioned:!1})))},[c]);const se=w.useRef(!1);Q0(()=>(se.current=!0,()=>{se.current=!1}),[]),Q0(()=>{if(M&&(b.current=M),R&&(P.current=R),M&&R){if(T.current)return T.current(M,R,G);G()}},[M,R,G,T,V]);const W=w.useMemo(()=>({reference:b,floating:P,setReference:A,setFloating:_}),[A,_]),te=w.useMemo(()=>({reference:M,floating:R}),[M,R]),re=w.useMemo(()=>{const ue={position:t,left:0,top:0};if(!te.floating)return ue;const F=EM(te.floating,u.x),Y=EM(te.floating,u.y);return a?{...ue,transform:"translate("+F+"px, "+Y+"px)",...hR(te.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:F,top:Y}},[t,a,te.floating,u.x,u.y]);return w.useMemo(()=>({...u,update:G,refs:W,elements:te,floatingStyles:re}),[u,G,W,te,re])}const AX=w.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return w.createElement(Ac.svg,hn({},s,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),n.asChild?t:w.createElement("polygon",{points:"0,0 30,0 15,10"}))}),wX=AX;function SX(n){const[e,t]=w.useState(void 0);return lf(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}const pR="Popper",[mR,gR]=nR(pR),[MX,vR]=mR(pR),CX=n=>{const{__scopePopper:e,children:t}=n,[r,i]=w.useState(null);return w.createElement(MX,{scope:e,anchor:r,onAnchorChange:i},t)},bX="PopperAnchor",TX=w.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=vR(bX,t),o=w.useRef(null),a=Sf(e,o);return w.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:w.createElement(Ac.div,hn({},i,{ref:a}))}),yR="PopperContent",[RX,PX]=mR(yR),IX=w.forwardRef((n,e)=>{var t,r,i,s,o,a,l,c;const{__scopePopper:u,side:h="bottom",sideOffset:p=0,align:m="center",alignOffset:v=0,arrowPadding:x=0,avoidCollisions:y=!0,collisionBoundary:g=[],collisionPadding:A=0,sticky:_="partial",hideWhenDetached:M=!1,updatePositionStrategy:R="optimized",onPlaced:b,...P}=n,D=vR(yR,u),[V,T]=w.useState(null),L=Sf(e,me=>T(me)),[G,se]=w.useState(null),W=SX(G),te=(t=W==null?void 0:W.width)!==null&&t!==void 0?t:0,re=(r=W==null?void 0:W.height)!==null&&r!==void 0?r:0,ue=h+(m!=="center"?"-"+m:""),F=typeof A=="number"?A:{top:0,right:0,bottom:0,left:0,...A},Y=Array.isArray(g)?g:[g],Q=Y.length>0,fe={padding:F,boundary:Y.filter(NX),altBoundary:Q},{refs:xe,floatingStyles:Oe,placement:X,isPositioned:j,middlewareData:H}=EX({strategy:"fixed",placement:ue,whileElementsMounted:(...me)=>hX(...me,{animationFrame:R==="always"}),elements:{reference:D.anchor},middleware:[j$({mainAxis:p+re,alignmentAxis:v}),y&&pX({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?yX():void 0,...fe}),y&&mX({...fe}),gX({...fe,apply:({elements:me,rects:ye,availableWidth:De,availableHeight:oe})=>{const{width:I,height:k}=ye.reference,he=me.floating.style;he.setProperty("--radix-popper-available-width",`${De}px`),he.setProperty("--radix-popper-available-height",`${oe}px`),he.setProperty("--radix-popper-anchor-width",`${I}px`),he.setProperty("--radix-popper-anchor-height",`${k}px`)}}),G&&xX({element:G,padding:x}),FX({arrowWidth:te,arrowHeight:re}),M&&vX({strategy:"referenceHidden",...fe})]}),[z,ve]=_R(X),be=Cf(b);lf(()=>{j&&(be==null||be())},[j,be]);const Ee=(i=H.arrow)===null||i===void 0?void 0:i.x,Te=(s=H.arrow)===null||s===void 0?void 0:s.y,J=((o=H.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[Ae,ae]=w.useState();return lf(()=>{V&&ae(window.getComputedStyle(V).zIndex)},[V]),w.createElement("div",{ref:xe.setFloating,"data-radix-popper-content-wrapper":"",style:{...Oe,transform:j?Oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ae,"--radix-popper-transform-origin":[(a=H.transformOrigin)===null||a===void 0?void 0:a.x,(l=H.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:n.dir},w.createElement(RX,{scope:u,placedSide:z,onArrowChange:se,arrowX:Ee,arrowY:Te,shouldHideArrow:J},w.createElement(Ac.div,hn({"data-side":z,"data-align":ve},P,{ref:L,style:{...P.style,animation:j?void 0:"none",opacity:(c=H.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))}),LX="PopperArrow",BX={top:"bottom",right:"left",bottom:"top",left:"right"},DX=w.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=PX(LX,r),o=BX[s.placedSide];return w.createElement("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0}},w.createElement(wX,hn({},i,{ref:t,style:{...i.style,display:"block"}})))});function NX(n){return n!==null}const FX=n=>({name:"transformOrigin",options:n,fn(e){var t,r,i,s,o;const{placement:a,rects:l,middlewareData:c}=e,h=((t=c.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,p=h?0:n.arrowWidth,m=h?0:n.arrowHeight,[v,x]=_R(a),y={start:"0%",center:"50%",end:"100%"}[x],g=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+p/2,A=((s=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+m/2;let _="",M="";return v==="bottom"?(_=h?y:`${g}px`,M=`${-m}px`):v==="top"?(_=h?y:`${g}px`,M=`${l.floating.height+m}px`):v==="right"?(_=`${-m}px`,M=h?y:`${A}px`):v==="left"&&(_=`${l.floating.width+m}px`,M=h?y:`${A}px`),{data:{x:_,y:M}}}});function _R(n){const[e,t="center"]=n.split("-");return[e,t]}const OX=CX,kX=TX,UX=IX,zX=DX;function HX(n,e){return w.useReducer((t,r)=>{const i=e[t][r];return i??t},n)}const xR=n=>{const{present:e,children:t}=n,r=GX(e),i=typeof t=="function"?t({present:r.isPresent}):w.Children.only(t),s=Sf(r.ref,i.ref);return typeof t=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};xR.displayName="Presence";function GX(n){const[e,t]=w.useState(),r=w.useRef({}),i=w.useRef(n),s=w.useRef("none"),o=n?"mounted":"unmounted",[a,l]=HX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=S0(r.current);s.current=a==="mounted"?c:"none"},[a]),lf(()=>{const c=r.current,u=i.current;if(u!==n){const p=s.current,m=S0(c);n?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),lf(()=>{if(e){const c=h=>{const m=S0(r.current).includes(h.animationName);h.target===e&&m&&jh.flushSync(()=>l("ANIMATION_END"))},u=h=>{h.target===e&&(s.current=S0(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(c=>{c&&(r.current=getComputedStyle(c)),t(c)},[])}}function S0(n){return(n==null?void 0:n.animationName)||"none"}function VX({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=WX({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=Cf(t),l=w.useCallback(c=>{if(s){const h=typeof c=="function"?c(n):c;h!==n&&a(h)}else i(c)},[s,n,i,a]);return[o,l]}function WX({defaultProp:n,onChange:e}){const t=w.useState(n),[r]=t,i=w.useRef(r),s=Cf(e);return w.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}const jX=w.forwardRef((n,e)=>w.createElement(Ac.span,hn({},n,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}))),$X=jX,[Gg,Pte]=nR("Tooltip",[gR]),Vg=gR(),XX="TooltipProvider",N_="tooltip.open",[Ite,s5]=Gg(XX),o5="Tooltip",[JX,Wg]=Gg(o5),YX=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=n,l=s5(o5,n.__scopeTooltip),c=Vg(e),[u,h]=w.useState(null),p=I$(),m=w.useRef(0),v=o??l.disableHoverableContent,x=a??l.delayDuration,y=w.useRef(!1),[g=!1,A]=VX({prop:r,defaultProp:i,onChange:P=>{P?(l.onOpen(),document.dispatchEvent(new CustomEvent(N_))):l.onClose(),s==null||s(P)}}),_=w.useMemo(()=>g?y.current?"delayed-open":"instant-open":"closed",[g]),M=w.useCallback(()=>{window.clearTimeout(m.current),y.current=!1,A(!0)},[A]),R=w.useCallback(()=>{window.clearTimeout(m.current),A(!1)},[A]),b=w.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,A(!0)},x)},[x,A]);return w.useEffect(()=>()=>window.clearTimeout(m.current),[]),w.createElement(OX,c,w.createElement(JX,{scope:e,contentId:p,open:g,stateAttribute:_,trigger:u,onTriggerChange:h,onTriggerEnter:w.useCallback(()=>{l.isOpenDelayed?b():M()},[l.isOpenDelayed,b,M]),onTriggerLeave:w.useCallback(()=>{v?R():window.clearTimeout(m.current)},[R,v]),onOpen:M,onClose:R,disableHoverableContent:v},t))},wM="TooltipTrigger",KX=w.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Wg(wM,t),s=s5(wM,t),o=Vg(t),a=w.useRef(null),l=Sf(e,a,i.onTriggerChange),c=w.useRef(!1),u=w.useRef(!1),h=w.useCallback(()=>c.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),w.createElement(kX,hn({asChild:!0},o),w.createElement(Ac.button,hn({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:l,onPointerMove:Po(n.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Po(n.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Po(n.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Po(n.onFocus,()=>{c.current||i.onOpen()}),onBlur:Po(n.onBlur,i.onClose),onClick:Po(n.onClick,i.onClose)})))}),ZX="TooltipPortal",[Lte,QX]=Gg(ZX,{forceMount:void 0}),Uh="TooltipContent",qX=w.forwardRef((n,e)=>{const t=QX(Uh,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,o=Wg(Uh,n.__scopeTooltip);return w.createElement(xR,{present:r||o.open},o.disableHoverableContent?w.createElement(ER,hn({side:i},s,{ref:e})):w.createElement(eJ,hn({side:i},s,{ref:e})))}),eJ=w.forwardRef((n,e)=>{const t=Wg(Uh,n.__scopeTooltip),r=s5(Uh,n.__scopeTooltip),i=w.useRef(null),s=Sf(e,i),[o,a]=w.useState(null),{trigger:l,onClose:c}=t,u=i.current,{onPointerInTransitChange:h}=r,p=w.useCallback(()=>{a(null),h(!1)},[h]),m=w.useCallback((v,x)=>{const y=v.currentTarget,g={x:v.clientX,y:v.clientY},A=sJ(g,y.getBoundingClientRect()),_=oJ(g,A),M=aJ(x.getBoundingClientRect()),R=cJ([..._,...M]);a(R),h(!0)},[h]);return w.useEffect(()=>()=>p(),[p]),w.useEffect(()=>{if(l&&u){const v=y=>m(y,u),x=y=>m(y,l);return l.addEventListener("pointerleave",v),u.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",x)}}},[l,u,m,p]),w.useEffect(()=>{if(o){const v=x=>{const y=x.target,g={x:x.clientX,y:x.clientY},A=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),_=!lJ(g,o);A?p():_&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,u,o,c,p]),w.createElement(ER,hn({},n,{ref:s}))}),[tJ,nJ]=Gg(o5,{isInside:!1}),ER=w.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=Wg(Uh,t),c=Vg(t),{onClose:u}=l;return w.useEffect(()=>(document.addEventListener(N_,u),()=>document.removeEventListener(N_,u)),[u]),w.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),w.createElement(C$,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u},w.createElement(UX,hn({"data-state":l.stateAttribute},c,a,{ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),w.createElement(YT,null,r),w.createElement(tJ,{scope:t,isInside:!0},w.createElement($X,{id:l.contentId,role:"tooltip"},i||r))))}),rJ="TooltipArrow",iJ=w.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Vg(t);return nJ(rJ,t).isInside?null:w.createElement(zX,hn({},i,r,{ref:e}))});function sJ(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function oJ(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function aJ(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function lJ(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&t<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function cJ(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),uJ(e)}function uJ(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}const fJ=YX,dJ=KX,hJ=qX,pJ=iJ;function mJ(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function fn(n,e){if(n==null)return{};var t=mJ(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}let Pn;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(Pn||(Pn={}));const gJ={[Pn.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[Pn.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[Pn.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[Pn.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[Pn.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[Pn.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[Pn.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[Pn.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[Pn.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[Pn.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[Pn.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function AR(n,e,...t){const[r,...i]=gJ[e](...t);console[n]("LEVA: "+r,...i)}const Lo=AR.bind(null,"warn"),vJ=AR.bind(null,"log"),yJ=["value"],_J=["schema"],xJ=["value"],wR=[],pc={};function SM(n){let{value:e}=n,t=fn(n,yJ);for(let r of wR){const i=r(e,t);if(i)return i}}function ea(n,e){let{schema:t}=e,r=fn(e,_J);if(n in pc){Lo(Pn.ALREADY_REGISTERED_TYPE,n);return}wR.push((i,s)=>t(i,s)&&n),pc[n]=r}function Cy(n,e,t,r){const{normalize:i}=pc[n];if(i)return i(e,t,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=fn(e,xJ);return{value:s,settings:o}}function EJ(n,e,t,r,i,s){const{sanitize:o}=pc[n];return o?o(e,t,r,i,s):e}function MM(n,e,t){const{format:r}=pc[n];return r?r(e,t):e}function AJ(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function CM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function wt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(t),!0).forEach(function(r){AJ(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):CM(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const nl=(n,e,t)=>n>t?t:n<e?e:n,wJ=n=>{if(n===""||typeof n=="number")return n;try{const e=Ea(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},SJ=Math.log(10);function bM(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/SJ)+1,r=Math.floor(Math.log10(Math.abs(n))),i=Math.pow(10,r-t);return Math.max(i,.001)}const Fm=(n,e,t)=>t===e?0:(nl(n,e,t)-e)/(t-e),Om=(n,e,t)=>n*(t-e)+e,MJ=()=>"_"+Math.random().toString(36).substr(2,9),TM=/\(([0-9+\-*/^ .]+)\)/,RM=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,PM=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,IM=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,LM=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,BM=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function Ea(n){if(isNaN(Number(n)))if(TM.test(n)){const e=n.replace(TM,(t,r)=>String(Ea(r)));return Ea(e)}else if(RM.test(n)){const e=n.replace(RM,(t,r,i)=>String(Math.pow(Number(r),Number(i))));return Ea(e)}else if(PM.test(n)){const e=n.replace(PM,(t,r,i)=>String(Number(r)*Number(i)));return Ea(e)}else if(IM.test(n)){const e=n.replace(IM,(t,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return Ea(e)}else if(LM.test(n)){const e=n.replace(LM,(t,r,i)=>String(Number(r)+Number(i)));return Ea(e)}else if(BM.test(n)){const e=n.replace(BM,(t,r,i)=>String(Number(r)-Number(i)));return Ea(e)}else return Number(n);return Number(n)}function CJ(n,e){return e.reduce((t,r)=>(n&&n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function bJ(n,e){const t=wt({},n);return e.forEach(r=>r in n&&delete t[r]),t}function TJ(n,e){return n.reduce((t,r,i)=>Object.assign(t,{[e[i]]:r}),{})}function SR(n){return Object.prototype.toString.call(n)==="[object Object]"}const RJ=n=>SR(n)&&Object.keys(n).length===0;let Ns;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(Ns||(Ns={}));let Os;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})(Os||(Os={}));const PJ=["type","__customInput"],IJ=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],LJ=["type"];function MR(n,e,t={},r){var i,s;if(typeof n!="object"||Array.isArray(n))return{type:r,input:n,options:wt({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in n){const{type:R,__customInput:b}=n,P=fn(n,PJ);return MR(b,e,P,R)}const{render:o,label:a,optional:l,order:c=0,disabled:u,hint:h,onChange:p,onEditStart:m,onEditEnd:v,transient:x}=n,y=fn(n,IJ),g=wt({render:o,key:e,label:a??e,hint:h,transient:x??!!p,onEditStart:m,onEditEnd:v,disabled:u,optional:l,order:c},t);let{type:A}=y,_=fn(y,LJ);if(A=r??A,A in Ns)return{type:A,input:_,options:g};let M;return r&&SR(_)&&"value"in _?M=_.value:M=RJ(_)?void 0:_,{type:A,input:M,options:wt(wt({},g),{},{onChange:p,optional:(i=g.optional)!==null&&i!==void 0?i:!1,disabled:(s=g.disabled)!==null&&s!==void 0?s:!1})}}function BJ(n,e,t,r){const i=MR(n,e),{type:s,input:o,options:a}=i;if(s)return s in Ns?i:{type:s,input:Cy(s,o,t,r),options:a};let l=SM(o);return l?{type:l,input:Cy(l,o,t,r),options:a}:(l=SM({value:o}),l?{type:l,input:Cy(l,{value:o},t,r),options:a}:!1)}function DM(n,e,t,r,i){const{value:s,type:o,settings:a}=n;n.value=CR({type:o,value:s,settings:a},e,t,r),n.fromPanel=i}const DJ=function(e,t,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=r};function CR({type:n,value:e,settings:t},r,i,s){const o=n!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=EJ(n,o,t,e,i,s)}catch(l){throw new DJ(`The value \`${r}\` did not result in a correct value.`,e,l)}return Nh(a,e)?e:a}const bR=(n,e,t=!1)=>{let r=0;return function(){const i=arguments,s=t&&!r,o=()=>n.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},TR=n=>n.shiftKey?5:n.altKey?1/5:1;function NJ(n,e){const t=console.error;console.error=()=>{},k7.render(n,e),console.error=t}const FJ=["value"],OJ=["min","max"],kJ=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?!1:n.substring((""+e).length).trim().length<4}return!1},RR=(n,{min:e=-1/0,max:t=1/0,suffix:r})=>{const i=parseFloat(n);if(n===""||isNaN(i))throw Error("Invalid number");const s=nl(i,e,t);return r?s+r:s},UJ=(n,{pad:e=0,suffix:t})=>{const r=parseFloat(n).toFixed(e);return t?r+t:r},PR=n=>{let{value:e}=n,t=fn(n,FJ);const{min:r=-1/0,max:i=1/0}=t,s=fn(t,OJ);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=nl(o,r,i);let l=t.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const c=l?bM(l)*10:bM(o);l=l||c/10;const u=Math.round(nl(Math.log10(1/c),0,2));return{value:a?o+a:o,settings:wt({initialValue:o,step:l,pad:u,min:r,max:i,suffix:a},s)}},IR=(n,{step:e,initialValue:t})=>{const r=Math.round((n-t)/e);return t+r*e};var LR=Object.freeze({__proto__:null,schema:kJ,sanitize:RR,format:UJ,normalize:PR,sanitizeStep:IR});function Gn(){return Gn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Gn.apply(this,arguments)}const BR=w.createContext({});function Wr(){return w.useContext(BR)}const a5=w.createContext(null),DR=w.createContext(null),NR=w.createContext(null);function dp(){return w.useContext(DR)}function zJ(){return w.useContext(NR)}const FR=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function M0(n,e){const[t,r]=n.split(" "),i={};return t!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),r&&(i.backgroundColor=r),i}const bd={$inputStyle:()=>n=>M0(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>M0(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>M0(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>M0(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:xt,css:Bte,createTheme:HJ,globalCss:GJ,keyframes:Dte}=tR({prefix:"leva",theme:FR(),utils:wt(wt({},bd),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":bd.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":bd.$focusStyle()(n)}),$hover:n=>({"&:hover":bd.$hoverStyle()(n)}),$active:n=>({"&:active":bd.$activeStyle()(n)})})}),VJ=GJ({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function WJ(n){const e=FR();if(!n)return{theme:e,className:""};Object.keys(n).forEach(r=>{Object.assign(e[r],n[r])});const t=HJ(e);return{theme:e,className:t.className}}function zo(n,e){const{theme:t}=w.useContext(a5);if(!(n in t)||!(e in t[n]))return Lo(Pn.THEME_ERROR,n,e),"";let r=e;for(;;){let i=t[n][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const OR=xt("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),kR=xt("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${OR}`]:{paddingLeft:0}}),jJ=xt(kR,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),$J=xt("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),XJ=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],JJ=["onUpdate"];function l5(n){let{innerLabel:e,value:t,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:c=0}=n,u=fn(n,XJ);const{id:h,emitOnEditStart:p,emitOnEditEnd:m,disabled:v}=Wr(),x=a||h,y=w.useRef(null),g=c>0,A=g?"textarea":"input",_=w.useCallback(b=>P=>{const D=P.currentTarget.value;b(D)},[]);le.useEffect(()=>{const b=y.current,P=_(D=>{r(D),m()});return b==null||b.addEventListener("blur",P),()=>b==null?void 0:b.removeEventListener("blur",P)},[_,r,m]);const M=w.useCallback(b=>{b.key==="Enter"&&_(r)(b)},[_,r]),R=Object.assign({as:A},g?{rows:c}:{},u);return le.createElement($J,{textArea:g},e&&typeof e=="string"?le.createElement(kR,null,e):e,le.createElement(OR,Gn({levaType:o,ref:y,id:x,type:l,autoComplete:"off",spellCheck:"false",value:t,onChange:_(i),onFocus:()=>p(),onKeyPress:M,onKeyDown:s,disabled:v},R)))}function YJ(n){let{onUpdate:e}=n,t=fn(n,JJ);const r=w.useCallback(s=>e(wJ(s)),[e]),i=w.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return le.createElement(l5,Gn({},t,{onUpdate:r,onKeyDown:i,type:"number"}))}const km=xt("div",{}),F_=xt("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),KJ=xt("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${F_}::after`]:{opacity:.6},[`${km}:hover > & + ${F_}::after`]:{opacity:.6},[`${km}:hover > & > svg`]:{opacity:1}}),UR=xt("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${km}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),zR=xt("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${UR} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),HR=xt(zR,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),ZJ=xt("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),QJ=xt("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),O_=xt("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),qJ=xt("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${O_}`]:{pointerEvents:"auto"}}}}}),GR=xt("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),eY=xt("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),tY=xt(pJ,{fill:"$toolTipBackground"});function c5({children:n}){const{className:e}=w.useContext(a5);return le.createElement(Gj,{className:e},n)}const nY=["align"];function rY(){const{id:n,disable:e,disabled:t}=Wr();return le.createElement(le.Fragment,null,le.createElement(QJ,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),le.createElement("label",{htmlFor:n+"__disable"}))}function iY(n){const{id:e,optional:t,hint:r}=Wr(),i=n.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof n.children=="string"?{title:n.children}:null;return le.createElement(le.Fragment,null,t&&le.createElement(rY,null),r!==void 0?le.createElement(fJ,null,le.createElement(dJ,{asChild:!0},le.createElement(O_,Gn({},i,n))),le.createElement(hJ,{side:"top",sideOffset:2},le.createElement(eY,null,r,le.createElement(tY,null)))):le.createElement(O_,Gn({},i,s,n)))}function Hs(n){let{align:e}=n,t=fn(n,nY);const{value:r,label:i,key:s,disabled:o}=Wr(),{hideCopyButton:a}=zJ(),l=!a&&s!==void 0,[c,u]=w.useState(!1),h=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),u(!0)}catch{Lo(Pn.CLIPBOARD_ERROR,{[s]:r})}};return le.createElement(ZJ,{align:e,onPointerLeave:()=>u(!1)},le.createElement(iY,t),l&&!o&&le.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},c?le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},le.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),le.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):le.createElement("svg",{onClick:h,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},le.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),le.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const sY=["toggled"],oY=xt("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function u5(n){let{toggled:e}=n,t=fn(n,sY);return le.createElement(oY,Gn({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),le.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const aY=["input"];function ys(n){let{input:e}=n,t=fn(n,aY);return e?le.createElement(HR,t):le.createElement(zR,t)}function VR({value:n,type:e,settings:t,setValue:r}){const[i,s]=w.useState(MM(e,n,t)),o=w.useRef(n),a=w.useRef(t);a.current=t;const l=w.useCallback(u=>s(MM(e,u,a.current)),[e]),c=w.useCallback(u=>{try{r(u)}catch(h){const{type:p,previousValue:m}=h;if(p!=="LEVA_ERROR")throw h;l(m)}},[l,r]);return w.useEffect(()=>{Nh(n,o.current)||l(n),o.current=n},[n,l]),{displayValue:i,onChange:s,onUpdate:c}}function hp(n,e){const{emitOnEditStart:t,emitOnEditEnd:r}=Wr();return yV(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),t==null||t());const s=n(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function lY(n){const e=w.useRef(null),t=w.useRef(null),r=w.useRef(!1);return w.useEffect(()=>{const i=bR(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[n]),w.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function WR(){const n=w.useRef(null),e=w.useRef({x:0,y:0}),t=w.useCallback(r=>{Object.assign(e.current,r),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const cY=["__refCount"],by=(n,e)=>{if(!n[e])return null;const t=n[e];return fn(t,cY)};function uY(n){const e=dp(),[t,r]=w.useState(by(e.getData(),n)),i=w.useCallback(c=>e.setValueAtPath(n,c,!0),[n,e]),s=w.useCallback(c=>e.setSettingsAtPath(n,c),[n,e]),o=w.useCallback(c=>e.disableInputAtPath(n,c),[n,e]),a=w.useCallback(()=>e.emitOnEditStart(n),[n,e]),l=w.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return w.useEffect(()=>{r(by(e.getData(),n));const c=e.useStore.subscribe(u=>by(u.data,n),r,{equalityFn:up});return()=>c()},[e,n]),[t,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const fY=xt("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),jR=xt("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),k_=xt("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),$R=xt("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),XR=xt("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function dY({value:n,min:e,max:t,onDrag:r,step:i,initialValue:s}){const o=w.useRef(null),a=w.useRef(null),l=w.useRef(0),c=zo("sizes","scrubberWidth"),u=hp(({event:p,first:m,xy:[v],movement:[x],memo:y})=>{if(m){const{width:A,left:_}=o.current.getBoundingClientRect();l.current=A-parseFloat(c),y=(p==null?void 0:p.target)===a.current?n:Om((v-_)/A,e,t)}const g=y+Om(x/l.current,0,t-e);return r(IR(g,{step:i,initialValue:s})),y}),h=Fm(n,e,t);return le.createElement($R,Gn({ref:o},u()),le.createElement(jR,null,le.createElement(XR,{style:{left:0,right:`${(1-h)*100}%`}})),le.createElement(k_,{ref:a,style:{left:`calc(${h} * (100% - ${c}))`}}))}const hY=le.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:r})=>{const[i,s]=w.useState(!1),o=hp(({active:a,delta:[l],event:c,memo:u=0})=>(s(a),u+=l/2,Math.abs(u)>=1&&(e(h=>parseFloat(h)+Math.floor(u)*t*TR(c)),u=0),u));return le.createElement(jJ,Gn({dragging:i,title:n.length>1?n:""},o()),n.slice(0,r))});function JR({label:n,id:e,displayValue:t,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&le.createElement(hY,{label:n,step:s.step,onUpdate:r,innerLabelTrim:o});return le.createElement(YJ,{id:e,value:String(t),onUpdate:r,onChange:i,innerLabel:a})}function pY(){const n=Wr(),{label:e,value:t,onUpdate:r,settings:i,id:s}=n,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return le.createElement(ys,{input:!0},le.createElement(Hs,null,e),le.createElement(fY,{hasRange:l},l&&le.createElement(dY,Gn({value:parseFloat(t),onDrag:r},i)),le.createElement(JR,Gn({},n,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:mY}=LR,gY=fn(LR,["sanitizeStep"]);var vY=wt({component:pY},gY);const yY=(n,e)=>gi().schema({options:gi().passesAnyOf(gi().object(),gi().array())}).test(e),_Y=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},xY=(n,{values:e})=>e.indexOf(n),EY=n=>{let{value:e,options:t}=n,r,i;return Array.isArray(t)?(i=t,r=t.map(s=>String(s))):(i=Object.values(t),r=Object.keys(t)),"value"in n?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var AY=Object.freeze({__proto__:null,schema:yY,sanitize:_Y,format:xY,normalize:EY});const wY=xt("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),U_=xt("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),SY=xt("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${U_}:focus + &`]:{$focusStyle:""},[`${U_}:hover + &`]:{$hoverStyle:""}});function MY({displayValue:n,value:e,onUpdate:t,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=w.useRef();return e===a[n]&&(l.current=o[n]),le.createElement(wY,null,le.createElement(U_,{id:r,value:n,onChange:c=>t(a[Number(c.currentTarget.value)]),disabled:s},o.map((c,u)=>le.createElement("option",{key:c,value:u},c))),le.createElement(SY,null,l.current),le.createElement(u5,{toggled:!0}))}function CY(){const{label:n,value:e,displayValue:t,onUpdate:r,id:i,disabled:s,settings:o}=Wr();return le.createElement(ys,{input:!0},le.createElement(Hs,null,n),le.createElement(MY,{id:i,value:e,displayValue:t,onUpdate:r,settings:o,disabled:s}))}var bY=wt({component:CY},AY);const TY=n=>gi().string().test(n),RY=n=>{if(typeof n!="string")throw Error("Invalid string");return n},PY=({value:n,editable:e=!0,rows:t=!1})=>({value:n,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var IY=Object.freeze({__proto__:null,schema:TY,sanitize:RY,normalize:PY});const LY=["displayValue","onUpdate","onChange","editable"],BY=xt("div",{whiteSpace:"pre-wrap"});function DY(n){let{displayValue:e,onUpdate:t,onChange:r,editable:i=!0}=n,s=fn(n,LY);return i?le.createElement(l5,Gn({value:e,onUpdate:t,onChange:r},s)):le.createElement(BY,null,e)}function NY(){const{label:n,settings:e,displayValue:t,onUpdate:r,onChange:i}=Wr();return le.createElement(ys,{input:!0},le.createElement(Hs,null,n),le.createElement(DY,Gn({displayValue:t,onUpdate:r,onChange:i},e)))}var FY=wt({component:NY},IY);const OY=n=>gi().boolean().test(n),kY=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var UY=Object.freeze({__proto__:null,schema:OY,sanitize:kY});const zY=xt("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function HY({value:n,onUpdate:e,id:t,disabled:r}){return le.createElement(zY,null,le.createElement("input",{id:t,type:"checkbox",checked:n,onChange:i=>e(i.currentTarget.checked),disabled:r}),le.createElement("label",{htmlFor:t},le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},le.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function GY(){const{label:n,value:e,onUpdate:t,disabled:r,id:i}=Wr();return le.createElement(ys,{input:!0},le.createElement(Hs,null,n),le.createElement(HY,{value:e,onUpdate:t,id:i,disabled:r}))}var VY=wt({component:GY},UY);const WY=["locked"];function jY({value:n,id:e,valueKey:t,settings:r,onUpdate:i,innerLabelTrim:s}){const o=w.useRef(n[t]);o.current=n[t];const a=w.useCallback(c=>i({[t]:CR({type:"NUMBER",value:o.current,settings:r},c)}),[i,r,t]),l=VR({type:"NUMBER",value:n[t],settings:r,setValue:a});return le.createElement(JR,{id:e,label:t,value:n[t],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const $Y=xt("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function XY(n){let{locked:e}=n,t=fn(n,WY);return le.createElement("svg",Gn({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?le.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):le.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function f5({value:n,onUpdate:e,settings:t,innerLabelTrim:r}){const{id:i,setSettings:s}=Wr(),{lock:o,locked:a}=t;return le.createElement($Y,{withLock:o},o&&le.createElement(XY,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(n).map((l,c)=>le.createElement(jY,{id:c===0?i:`${i}.${l}`,key:l,valueKey:l,value:n,settings:t[l],onUpdate:e,innerLabelTrim:r})))}const YR=(n,e)=>{const t={};let r=0,i=1/0;Object.entries(n).forEach(([s,o])=>{t[s]=PR(wt({value:o},e[s])).settings,r=Math.max(r,t[s].step),i=Math.min(i,t[s].pad)});for(let s in t){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(t[s].step=r,t[s].pad=i)}return t},JY=["lock"],YY=["value"];function KY(n){const e=gi().array().length(n).every.number(),t=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===n&&i.every(s=>isFinite(s))};return r=>e.test(r)||t(r)}function ZY(n){return Array.isArray(n)?"array":"object"}function Qd(n,e,t){return ZY(n)===e?n:e==="array"?Object.values(n):TJ(n,t)}const QY=(n,e,t)=>{const r=Qd(n,"object",e.keys);for(let o in r)r[o]=RR(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=Qd(t,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],c=o[a],u=c!==0?l/c:1;for(let h in o)h===a?s[a]=l:s[h]=o[h]*u}else s=wt(wt({},o),r)}return Qd(s,e.format,e.keys)},qY=(n,e)=>Qd(n,"object",e.keys),eK=n=>!!n&&("step"in n||"min"in n||"max"in n);function tK(n,e,t=[]){const{lock:r=!1}=e,i=fn(e,JY),s=Array.isArray(n)?"array":"object",o=s==="object"?Object.keys(n):t,a=Qd(n,"object",o),l=eK(i)?o.reduce((u,h)=>Object.assign(u,{[h]:i}),{}):i,c=YR(a,l);return{value:s==="array"?n:a,settings:wt(wt({},c),{},{format:s,keys:o,lock:r,locked:!1})}}function KR(n){return{schema:KY(n.length),normalize:e=>{let{value:t}=e,r=fn(e,YY);return tK(t,r,n)},format:(e,t)=>qY(e,t),sanitize:(e,t,r)=>QY(e,t,r)}}var nK={grad:.9,turn:360,rad:360/(2*Math.PI)},bo=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},pr=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},us=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},ZR=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},NM=function(n){return{r:us(n.r,0,255),g:us(n.g,0,255),b:us(n.b,0,255),a:us(n.a)}},Ty=function(n){return{r:pr(n.r),g:pr(n.g),b:pr(n.b),a:pr(n.a,3)}},rK=/^#([0-9a-f]{3,8})$/i,C0=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},QR=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},qR=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),c=s%6;return{r:255*[r,a,o,o,l,r][c],g:255*[l,r,r,a,o,o][c],b:255*[o,o,l,r,r,a][c],a:i}},FM=function(n){return{h:ZR(n.h),s:us(n.s,0,100),l:us(n.l,0,100),a:us(n.a)}},OM=function(n){return{h:pr(n.h),s:pr(n.s),l:pr(n.l),a:pr(n.a,3)}},kM=function(n){return qR((t=(e=n).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},qd=function(n){return{h:(e=QR(n)).h,s:(i=(200-(t=e.s))*(r=e.v)/100)>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,r,i},iK=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,sK=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,oK=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,aK=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,z_={string:[[function(n){var e=rK.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?pr(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?pr(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=oK.exec(n)||aK.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:NM({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=iK.exec(n)||sK.exec(n);if(!e)return null;var t,r,i=FM({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(nK[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return kM(i)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=i===void 0?1:i;return bo(e)&&bo(t)&&bo(r)?NM({r:Number(e),g:Number(t),b:Number(r),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,r=n.l,i=n.a,s=i===void 0?1:i;if(!bo(e)||!bo(t)||!bo(r))return null;var o=FM({h:Number(e),s:Number(t),l:Number(r),a:Number(s)});return kM(o)},"hsl"],[function(n){var e=n.h,t=n.s,r=n.v,i=n.a,s=i===void 0?1:i;if(!bo(e)||!bo(t)||!bo(r))return null;var o=function(a){return{h:ZR(a.h),s:us(a.s,0,100),v:us(a.v,0,100),a:us(a.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(s)});return qR(o)},"hsv"]]},UM=function(n,e){for(var t=0;t<e.length;t++){var r=e[t][0](n);if(r)return[r,e[t][1]]}return[null,void 0]},eP=function(n){return typeof n=="string"?UM(n.trim(),z_.string):typeof n=="object"&&n!==null?UM(n,z_.object):[null,void 0]},lK=function(n){return eP(n)[1]},Ry=function(n,e){var t=qd(n);return{h:t.h,s:us(t.s+100*e,0,100),l:t.l,a:t.a}},Py=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},zM=function(n,e){var t=qd(n);return{h:t.h,s:t.s,l:us(t.l+100*e,0,100),a:t.a}},H_=function(){function n(e){this.parsed=eP(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return pr(Py(this.rgba),2)},n.prototype.isDark=function(){return Py(this.rgba)<.5},n.prototype.isLight=function(){return Py(this.rgba)>=.5},n.prototype.toHex=function(){return e=Ty(this.rgba),t=e.r,r=e.g,i=e.b,o=(s=e.a)<1?C0(pr(255*s)):"","#"+C0(t)+C0(r)+C0(i)+o;var e,t,r,i,s,o},n.prototype.toRgb=function(){return Ty(this.rgba)},n.prototype.toRgbString=function(){return e=Ty(this.rgba),t=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+t+", "+r+", "+i+", "+s+")":"rgb("+t+", "+r+", "+i+")";var e,t,r,i,s},n.prototype.toHsl=function(){return OM(qd(this.rgba))},n.prototype.toHslString=function(){return e=OM(qd(this.rgba)),t=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+t+", "+r+"%, "+i+"%, "+s+")":"hsl("+t+", "+r+"%, "+i+"%)";var e,t,r,i,s},n.prototype.toHsv=function(){return e=QR(this.rgba),{h:pr(e.h),s:pr(e.s),v:pr(e.v),a:pr(e.a,3)};var e},n.prototype.invert=function(){return Qr({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),Qr(Ry(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),Qr(Ry(this.rgba,-e))},n.prototype.grayscale=function(){return Qr(Ry(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),Qr(zM(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),Qr(zM(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?Qr({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):pr(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=qd(this.rgba);return typeof e=="number"?Qr({h:e,s:t.s,l:t.l,a:t.a}):pr(t.h)},n.prototype.isEqual=function(e){return this.toHex()===Qr(e).toHex()},n}(),Qr=function(n){return n instanceof H_?n:new H_(n)},HM=[],cK=function(n){n.forEach(function(e){HM.indexOf(e)<0&&(e(H_,z_),HM.push(e))})};function uK(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in t)r[t[i]]=i;var s={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=r[this.toHex()];if(c)return c;if(o!=null&&o.closest){var u=this.toRgb(),h=1/0,p="black";if(!s.length)for(var m in t)s[m]=new n(t[m]).toRgb();for(var v in t){var x=(a=u,l=s[v],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));x<h&&(h=x,p=v)}return p}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":t[a];return l?new n(l).toRgb():null},"name"])}function Rf(){return(Rf=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function d5(n,e){if(n==null)return{};var t,r,i={},s=Object.keys(n);for(r=0;r<s.length;r++)e.indexOf(t=s[r])>=0||(i[t]=n[t]);return i}function G_(n){var e=w.useRef(n),t=w.useRef(function(r){e.current&&e.current(r)});return e.current=n,t.current}var uf=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},eh=function(n){return"touches"in n},V_=function(n){return n&&n.ownerDocument.defaultView||self},GM=function(n,e,t){var r=n.getBoundingClientRect(),i=eh(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,t):e;return{left:uf((i.pageX-(r.left+V_(n).pageXOffset))/r.width),top:uf((i.pageY-(r.top+V_(n).pageYOffset))/r.height)}},VM=function(n){!eh(n)&&n.preventDefault()},h5=le.memo(function(n){var e=n.onMove,t=n.onKey,r=d5(n,["onMove","onKey"]),i=w.useRef(null),s=G_(e),o=G_(t),a=w.useRef(null),l=w.useRef(!1),c=w.useMemo(function(){var m=function(y){VM(y),(eh(y)?y.touches.length>0:y.buttons>0)&&i.current?s(GM(i.current,y,a.current)):x(!1)},v=function(){return x(!1)};function x(y){var g=l.current,A=V_(i.current),_=y?A.addEventListener:A.removeEventListener;_(g?"touchmove":"mousemove",m),_(g?"touchend":"mouseup",v)}return[function(y){var g=y.nativeEvent,A=i.current;if(A&&(VM(g),!function(M,R){return R&&!eh(M)}(g,l.current)&&A)){if(eh(g)){l.current=!0;var _=g.changedTouches||[];_.length&&(a.current=_[0].identifier)}A.focus(),s(GM(A,g,a.current)),x(!0)}},function(y){var g=y.which||y.keyCode;g<37||g>40||(y.preventDefault(),o({left:g===39?.05:g===37?-.05:0,top:g===40?.05:g===38?-.05:0}))},x]},[o,s]),u=c[0],h=c[1],p=c[2];return w.useEffect(function(){return p},[p]),le.createElement("div",Rf({},r,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:h,tabIndex:0,role:"slider"}))}),pp=function(n){return n.filter(Boolean).join(" ")},p5=function(n){var e=n.color,t=n.left,r=n.top,i=r===void 0?.5:r,s=pp(["react-colorful__pointer",n.className]);return le.createElement("div",{className:s,style:{top:100*i+"%",left:100*t+"%"}},le.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},ti=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},tP=function(n){var e=n.s,t=n.v,r=n.a,i=(200-e)*t/100;return{h:ti(n.h),s:ti(i>0&&i<200?e*t/100/(i<=100?i:200-i)*100:0),l:ti(i/2),a:ti(r,2)}},W_=function(n){var e=tP(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},Iy=function(n){var e=tP(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},nP=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),c=s%6;return{r:ti(255*[r,a,o,o,l,r][c]),g:ti(255*[l,r,r,a,o,o][c]),b:ti(255*[o,o,l,r,r,a][c]),a:ti(i,2)}},rP=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:ti(60*(a<0?a+6:a)),s:ti(s?o/s*100:0),v:ti(s/255*100),a:i}},iP=le.memo(function(n){var e=n.hue,t=n.onChange,r=pp(["react-colorful__hue",n.className]);return le.createElement("div",{className:r},le.createElement(h5,{onMove:function(i){t({h:360*i.left})},onKey:function(i){t({h:uf(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":ti(e),"aria-valuemax":"360","aria-valuemin":"0"},le.createElement(p5,{className:"react-colorful__hue-pointer",left:e/360,color:W_({h:e,s:100,v:100,a:1})})))}),sP=le.memo(function(n){var e=n.hsva,t=n.onChange,r={backgroundColor:W_({h:e.h,s:100,v:100,a:1})};return le.createElement("div",{className:"react-colorful__saturation",style:r},le.createElement(h5,{onMove:function(i){t({s:100*i.left,v:100-100*i.top})},onKey:function(i){t({s:uf(e.s+100*i.left,0,100),v:uf(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+ti(e.s)+"%, Brightness "+ti(e.v)+"%"},le.createElement(p5,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:W_(e)})))}),m5=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function oP(n,e,t){var r=G_(t),i=w.useState(function(){return n.toHsva(e)}),s=i[0],o=i[1],a=w.useRef({color:e,hsva:s});w.useEffect(function(){if(!n.equal(e,a.current.color)){var c=n.toHsva(e);a.current={hsva:c,color:e},o(c)}},[e,n]),w.useEffect(function(){var c;m5(s,a.current.hsva)||n.equal(c=n.fromHsva(s),a.current.color)||(a.current={hsva:s,color:c},r(c))},[s,n,r]);var l=w.useCallback(function(c){o(function(u){return Object.assign({},u,c)})},[]);return[s,l]}var fK=typeof window<"u"?w.useLayoutEffect:w.useEffect,dK=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},WM=new Map,aP=function(n){fK(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!WM.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,WM.set(e,t);var r=dK();r&&t.setAttribute("nonce",r),e.head.appendChild(t)}},[])},hK=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=d5(n,["className","colorModel","color","onChange"]),a=w.useRef(null);aP(a);var l=oP(t,i,s),c=l[0],u=l[1],h=pp(["react-colorful",e]);return le.createElement("div",Rf({},o,{ref:a,className:h}),le.createElement(sP,{hsva:c,onChange:u}),le.createElement(iP,{hue:c.h,onChange:u,className:"react-colorful__last-control"}))},pK=function(n){var e=n.className,t=n.hsva,r=n.onChange,i={backgroundImage:"linear-gradient(90deg, "+Iy(Object.assign({},t,{a:0}))+", "+Iy(Object.assign({},t,{a:1}))+")"},s=pp(["react-colorful__alpha",e]),o=ti(100*t.a);return le.createElement("div",{className:s},le.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),le.createElement(h5,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:uf(t.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},le.createElement(p5,{className:"react-colorful__alpha-pointer",left:t.a,color:Iy(t)})))},mK=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=d5(n,["className","colorModel","color","onChange"]),a=w.useRef(null);aP(a);var l=oP(t,i,s),c=l[0],u=l[1],h=pp(["react-colorful",e]);return le.createElement("div",Rf({},o,{ref:a,className:h}),le.createElement(sP,{hsva:c,onChange:u}),le.createElement(iP,{hue:c.h,onChange:u}),le.createElement(pK,{hsva:c,onChange:u,className:"react-colorful__last-control"}))},gK={defaultColor:{r:0,g:0,b:0,a:1},toHsva:rP,fromHsva:nP,equal:m5},vK=function(n){return le.createElement(mK,Rf({},n,{colorModel:gK}))},yK={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return rP({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=nP(n)).r,g:e.g,b:e.b};var e},equal:m5},_K=function(n){return le.createElement(hK,Rf({},n,{colorModel:yK}))};function Pf(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function If(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function xK(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function EK(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(xK(arguments[e]));return n}var AK=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function mp(n,e){var t=wK(n);if(typeof t.path!="string"){var r=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function wK(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var r=e.split(".").pop().toLowerCase(),i=AK.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}var SK=[".DS_Store","Thumbs.db"];function MK(n){return Pf(this,void 0,void 0,function(){return If(this,function(e){return Um(n)&&CK(n)?[2,PK(n.dataTransfer,n.type)]:bK(n)?[2,TK(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,RK(n)]:[2,[]]})})}function CK(n){return Um(n.dataTransfer)}function bK(n){return Um(n)&&Um(n.target)}function Um(n){return typeof n=="object"&&n!==null}function TK(n){return j_(n.target.files).map(function(e){return mp(e)})}function RK(n){return Pf(this,void 0,void 0,function(){var e;return If(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(r){return r.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(r){return mp(r)})]}})})}function PK(n,e){return Pf(this,void 0,void 0,function(){var t,r;return If(this,function(i){switch(i.label){case 0:return n===null?[2,[]]:n.items?(t=j_(n.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(IK))]):[3,2];case 1:return r=i.sent(),[2,jM(lP(r))];case 2:return[2,jM(j_(n.files).map(function(s){return mp(s)}))]}})})}function jM(n){return n.filter(function(e){return SK.indexOf(e.name)===-1})}function j_(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var r=n[t];e.push(r)}return e}function IK(n){if(typeof n.webkitGetAsEntry!="function")return $M(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?cP(e):$M(n)}function lP(n){return n.reduce(function(e,t){return EK(e,Array.isArray(t)?lP(t):[t])},[])}function $M(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=mp(e);return Promise.resolve(t)}function LK(n){return Pf(this,void 0,void 0,function(){return If(this,function(e){return[2,n.isDirectory?cP(n):BK(n)]})})}function cP(n){var e=n.createReader();return new Promise(function(t,r){var i=[];function s(){var o=this;e.readEntries(function(a){return Pf(o,void 0,void 0,function(){var l,c,u;return If(this,function(h){switch(h.label){case 0:if(a.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=h.sent(),t(l),[3,4];case 3:return c=h.sent(),r(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(LK)),i.push(u),s(),h.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function BK(n){return Pf(this,void 0,void 0,function(){return If(this,function(e){return[2,new Promise(function(t,r){n.file(function(i){var s=mp(i,n.fullPath);t(s)},function(i){r(i)})})]})})}var DK=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),r=n.name||"",i=(n.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return t.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function XM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function JM(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(t),!0).forEach(function(r){uP(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):XM(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function uP(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function YM(n,e){return kK(n)||OK(n,e)||FK(n,e)||NK()}function NK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FK(n,e){if(n){if(typeof n=="string")return KM(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return KM(n,e)}}function KM(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function OK(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function kK(n){if(Array.isArray(n))return n}var UK="file-invalid-type",zK="file-too-large",HK="file-too-small",GK="too-many-files",VK=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:UK,message:"File type must be ".concat(t)}},ZM=function(e){return{code:zK,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},QM=function(e){return{code:HK,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},WK={code:GK,message:"Too many files"};function fP(n,e){var t=n.type==="application/x-moz-file"||DK(n,e);return[t,t?null:VK(e)]}function dP(n,e,t){if(Td(n.size))if(Td(e)&&Td(t)){if(n.size>t)return[!1,ZM(t)];if(n.size<e)return[!1,QM(e)]}else{if(Td(e)&&n.size<e)return[!1,QM(e)];if(Td(t)&&n.size>t)return[!1,ZM(t)]}return[!0,null]}function Td(n){return n!=null}function jK(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,s=n.multiple,o=n.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=fP(a,t),c=YM(l,1),u=c[0],h=dP(a,r,i),p=YM(h,1),m=p[0];return u&&m})}function zm(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function b0(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function qM(n){n.preventDefault()}function $K(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function XK(n){return n.indexOf("Edge/")!==-1}function JK(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return $K(n)||XK(n)}function Qs(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!zm(r)&&a&&a.apply(void 0,[r].concat(s)),zm(r)})}}function YK(){return"showOpenFilePicker"in window}function KK(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return JM(JM({},e),{},uP({},t,[]))},{}):{}}]}function ZK(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function QK(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var qK=["children"],eZ=["open"],tZ=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],nZ=["refKey","onChange","onClick"];function rZ(n){return oZ(n)||sZ(n)||hP(n)||iZ()}function iZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sZ(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function oZ(n){if(Array.isArray(n))return $_(n)}function Ly(n,e){return cZ(n)||lZ(n,e)||hP(n,e)||aZ()}function aZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hP(n,e){if(n){if(typeof n=="string")return $_(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $_(n,e)}}function $_(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function lZ(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function cZ(n){if(Array.isArray(n))return n}function eC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Rn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eC(Object(t),!0).forEach(function(r){X_(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):eC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function X_(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Hm(n,e){if(n==null)return{};var t=uZ(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function uZ(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var g5=w.forwardRef(function(n,e){var t=n.children,r=Hm(n,qK),i=mP(r),s=i.open,o=Hm(i,eZ);return w.useImperativeHandle(e,function(){return{open:s}},[s]),le.createElement(w.Fragment,null,t(Rn(Rn({},o),{},{open:s})))});g5.displayName="Dropzone";var pP={disabled:!1,getFilesFromEvent:MK,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};g5.defaultProps=pP;g5.propTypes={children:mn.func,accept:mn.oneOfType([mn.string,mn.arrayOf(mn.string)]),multiple:mn.bool,preventDropOnDocument:mn.bool,noClick:mn.bool,noKeyboard:mn.bool,noDrag:mn.bool,noDragEventsBubbling:mn.bool,minSize:mn.number,maxSize:mn.number,maxFiles:mn.number,disabled:mn.bool,getFilesFromEvent:mn.func,onFileDialogCancel:mn.func,onFileDialogOpen:mn.func,useFsAccessApi:mn.bool,onDragEnter:mn.func,onDragLeave:mn.func,onDragOver:mn.func,onDrop:mn.func,onDropAccepted:mn.func,onDropRejected:mn.func,validator:mn.func};var J_={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function mP(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Rn(Rn({},pP),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,h=e.onDragOver,p=e.onDrop,m=e.onDropAccepted,v=e.onDropRejected,x=e.onFileDialogCancel,y=e.onFileDialogOpen,g=e.useFsAccessApi,A=e.preventDropOnDocument,_=e.noClick,M=e.noKeyboard,R=e.noDrag,b=e.noDragEventsBubbling,P=e.validator,D=w.useMemo(function(){return typeof y=="function"?y:tC},[y]),V=w.useMemo(function(){return typeof x=="function"?x:tC},[x]),T=w.useRef(null),L=w.useRef(null),G=w.useReducer(fZ,J_),se=Ly(G,2),W=se[0],te=se[1],re=W.isFocused,ue=W.isFileDialogActive,F=W.draggedFiles,Y=w.useRef(typeof window<"u"&&window.isSecureContext&&g&&YK()),Q=function(){!Y.current&&ue&&setTimeout(function(){if(L.current){var we=L.current.files;we.length||(te({type:"closeDialog"}),V())}},300)};w.useEffect(function(){return window.addEventListener("focus",Q,!1),function(){window.removeEventListener("focus",Q,!1)}},[L,ue,V,Y]);var fe=w.useRef([]),xe=function(we){T.current&&T.current.contains(we.target)||(we.preventDefault(),fe.current=[])};w.useEffect(function(){return A&&(document.addEventListener("dragover",qM,!1),document.addEventListener("drop",xe,!1)),function(){A&&(document.removeEventListener("dragover",qM),document.removeEventListener("drop",xe))}},[T,A]);var Oe=w.useCallback(function(ge){ge.preventDefault(),ge.persist(),ye(ge),fe.current=[].concat(rZ(fe.current),[ge.target]),b0(ge)&&Promise.resolve(i(ge)).then(function(we){zm(ge)&&!b||(te({draggedFiles:we,isDragActive:!0,type:"setDraggedFiles"}),c&&c(ge))})},[i,c,b]),X=w.useCallback(function(ge){ge.preventDefault(),ge.persist(),ye(ge);var we=b0(ge);if(we&&ge.dataTransfer)try{ge.dataTransfer.dropEffect="copy"}catch{}return we&&h&&h(ge),!1},[h,b]),j=w.useCallback(function(ge){ge.preventDefault(),ge.persist(),ye(ge);var we=fe.current.filter(function(Ue){return T.current&&T.current.contains(Ue)}),Ge=we.indexOf(ge.target);Ge!==-1&&we.splice(Ge,1),fe.current=we,!(we.length>0)&&(te({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),b0(ge)&&u&&u(ge))},[T,u,b]),H=w.useCallback(function(ge,we){var Ge=[],Ue=[];ge.forEach(function(Je){var st=fP(Je,t),ut=Ly(st,2),Fe=ut[0],Dt=ut[1],St=dP(Je,o,s),ft=Ly(St,2),Ze=ft[0],et=ft[1],gt=P?P(Je):null;if(Fe&&Ze&&!gt)Ge.push(Je);else{var At=[Dt,et];gt&&(At=At.concat(gt)),Ue.push({file:Je,errors:At.filter(function(bt){return bt})})}}),(!a&&Ge.length>1||a&&l>=1&&Ge.length>l)&&(Ge.forEach(function(Je){Ue.push({file:Je,errors:[WK]})}),Ge.splice(0)),te({acceptedFiles:Ge,fileRejections:Ue,type:"setFiles"}),p&&p(Ge,Ue,we),Ue.length>0&&v&&v(Ue,we),Ge.length>0&&m&&m(Ge,we)},[te,a,t,o,s,l,p,m,v,P]),z=w.useCallback(function(ge){ge.preventDefault(),ge.persist(),ye(ge),fe.current=[],b0(ge)&&Promise.resolve(i(ge)).then(function(we){zm(ge)&&!b||H(we,ge)}),te({type:"reset"})},[i,H,b]),ve=w.useCallback(function(){if(Y.current){te({type:"openDialog"}),D();var ge={multiple:a,types:KK(t)};window.showOpenFilePicker(ge).then(function(we){return i(we)}).then(function(we){H(we,null),te({type:"closeDialog"})}).catch(function(we){ZK(we)?(V(we),te({type:"closeDialog"})):QK(we)&&(Y.current=!1,L.current&&(L.current.value=null,L.current.click()))});return}L.current&&(te({type:"openDialog"}),D(),L.current.value=null,L.current.click())},[te,D,V,g,H,t,a]),be=w.useCallback(function(ge){!T.current||!T.current.isEqualNode(ge.target)||(ge.key===" "||ge.key==="Enter"||ge.keyCode===32||ge.keyCode===13)&&(ge.preventDefault(),ve())},[T,ve]),Ee=w.useCallback(function(){te({type:"focus"})},[]),Te=w.useCallback(function(){te({type:"blur"})},[]),J=w.useCallback(function(){_||(JK()?setTimeout(ve,0):ve())},[_,ve]),Ae=function(we){return r?null:we},ae=function(we){return M?null:Ae(we)},me=function(we){return R?null:Ae(we)},ye=function(we){b&&we.stopPropagation()},De=w.useMemo(function(){return function(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=ge.refKey,Ge=we===void 0?"ref":we,Ue=ge.role,Je=ge.onKeyDown,st=ge.onFocus,ut=ge.onBlur,Fe=ge.onClick,Dt=ge.onDragEnter,St=ge.onDragOver,ft=ge.onDragLeave,Ze=ge.onDrop,et=Hm(ge,tZ);return Rn(Rn(X_({onKeyDown:ae(Qs(Je,be)),onFocus:ae(Qs(st,Ee)),onBlur:ae(Qs(ut,Te)),onClick:Ae(Qs(Fe,J)),onDragEnter:me(Qs(Dt,Oe)),onDragOver:me(Qs(St,X)),onDragLeave:me(Qs(ft,j)),onDrop:me(Qs(Ze,z)),role:typeof Ue=="string"&&Ue!==""?Ue:"button"},Ge,T),!r&&!M?{tabIndex:0}:{}),et)}},[T,be,Ee,Te,J,Oe,X,j,z,M,R,r]),oe=w.useCallback(function(ge){ge.stopPropagation()},[]),I=w.useMemo(function(){return function(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=ge.refKey,Ge=we===void 0?"ref":we,Ue=ge.onChange,Je=ge.onClick,st=Hm(ge,nZ),ut=X_({accept:t,multiple:a,type:"file",style:{display:"none"},onChange:Ae(Qs(Ue,z)),onClick:Ae(Qs(Je,oe)),tabIndex:-1},Ge,L);return Rn(Rn({},ut),st)}},[L,t,a,z,r]),k=F.length,he=k>0&&jK({files:F,accept:t,minSize:o,maxSize:s,multiple:a,maxFiles:l}),Ne=k>0&&!he;return Rn(Rn({},W),{},{isDragAccept:he,isDragReject:Ne,isFocused:re&&!r,getRootProps:De,getInputProps:I,rootRef:T,inputRef:L,open:Ae(ve)})}function fZ(n,e){switch(e.type){case"focus":return Rn(Rn({},n),{},{isFocused:!0});case"blur":return Rn(Rn({},n),{},{isFocused:!1});case"openDialog":return Rn(Rn({},J_),{},{isFileDialogActive:!0});case"closeDialog":return Rn(Rn({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,r=e.draggedFiles;return Rn(Rn({},n),{},{draggedFiles:r,isDragActive:t});case"setFiles":return Rn(Rn({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Rn({},J_);default:return n}}function tC(){}/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var dZ=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var hZ=dZ;function nC(n){return hZ(n)===!0&&Object.prototype.toString.call(n)==="[object Object]"}var gP=function(e){var t,r;return!(nC(e)===!1||(t=e.constructor,typeof t!="function")||(r=t.prototype,nC(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var pZ=gP,v5=function(e){return pZ(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var mZ=function(e,t,r){for(var i in e)if(t.call(r,e[i],i,e)===!1)break},gZ=v5,vZ=mZ;function vP(n,e){for(var t=arguments.length,r=0;++r<t;){var i=arguments[r];Y_(i)&&vZ(i,yZ,n)}return n}function yZ(n,e){if(_Z(e)){var t=this[e];Y_(n)&&Y_(t)?vP(t,n):this[e]=n}}function Y_(n){return gZ(n)&&!Array.isArray(n)}function _Z(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var xZ=vP;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var EZ=function(n,e,t,r,i){if(!AZ(n)||!e)return n;if(e=T0(e),t&&(e+="."+T0(t)),r&&(e+="."+T0(r)),i&&(e+="."+T0(i)),e in n)return n[e];for(var s=e.split("."),o=s.length,a=-1;n&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];n=n[l]}return n};function AZ(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function T0(n){return n?Array.isArray(n)?n.join("."):n:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var wZ=function(n,e){if(n===null||typeof n>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,r=Object(n),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var c=a[l];t.call(o,c)&&(r[c]=o[c])}return r},SZ=v5,MZ=wZ,CZ=Object.assign||function(n){if(n===null||typeof n>"u")throw new TypeError("Cannot convert undefined or null to object");rC(n)||(n={});for(var e=1;e<arguments.length;e++){var t=arguments[e];TZ(t)&&(t=RZ(t)),rC(t)&&(bZ(n,t),MZ(n,t))}return n};function bZ(n,e){for(var t in e)PZ(e,t)&&(n[t]=e[t])}function TZ(n){return n&&typeof n=="string"}function RZ(n){var e={};for(var t in n)e[t]=n[t];return e}function rC(n){return n&&typeof n=="object"||SZ(n)}function PZ(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var IZ=CZ,LZ=function(n,e,t){if(typeof n!="string")throw new TypeError("expected a string");typeof e=="function"&&(t=e,e=null),typeof e=="string"&&(e={sep:e});var r=IZ({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],c=r.sep,u=n.length,h=-1,p;function m(){if(s&&a.length)return s[a[a.length-1]]}for(;++h<u;){var v=n[h],x=n[h+1],y={val:v,idx:h,arr:l,str:n};if(o.push(y),v==="\\"){y.val=DZ(r,n,h)===!0?v+x:x,y.escaped=!0,typeof t=="function"&&t(y),l[l.length-1]+=y.val,h++;continue}if(s&&s[v]){a.push(v);var g=m(),A=h+1;if(n.indexOf(g,A+1)!==-1)for(;a.length&&A<u;){var _=n[++A];if(_==="\\"){_++;continue}if(i.indexOf(_)!==-1){A=K_(n,_,A+1);continue}if(g=m(),a.length&&n.indexOf(g,A+1)===-1)break;if(s[_]){a.push(_);continue}g===_&&a.pop()}if(p=A,p===-1){l[l.length-1]+=v;continue}v=n.slice(h,p+1),y.val=v,y.idx=h=p}if(i.indexOf(v)!==-1){if(p=K_(n,v,h+1),p===-1){l[l.length-1]+=v;continue}BZ(v,r)===!0?v=n.slice(h,p+1):v=n.slice(h+1,p),y.val=v,y.idx=h=p}if(typeof t=="function"&&(t(y,o),v=y.val,h=y.idx),y.val===c&&y.split!==!1){l.push("");continue}l[l.length-1]+=y.val}return l};function K_(n,e,t,r){var i=n.indexOf(e,t);return n.charAt(i-1)==="\\"?K_(n,e,i+1):i}function BZ(n,e){return e.keepDoubleQuotes===!0&&n==='"'||e.keepSingleQuotes===!0&&n==="'"?!0:e.keepQuotes}function DZ(n,e,t){return typeof n.keepEscaping=="function"?n.keepEscaping(e,t):n.keepEscaping===!0||e[t+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var NZ=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},iC=NZ,FZ=function(e){iC(e)||(e={});for(var t=arguments.length,r=1;r<t;r++){var i=arguments[r];iC(i)&&OZ(e,i)}return e};function OZ(n,e){for(var t in e)kZ(e,t)&&(n[t]=e[t])}function kZ(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var UZ=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var zZ=LZ,HZ=FZ,sC=gP,oC=UZ,GZ=function(n,e,t){if(!oC(n)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return n;for(var r=zZ(e,{sep:".",brackets:!0}).filter(VZ),i=r.length,s=-1,o=n;++s<i;){var a=r[s];if(s!==i-1){oC(o[a])||(o[a]={}),o=o[a];continue}sC(o[a])&&sC(t)?o[a]=HZ({},o[a],t):o[a]=t}return n};function VZ(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var By=v5,aC=xZ,WZ=EZ,lC=GZ,jZ=function(e,t,r){if(!By(e))throw new TypeError("expected an object");if(typeof t!="string"||r==null)return aC.apply(null,arguments);if(typeof r=="string")return lC(e,t,r),e;var i=WZ(e,t);return By(r)&&By(i)&&(r=aC({},i,r)),lC(e,t,r),e};const $Z=rl(jZ),y5=(...n)=>n.filter(Boolean).join(".");function XZ(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function JZ(n,e){return Object.entries(CJ(n,e)).reduce((t,[,{value:r,disabled:i,key:s}])=>(t[s]=i?void 0:r,t),{})}function YZ(n,e){const t=w.useRef();return(e?Nh:up)(n,t.current)||(t.current=n),t.current}function yP(n,e){return w.useMemo(n,YZ(e,!0))}function KZ(n){const e=w.useRef(null),t=w.useRef(null),r=w.useRef(!0);return w.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),w.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{n&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=t.current.getBoundingClientRect();return s.style.height=a+"px",n||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[n]),{wrapperRef:e,contentRef:t}}const ZZ=n=>{const[e,t]=w.useState(n.getVisiblePaths());return w.useEffect(()=>{t(n.getVisiblePaths());const r=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:up});return()=>r()},[n]),e};function QZ(n,e,t){return n.useStore(i=>{const s=wt(wt({},t),i.data);return JZ(s,e)},up)}function _P(n=3){const e=w.useRef(null),t=w.useRef(null),[r,i]=w.useState(!1),s=w.useCallback(()=>i(!0),[]),o=w.useCallback(()=>i(!1),[]);return w.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:c}=e.current.getBoundingClientRect(),{height:u}=t.current.getBoundingClientRect(),h=a+u>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=c+"px",h==="down"?t.current.style.top=a+n+"px":t.current.style.bottom=window.innerHeight-l+n+"px"}},[n,r]),{popinRef:e,wrapperRef:t,shown:r,show:s,hide:o}}cK([uK]);const qZ={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};gi.extend({color:()=>n=>Qr(n).isValid()});const eQ=n=>gi().color().test(n);function xP(n,{format:e,hasAlpha:t,isString:r}){const i=qZ[e]+(r&&e!=="hex"?"String":""),s=n[i]();return typeof s=="object"&&!t?bJ(s,["a"]):s}const EP=(n,e)=>{const t=Qr(n);if(!t.isValid())throw Error("Invalid color");return xP(t,e)},tQ=(n,e)=>xP(Qr(n),wt(wt({},e),{},{isString:!0,format:"hex"})),nQ=({value:n})=>{const e=lK(n),t=e==="name"?"hex":e,r=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),i={format:t,hasAlpha:r,isString:typeof n=="string"};return{value:EP(n,i),settings:i}};var rQ=Object.freeze({__proto__:null,schema:eQ,sanitize:EP,format:tQ,normalize:nQ});const iQ=xt("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),sQ=xt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),oQ=xt("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function cC(n,e){return e!=="rgb"?Qr(n).toRgb():n}function aQ({value:n,displayValue:e,settings:t,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=Wr(),{format:o,hasAlpha:a}=t,{popinRef:l,wrapperRef:c,shown:u,show:h,hide:p}=_P(),m=w.useRef(0),[v,x]=w.useState(()=>cC(n,o)),y=a?vK:_K,g=()=>{x(cC(n,o)),h(),i()},A=()=>{p(),s(),window.clearTimeout(m.current)},_=()=>{m.current=window.setTimeout(A,500)};return w.useEffect(()=>()=>window.clearTimeout(m.current),[]),le.createElement(le.Fragment,null,le.createElement(iQ,{ref:l,active:u,onClick:()=>g(),style:{color:e}}),u&&le.createElement(c5,null,le.createElement(GR,{onPointerUp:A}),le.createElement(oQ,{ref:c,onMouseEnter:()=>window.clearTimeout(m.current),onMouseLeave:M=>M.buttons===0&&_()},le.createElement(y,{color:v,onChange:r}))))}function lQ(){const{value:n,displayValue:e,label:t,onChange:r,onUpdate:i,settings:s}=Wr();return le.createElement(ys,{input:!0},le.createElement(Hs,null,t),le.createElement(sQ,null,le.createElement(aQ,{value:n,displayValue:e,onChange:r,onUpdate:i,settings:s}),le.createElement(l5,{value:e,onChange:r,onUpdate:i})))}var cQ=wt({component:lQ},rQ);function uQ(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Wr();return le.createElement(ys,{input:!0},le.createElement(Hs,null,n),le.createElement(f5,{value:e,settings:r,onUpdate:t}))}var fQ=wt({component:uQ},KR(["x","y","z"]));const dQ=xt("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),hQ=xt("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function pQ({value:n,settings:e,onUpdate:t}){const r=w.useRef(),i=w.useRef(0),s=w.useRef(0),o=w.useRef(1),[a,l]=w.useState(!1),[c,u]=w.useState(!1),[h,p]=WR(),m=w.useRef(null),v=w.useRef(null);w.useLayoutEffect(()=>{if(a){const{top:G,left:se,width:W,height:te}=m.current.getBoundingClientRect();v.current.style.left=se+W/2+"px",v.current.style.top=G+te/2+"px"}},[a]);const{keys:[x,y],joystick:g}=e,A=g==="invertY"?1:-1,{[x]:{step:_},[y]:{step:M}}=e,R=zo("sizes","joystickWidth"),b=zo("sizes","joystickHeight"),P=parseFloat(R)*.8/2,D=parseFloat(b)*.8/2,V=w.useCallback(()=>{r.current||(u(!0),i.current&&p({x:i.current*P}),s.current&&p({y:s.current*-D}),r.current=window.setInterval(()=>{t(G=>{const se=_*i.current*o.current,W=A*M*s.current*o.current;return Array.isArray(G)?{[x]:G[0]+se,[y]:G[1]+W}:{[x]:G[x]+se,[y]:G[y]+W}})},16))},[P,D,t,p,_,M,x,y,A]),T=w.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,u(!1)},[]);w.useEffect(()=>{function G(se){o.current=TR(se)}return window.addEventListener("keydown",G),window.addEventListener("keyup",G),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",G),window.removeEventListener("keyup",G)}},[]);const L=hp(({first:G,active:se,delta:[W,te],movement:[re,ue]})=>{G&&l(!0);const F=nl(re,-P,P),Y=nl(ue,-D,D);i.current=Math.abs(re)>Math.abs(F)?Math.sign(re-F):0,s.current=Math.abs(ue)>Math.abs(Y)?Math.sign(Y-ue):0;let Q=n[x],fe=n[y];se?(i.current||(Q+=W*_*o.current,p({x:F})),s.current||(fe-=A*te*M*o.current,p({y:Y})),i.current||s.current?V():T(),t({[x]:Q,[y]:fe})):(l(!1),i.current=0,s.current=0,p({x:0,y:0}),T())});return le.createElement(dQ,Gn({ref:m},L()),a&&le.createElement(c5,null,le.createElement(hQ,{ref:v,isOutOfBounds:c},le.createElement("div",null),le.createElement("span",{ref:h}))))}const mQ=xt("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function gQ(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Wr();return le.createElement(ys,{input:!0},le.createElement(Hs,null,n),le.createElement(mQ,{withJoystick:!!r.joystick},r.joystick&&le.createElement(pQ,{value:e,settings:r,onUpdate:t}),le.createElement(f5,{value:e,settings:r,onUpdate:t})))}const vQ=["joystick"],AP=KR(["x","y"]),yQ=n=>{let{joystick:e=!0}=n,t=fn(n,vQ);const{value:r,settings:i}=AP.normalize(t);return{value:r,settings:wt(wt({},i),{},{joystick:e})}};var _Q=wt(wt({component:gQ},AP),{},{normalize:yQ});const xQ=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob | File].")}},EQ=(n,e)=>typeof e=="object"&&"image"in e,AQ=({image:n})=>({value:n});var wQ=Object.freeze({__proto__:null,sanitize:xQ,schema:EQ,normalize:AQ});const SQ=xt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),MQ=xt("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),CQ=xt("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),bQ=xt("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),TQ=xt("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),RQ=xt("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function PQ(){const{label:n,value:e,onUpdate:t,disabled:r}=Wr(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=_P(),c=w.useCallback(v=>{v.length&&t(v[0])},[t]),u=w.useCallback(v=>{v.stopPropagation(),t(void 0)},[t]),{getRootProps:h,getInputProps:p,isDragAccept:m}=mP({maxFiles:1,accept:"image/*",onDrop:c,disabled:r});return le.createElement(ys,{input:!0},le.createElement(Hs,null,n),le.createElement(SQ,null,le.createElement(CQ,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&le.createElement(c5,null,le.createElement(GR,{onPointerUp:l,style:{cursor:"pointer"}}),le.createElement(bQ,{ref:s,style:{backgroundImage:`url(${e})`}})),le.createElement(MQ,h({isDragAccept:m}),le.createElement("input",p()),le.createElement(TQ,null,m?"drop image":"click or drop")),le.createElement(RQ,{onClick:u,disabled:!e})))}var IQ=wt({component:PQ},wQ);const uC=gi().number(),LQ=(n,e)=>gi().array().length(2).every.number().test(n)&&gi().schema({min:uC,max:uC}).test(e),Gm=n=>({min:n[0],max:n[1]}),wP=(n,{bounds:[e,t]},r)=>{const i=Array.isArray(n)?Gm(n):n,s={min:r[0],max:r[1]},{min:o,max:a}=wt(wt({},s),i);return[nl(Number(o),e,Math.max(e,a)),nl(Number(a),Math.min(t,o),t)]},BQ=({value:n,min:e,max:t})=>{const r={min:e,max:t},i=YR(Gm(n),{min:r,max:r}),s=[e,t],o=wt(wt({},i),{},{bounds:s});return{value:wP(Gm(n),o,n),settings:o}};var DQ=Object.freeze({__proto__:null,schema:LQ,format:Gm,sanitize:wP,normalize:BQ});const NQ=["value","bounds","onDrag"],FQ=["bounds"],OQ=xt("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function kQ(n){let{value:e,bounds:[t,r],onDrag:i}=n,s=fn(n,NQ);const o=w.useRef(null),a=w.useRef(null),l=w.useRef(null),c=w.useRef(0),u=zo("sizes","scrubberWidth"),h=hp(({event:v,first:x,xy:[y],movement:[g],memo:A={}})=>{if(x){const{width:M,left:R}=o.current.getBoundingClientRect();c.current=M-parseFloat(u);const b=(v==null?void 0:v.target)===a.current||(v==null?void 0:v.target)===l.current;A.pos=Om((y-R)/M,t,r);const P=Math.abs(A.pos-e.min)-Math.abs(A.pos-e.max);A.key=P<0||P===0&&A.pos<=e.min?"min":"max",b&&(A.pos=e[A.key])}const _=A.pos+Om(g/c.current,0,r-t);return i({[A.key]:mY(_,s[A.key])}),A}),p=`calc(${Fm(e.min,t,r)} * (100% - ${u} - 8px) + 4px)`,m=`calc(${1-Fm(e.max,t,r)} * (100% - ${u} - 8px) + 4px)`;return le.createElement($R,Gn({ref:o},h()),le.createElement(jR,null,le.createElement(XR,{style:{left:p,right:m}})),le.createElement(k_,{position:"left",ref:a,style:{left:p}}),le.createElement(k_,{position:"right",ref:l,style:{right:m}}))}function UQ(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Wr(),i=fn(r,FQ);return le.createElement(le.Fragment,null,le.createElement(ys,{input:!0},le.createElement(Hs,null,n),le.createElement(OQ,null,le.createElement(kQ,Gn({value:e},r,{onDrag:t})),le.createElement(f5,{value:e,settings:i,onUpdate:t,innerLabelTrim:0}))))}var zQ=wt({component:UQ},DQ);const HQ=()=>{const n=new Map;return{on:(e,t)=>{let r=n.get(e);r===void 0&&(r=new Set,n.set(e,r)),r.add(t)},off:(e,t)=>{const r=n.get(e);r!==void 0&&(r.delete(t),r.size===0&&n.delete(e))},emit:(e,...t)=>{const r=n.get(e);if(r!==void 0)for(const i of r)i(...t)}}},GQ=["type","value"],VQ=["onChange","transient","onEditStart","onEditEnd"],WQ=function(){const e=H4(QV(()=>({data:{}}))),t=HQ();this.storeId=MJ(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([u,h])=>{h.render&&a.some(p=>p.indexOf(u)===0)&&!h.render(this.get)&&l.push(u+".")});const c=[];return i.forEach(u=>{u in o&&o[u].__refCount>0&&l.every(h=>u.indexOf(h)===-1)&&(!o[u].render||o[u].render(this.get))&&c.push(u)}),c},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(c=>{if(c in l){const u=l[c];u.__refCount--,u.__refCount===0&&u.type in Ns&&delete l[c]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([u,h])=>{let p=c[u];if(p){const{type:m,value:v}=h,x=fn(h,GQ);m!==p.type?Lo(Pn.INPUT_TYPE_OVERRIDE,m):((p.__refCount===0||a)&&Object.assign(p,x),p.__refCount++)}else c[u]=wt(wt({},h),{},{__refCount:1})}),{data:c}})},this.setValueAtPath=(o,a,l)=>{e.setState(c=>{const u=c.data;return DM(u[o],a,o,this,l),{data:u}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].settings=wt(wt({},c[o].settings),a),{data:c}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].disabled=a,{data:c}})},this.set=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([u,h])=>{try{DM(c[u],h,void 0,void 0,a)}catch{}}),{data:c}})},this.getInput=o=>{try{return this.getData()[o]}catch{Lo(Pn.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{t.emit(`onEditStart:${o}`,this.get(o),o,wt(wt({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{t.emit(`onEditEnd:${o}`,this.get(o),o,wt(wt({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return t.on(l,a),()=>t.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return t.on(l,a),()=>t.off(l,a)};const s=(o,a,l)=>{const c={};return Object.entries(o).forEach(([u,h])=>{if(u==="")return Lo(Pn.EMPTY_KEY);let p=y5(a,u);if(h.type===Ns.FOLDER){const m=s(h.schema,p,l);Object.assign(c,m),p in r||(r[p]=h.settings)}else if(u in l)Lo(Pn.DUPLICATE_KEYS,u,p,l[u].path);else{const m=BJ(h,u,p,c);if(m){const{type:v,options:x,input:y}=m,{onChange:g,transient:A,onEditStart:_,onEditEnd:M}=x,R=fn(x,VQ);c[p]=wt(wt(wt({type:v},R),y),{},{fromPanel:!0}),l[u]={path:p,onChange:g,transient:A,onEditStart:_,onEditEnd:M}}else Lo(Pn.UNKNOWN_INPUT,p,h)}}),c};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}},SP=new WQ,jQ={collapsed:!1};function $Q(n,e){return{type:Ns.FOLDER,schema:n,settings:wt(wt({},jQ),e)}}const fC=n=>"__levaInput"in n,XQ=(n,e)=>{const t={},r=e?e.toLowerCase():null;return n.forEach(i=>{const[s,o]=XZ(i);(!r||s.toLowerCase().indexOf(r)>-1)&&$Z(t,o,{[s]:{__levaInput:!0,path:i}})}),t},JQ=["type","label","path","valueKey","value","settings","setValue","disabled"];function YQ(n){let{type:e,label:t,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=n,c=fn(n,JQ);const{displayValue:u,onChange:h,onUpdate:p}=VR({type:e,value:s,settings:o,setValue:a}),m=pc[e].component;return m?le.createElement(BR.Provider,{value:wt({key:i,path:r,id:""+r,label:t,displayValue:u,value:s,onChange:h,onUpdate:p,settings:o,setValue:a,disabled:l},c)},le.createElement(qJ,{disabled:l},le.createElement(m,null))):(Lo(Pn.NO_COMPONENT_FOR_TYPE,e,r),null)}const KQ=xt("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function ZQ({onClick:n,settings:e,label:t}){const r=dp();return le.createElement(ys,null,le.createElement(KQ,{disabled:e.disabled,onClick:()=>n(r.get)},t))}const QQ=xt("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),qQ=xt("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),eq=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(t=e.label),r=e.opts),{label:t,opts:r}};function tq(n){const{label:e,opts:t}=eq(n),r=dp();return le.createElement(ys,{input:!!e},e&&le.createElement(Hs,null,e),le.createElement(QQ,null,Object.entries(t).map(([i,s])=>le.createElement(qQ,{key:i,onClick:()=>s(r.get)},i))))}const nq=xt("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),MP=100;function rq(n,e){n.push(e),n.length>MP&&n.shift()}const iq=w.forwardRef(function({initialValue:n},e){const t=zo("colors","highlight3"),r=zo("colors","elevation2"),i=zo("colors","highlight1"),[s,o]=w.useMemo(()=>[Qr(i).alpha(.4).toRgbString(),Qr(i).alpha(.1).toRgbString()],[i]),a=w.useRef([n]),l=w.useRef(n),c=w.useRef(n),u=w.useRef(),h=w.useCallback((v,x)=>{if(!v)return;const{width:y,height:g}=v,A=new Path2D,_=y/MP,M=g*.05;for(let P=0;P<a.current.length;P++){const D=Fm(a.current[P],l.current,c.current),V=_*P,T=g-D*(g-M*2)-M;A.lineTo(V,T)}x.clearRect(0,0,y,g);const R=new Path2D(A);R.lineTo(_*(a.current.length+1),g),R.lineTo(0,g),R.lineTo(0,0);const b=x.createLinearGradient(0,0,0,g);b.addColorStop(0,s),b.addColorStop(1,o),x.fillStyle=b,x.fill(R),x.strokeStyle=r,x.lineJoin="round",x.lineWidth=14,x.stroke(A),x.strokeStyle=t,x.lineWidth=2,x.stroke(A)},[t,r,s,o]),[p,m]=lY(h);return w.useImperativeHandle(e,()=>({frame:v=>{(l.current===void 0||v<l.current)&&(l.current=v),(c.current===void 0||v>c.current)&&(c.current=v),rq(a.current,v),u.current=requestAnimationFrame(()=>h(p.current,m.current))}}),[p,m,h]),w.useEffect(()=>()=>cancelAnimationFrame(u.current),[]),le.createElement(nq,{ref:p})}),dC=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),sq=w.forwardRef(function({initialValue:n},e){const[t,r]=w.useState(dC(n));return w.useImperativeHandle(e,()=>({frame:i=>r(dC(i))}),[]),le.createElement("div",null,t)});function hC(n){return typeof n=="function"?n():n.current}function oq({label:n,objectOrFn:e,settings:t}){const r=w.useRef(),i=w.useRef(hC(e));return w.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(hC(e))},t.interval);return()=>window.clearInterval(s)},[e,t.interval]),le.createElement(ys,{input:!0},le.createElement(Hs,{align:"top"},n),t.graph?le.createElement(iq,{ref:r,initialValue:i.current}):le.createElement(sq,{ref:r,initialValue:i.current}))}const aq=["type","label","key"],lq={[Ns.BUTTON]:ZQ,[Ns.BUTTON_GROUP]:tq,[Ns.MONITOR]:oq},cq=le.memo(({path:n})=>{const[e,{set:t,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=uY(n);if(!e)return null;const{type:l,label:c,key:u}=e,h=fn(e,aq);if(l in Ns){const p=lq[l];return le.createElement(p,Gn({label:c,path:n},h))}return l in pc?le.createElement(YQ,Gn({key:s+n,type:l,label:c,storeId:s,path:n,valueKey:u,setValue:t,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},h)):(vJ(Pn.UNSUPPORTED_INPUT,l,n),null)});function uq({toggle:n,toggled:e,name:t}){return le.createElement(KJ,{onClick:()=>n()},le.createElement(u5,{toggled:e}),le.createElement("div",null,t))}const fq=({name:n,path:e,tree:t})=>{const r=dp(),i=y5(e,n),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=w.useState(!s),c=w.useRef(null),u=zo("colors","folderWidgetColor"),h=zo("colors","folderTextColor");return w.useLayoutEffect(()=>{c.current.style.setProperty("--leva-colors-folderWidgetColor",o||u),c.current.style.setProperty("--leva-colors-folderTextColor",o||h)},[o,u,h]),le.createElement(km,{ref:c},le.createElement(uq,{name:n,toggled:a,toggle:()=>l(p=>!p)}),le.createElement(CP,{parent:i,tree:t,toggled:a}))},CP=le.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=KZ(s),l=dp(),c=([h,p])=>{var m;return(fC(p)?(m=l.getInput(p.path))===null||m===void 0?void 0:m.order:l.getFolderSettings(y5(r,h)).order)||0},u=Object.entries(i).sort((h,p)=>c(h)-c(p));return le.createElement(F_,{ref:o,isRoot:n,fill:e,flat:t},le.createElement(UR,{ref:a,isRoot:n,toggled:s},u.map(([h,p])=>fC(p)?le.createElement(cq,{key:p.path,valueKey:p.valueKey,path:p.path}):le.createElement(fq,{key:h,name:h,path:r,tree:p}))))}),dq=xt("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${HR}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),bP=40,Vm=xt("i",{$flexCenter:"",width:bP,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),hq=xt("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),pq=xt("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${Vm}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),mq=xt("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),gq=xt("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:bP}}}}),vq=le.forwardRef(({setFilter:n,toggle:e},t)=>{const[r,i]=w.useState(""),s=w.useMemo(()=>bR(n,250),[n]),o=()=>{n(""),i("")},a=l=>{const c=l.currentTarget.value;e(!0),i(c)};return w.useEffect(()=>{s(r)},[r,s]),le.createElement(le.Fragment,null,le.createElement(mq,{ref:t,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),le.createElement(Vm,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function yq({setFilter:n,onDrag:e,onDragStart:t,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:c}){const[u,h]=w.useState(!1),p=w.useRef(null);w.useEffect(()=>{var v,x;u?(v=p.current)===null||v===void 0||v.focus():(x=p.current)===null||x===void 0||x.blur()},[u]);const m=hp(({offset:[v,x],first:y,last:g})=>{e({x:v,y:x}),y&&t({x:v,y:x}),g&&r({x:v,y:x})},{filterTaps:!0,from:({offset:[v,x]})=>[(c==null?void 0:c.x)||v,(c==null?void 0:c.y)||x]});return w.useEffect(()=>{const v=x=>{x.key==="L"&&x.shiftKey&&x.metaKey&&h(y=>!y)};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[]),le.createElement(le.Fragment,null,le.createElement(hq,{mode:a?"drag":void 0},le.createElement(Vm,{active:!s,onClick:()=>i()},le.createElement(u5,{toggled:s,width:12,height:8})),le.createElement(gq,Gn({},a?m():{},{drag:a,filterEnabled:l}),o===void 0&&a?le.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},le.createElement("circle",{cx:"2",cy:"2",r:"2"}),le.createElement("circle",{cx:"14",cy:"2",r:"2"}),le.createElement("circle",{cx:"26",cy:"2",r:"2"}),le.createElement("circle",{cx:"2",cy:"12",r:"2"}),le.createElement("circle",{cx:"14",cy:"12",r:"2"}),le.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&le.createElement(Vm,{active:u,onClick:()=>h(v=>!v)},le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},le.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),le.createElement(pq,{toggled:u},le.createElement(vq,{ref:p,setFilter:n,toggle:i})))}const _q=["store","hidden","theme","collapsed"];function xq(n){let{store:e,hidden:t=!1,theme:r,collapsed:i=!1}=n,s=fn(n,_q);const o=yP(()=>WJ(r),[r]),[a,l]=w.useState(!i),c=typeof i=="object"?!i.collapsed:a,u=w.useMemo(()=>typeof i=="object"?h=>{typeof h=="function"?i.onChange(!h(!i.collapsed)):i.onChange(!h)}:l,[i]);return!e||t?null:le.createElement(a5.Provider,{value:o},le.createElement(Eq,Gn({store:e},s,{toggled:c,setToggle:u,rootClass:o.className})))}const Eq=le.memo(({store:n,rootClass:e,fill:t=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:c})=>{var u,h;const p=ZZ(n),[m,v]=w.useState(""),x=w.useMemo(()=>XQ(p,m),[p,m]),[y,g]=WR(),A=i||p.length>0,_=typeof o=="object"&&o.title||void 0,M=typeof o=="object"&&(u=o.drag)!==null&&u!==void 0?u:!0,R=typeof o=="object"&&(h=o.filter)!==null&&h!==void 0?h:!0,b=typeof o=="object"&&o.position||void 0,P=typeof o=="object"&&o.onDrag||void 0,D=typeof o=="object"&&o.onDragStart||void 0,V=typeof o=="object"&&o.onDragEnd||void 0;return le.useEffect(()=>{g({x:b==null?void 0:b.x,y:b==null?void 0:b.y})},[b,g]),VJ(),le.createElement(NR.Provider,{value:{hideCopyButton:a}},le.createElement(dq,{ref:y,className:e,fill:t,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:A?"block":"none"}},o&&le.createElement(yq,{onDrag:T=>{g(T),P==null||P(T)},onDragStart:T=>D==null?void 0:D(T),onDragEnd:T=>V==null?void 0:V(T),setFilter:v,toggle:T=>c(L=>T??!L),toggled:l,title:_,drag:M,filterEnabled:R,from:b}),A&&le.createElement(DR.Provider,{value:n},le.createElement(CP,{isRoot:!0,fill:t,flat:r,tree:x,toggled:l}))))}),Aq=["isRoot"];let Wm=!1,Yl=null;function TP(n){let{isRoot:e=!1}=n,t=fn(n,Aq);return w.useEffect(()=>(Wm=!0,!e&&Yl&&(Yl.remove(),Yl=null),()=>{e||(Wm=!1)}),[e]),le.createElement(xq,Gn({store:SP},t))}function wq(n){w.useEffect(()=>{n&&!Wm&&(Yl||(Yl=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(Yl),NJ(le.createElement(TP,{isRoot:!0}),Yl))),Wm=!0)},[n])}function Sq(n,e,t,r,i){let s,o,a,l,c;return typeof n=="string"?(o=n,s=e,Array.isArray(t)?c=t:t&&("store"in t?(l=t,c=r):(a=t,Array.isArray(r)?c=r:(l=r,c=i)))):(s=n,Array.isArray(e)?c=e:(l=e,c=t)),{schema:s,folderName:o,folderSettings:a,hookSettings:l,deps:c||[]}}function th(n,e,t,r,i){const{folderName:s,schema:o,folderSettings:a,hookSettings:l,deps:c}=Sq(n,e,t,r,i),u=typeof o=="function",h=w.useRef(!1),p=w.useRef(!0),m=yP(()=>{h.current=!0;const L=typeof o=="function"?o():o;return s?{[s]:$Q(L,a)}:L},c),v=!(l!=null&&l.store);wq(v);const[x]=w.useState(()=>(l==null?void 0:l.store)||SP),[y,g]=w.useMemo(()=>x.getDataFromSchema(m),[x,m]),[A,_,M,R,b]=w.useMemo(()=>{const L=[],G=[],se={},W={},te={};return Object.values(g).forEach(({path:re,onChange:ue,onEditStart:F,onEditEnd:Y,transient:Q})=>{L.push(re),ue?(se[re]=ue,Q||G.push(re)):G.push(re),F&&(W[re]=F),Y&&(te[re]=Y)}),[L,G,se,W,te]},[g]),P=w.useMemo(()=>x.orderPaths(A),[A,x]),D=QZ(x,_,y),V=w.useCallback(L=>{const G=Object.entries(L).reduce((se,[W,te])=>Object.assign(se,{[g[W].path]:te}),{});x.set(G,!1)},[x,g]),T=w.useCallback(L=>x.get(g[L].path),[x,g]);return w.useEffect(()=>{const L=!p.current&&h.current;return x.addData(y,L),p.current=!1,h.current=!1,()=>x.disposePaths(P)},[x,P,y]),w.useEffect(()=>{const L=[];return Object.entries(M).forEach(([G,se])=>{se(x.get(G),G,wt({initial:!0,get:x.get},x.getInput(G)));const W=x.useStore.subscribe(te=>{const re=te.data[G];return[re.disabled?void 0:re.value,re]},([te,re])=>se(te,G,wt({initial:!1,get:x.get},re)),{equalityFn:up});L.push(W)}),()=>L.forEach(G=>G())},[x,M]),w.useEffect(()=>{const L=[];return Object.entries(R).forEach(([G,se])=>L.push(x.subscribeToEditStart(G,se))),Object.entries(b).forEach(([G,se])=>L.push(x.subscribeToEditEnd(G,se))),()=>L.forEach(G=>G())},[R,b,x]),u?[D,V,T]:D}ea(Os.SELECT,bY);ea(Os.IMAGE,IQ);ea(Os.NUMBER,vY);ea(Os.COLOR,cQ);ea(Os.STRING,FY);ea(Os.BOOLEAN,VY);ea(Os.INTERVAL,zQ);ea(Os.VECTOR3D,fQ);ea(Os.VECTOR2D,_Q);var Mq=`#include <color_fragment>\r
float minima = 0.1;\r
float newPosX = sin(((localPosition.x)*0.80)+uTime);\r
float newPosY = 0.0;\r
float newPosZ = cos(((localPosition.y)*0.4)+uTime)+minima;\r
vec3 color = vec3(newPosX,0.2,newPosZ);\r
diffuseColor *= vec4(color,1.0);`;function Cq(){const n=w.useRef(),{cameraXPos:e,cameraYPos:t,cameraZPos:r,targetOffset:i}=th("Camera",{cameraXPos:{value:0,min:-100,max:100,step:.001},cameraYPos:{value:1,min:-100,max:100,step:.001},cameraZPos:{value:70,min:-100,max:100,step:.001},targetOffset:{value:4,min:-10,max:10,step:1e-4}}),{butterflyXOffset:s,butterflyYOffset:o,butterflyZOffset:a}=th("Butterfly Position",{butterflyXOffset:{value:0,min:-100,max:100,step:.001},butterflyYOffset:{value:-5,min:-100,max:100,step:.001},butterflyZOffset:{value:-30,min:-100,max:100,step:.001}}),l=Og(),{ormMap:c,color:u,emissive:h,normal:p,alpha:m}=ul({ormMap:"./butterfly/textures/butterfly_blue_OcclusionRoughnessMetallic.png",color:"./butterfly/textures/butterfly_blue_color.jpg",emissive:"./butterfly/textures/butterfly_blue_emissive.jpg",normal:"./butterfly/textures/butterfly_blue_normal.jpg",alpha:"./butterfly/textures/textureSet_Alpha.jpg"});c.colorSpace=un,c.flipY=!1,c.minFilter=Ct,c.magFilter=jt,u.colorSpace=un,u.flipY=!1,u.minFilter=Ct,u.magFilter=jt,h.colorSpace=un,h.flipY=!1,h.minFilter=Ct,h.magFilter=jt,p.colorSpace=un,p.flipY=!1,p.minFilter=Ct,p.magFilter=jt,m.colorSpace=un,m.flipY=!1,m.minFilter=Ct,m.magFilter=jt;const v=new Af({});v.side=qr,v.depthTest=!0,v.depthWrite=!0,v.alphaTest=.5,v.map=u,v.normalMap=p,v.metalness=1,v.metalnessMap=c,v.roughness=1,v.roughnessMap=c,v.transparent=!0,v.alphaMap=m,v.aoMap=c,v.emissive=new Xe("red"),v.emissiveIntensity=1,v.emissiveMap=h;const{scene:x,nodes:y,animations:g}=Ec("./butterfly/glTF/butterfly_v01.gltf"),{ref:A,mixer:_,names:M,actions:R,clips:b}=J4(g,x);let P=new Z(0,0,0);const D=x.children[0].material;let{uTime:V}={uTime:{value:0}};D.onBeforeCompile=G=>{G.uniforms.uTime=V,G.vertexShader=G.vertexShader.replace("#include <common>",`#include <common>
                        varying vec4 localPosition;
                        uniform float uTime;
                        `),G.vertexShader=G.vertexShader.replace("#include <worldpos_vertex>",`#include <worldpos_vertex>
                        localPosition = vec4(position, 1.0);
                        `),G.fragmentShader=G.fragmentShader.replace("#include <common>",`#include <common>
                        varying vec4 localPosition;
                        uniform float uTime;
                        `),G.fragmentShader=G.fragmentShader.replace("#include <color_pars_fragment>",`#include <color_pars_fragment>
                        // uniform float uTime;
                        `),G.fragmentShader=G.fragmentShader.replace("#include <color_fragment>",Mq)},w.useLayoutEffect(()=>{x.children[0].material.depthTest=!0,x.children[0].material.depthWrite=!0,x.children[0].material.alphaTest=.5,x.children[0].material.side=qr,x.children[0].material.map=u,x.children[0].material.normalMap=p,x.children[0].material.metalness=0,x.children[0].material.roughness=.99,x.children[0].material.transparent=!0,x.children[0].material.alphaMap=m,x.children[0].material.aoMap=c,x.children[0].material.emissive=new Xe("red"),x.children[0].material.emissiveIntensity=.5,x.children[0].material.emissiveMap=h,x.children[0].material.fog=!0,Object.values(y).forEach(G=>G.receiveShadow=G.castShadow=!0)}),w.useEffect((G,se)=>{_.clipAction(Y0.subclip(g[0],"idle",1,38,24)),_.clipAction(Y0.subclip(g[0],"launch",43,68,24)),_.clipAction(Y0.subclip(g[0],"fly",72,90,24)).play()});const[T,L]=w.useState(!1);return Gi((G,se)=>{const W=1-l.offset;nc.damp3(n.current.position,[-G.pointer.x*4,G.pointer.y*4,0],.3,se),G.camera.position.set(e,W*130*t,r*W*1.2),x.position.set(G.camera.position.x+s,G.camera.position.y+o,G.camera.position.z+a),nc.damp3(x.children[0].position,[G.pointer.x*10,G.pointer.y*10,0],.95,se),nc.damp3(x.children[0].rotation,[(G.pointer.y-x.children[0].rotation.x)*.5,-(G.pointer.x-x.children[0].rotation.y*.3),0],.1,se),P.set(x.position.x,x.position.y+i,x.position.z),G.camera.lookAt(P),V.value=G.clock.elapsedTime}),N.jsxs(N.Fragment,{children:[N.jsx("group",{ref:n,children:N.jsx(nj,{makeDefault:!0})}),N.jsx(lj,{speed:1,rotationIntensity:.6,floatIntensity:.2,floatingRange:[1,1],children:N.jsx("primitive",{onClick:G=>L(!T),object:x})})]})}const pC=n=>{let e;const t=new Set,r=(l,c)=>{const u=typeof l=="function"?l(e):l;if(!Object.is(u,e)){const h=e;e=c??typeof u!="object"?u:Object.assign({},e,u),t.forEach(p=>p(e,h))}},i=()=>e,a={setState:r,getState:i,subscribe:l=>(t.add(l),()=>t.delete(l)),destroy:()=>t.clear()};return e=n(r,i,a),a},bq=n=>n?pC(n):pC,{useSyncExternalStoreWithSelector:Tq}=Nj;function Rq(n,e=n.getState,t){const r=Tq(n.subscribe,n.getState,n.getServerState||n.getState,e,t);return w.useDebugValue(r),r}const mC=n=>{const e=typeof n=="function"?bq(n):n,t=(r,i)=>Rq(e,r,i);return Object.assign(t,e),t},Pq=n=>n?mC(n):mC;function Iq(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;if(n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(const[r,i]of n)if(!Object.is(i,e.get(r)))return!1;return!0}if(n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(const r of n)if(!e.has(r))return!1;return!0}const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}const _5=Pq((n,e)=>{function t(){var r;const{accumulated:i,startTime:s,infos:o}=e(),a=(r=e().log)==null?void 0:r.maxMemory,{totalFrames:l,log:c,gl:u,max:h}=i,p={calls:u.calls/l,triangles:u.triangles/l,points:u.points/l,lines:u.lines/l},m={gpu:c.gpu/l,cpu:c.cpu/l,mem:c.mem/l,fps:c.fps/l};return{sessionTime:(window.performance.now()-s)/1e3,infos:o,log:m,gl:p,max:h,maxMemory:a,totalFrames:l}}return{log:null,paused:!1,triggerProgramsUpdate:0,startTime:0,customData:0,fpsLimit:60,overclockingFps:!1,accumulated:{totalFrames:0,gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0},max:{gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0}}},chart:{data:{fps:[],cpu:[],gpu:[],mem:[]},circularId:0},gl:void 0,objectWithMaterials:null,scene:void 0,programs:new Map,sceneLength:void 0,tab:"infos",getReport:t}}),vs=n=>_5(n,Iq);Object.assign(vs,_5);const{getState:fs,setState:Ti}=_5,ns={value:0,fpsLimit:60,isOverLimit:0},Rd=n=>(n==null?void 0:n.reduce((e,t)=>e+t,0))/n.length;class Lq{constructor(e={}){this.names=[""],this.finished=[],this.paused=!1,this.overClock=!1,this.queryHasResult=!1,this.queryCreated=!1,this.isWebGL2=!0,this.memAccums=[],this.gpuAccums=[],this.activeAccums=[],this.logsAccums={mem:[],gpu:[],cpu:[],fps:[],fpsFixed:[]},this.fpsChart=[],this.gpuChart=[],this.cpuChart=[],this.memChart=[],this.paramLogger=()=>{},this.glFinish=()=>{},this.chartLogger=()=>{},this.chartLen=60,this.logsPerSecond=10,this.maxMemory=1500,this.chartHz=10,this.startCpuProfiling=!1,this.lastCalculateFixed=0,this.chartFrame=0,this.gpuTimeProcess=0,this.chartTime=0,this.activeQueries=0,this.circularId=0,this.detected=0,this.frameId=0,this.rafId=0,this.idleCbId=0,this.checkQueryId=0,this.uuid=void 0,this.currentCpu=0,this.currentMem=0,this.paramFrame=0,this.paramTime=0,this.now=()=>{},this.t0=0,window.GLPerf=window.GLPerf||{},Object.assign(this,e),this.fpsChart=new Array(this.chartLen).fill(0),this.gpuChart=new Array(this.chartLen).fill(0),this.cpuChart=new Array(this.chartLen).fill(0),this.memChart=new Array(this.chartLen).fill(0),this.now=()=>window.performance&&window.performance.now?window.performance.now():Date.now(),this.initGpu(),this.is120hz()}initGpu(){this.uuid=Jh.generateUUID(),this.gl&&(this.isWebGL2=!0,this.extension||(this.extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")),this.extension===null&&(this.isWebGL2=!1))}is120hz(){let e=0;const t=r=>{++e<20?this.rafId=window.requestAnimationFrame(t):(this.detected=Math.ceil(1e3*e/(r-this.t0)/70),window.cancelAnimationFrame(this.rafId)),this.t0||(this.t0=r)};this.rafId=window.requestAnimationFrame(t)}addUI(e){this.names.indexOf(e)===-1&&(this.names.push(e),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFps(e){const t=16.666666666666668,r=t-e.timeRemaining(),i=t*ns.fpsLimit/10/r;i<0||(ns.value=i,ns.isOverLimit<25?ns.isOverLimit++:Ti({overclockingFps:!0}))}nextFrame(e){this.frameId++;const t=e||this.now();let r=t-this.paramTime,i=0;if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=t;else if(t>=this.paramTime){this.maxMemory=window.performance.memory?window.performance.memory.jsHeapSizeLimit/1048576:0;const s=this.frameId-this.paramFrame,o=s*1e3/r,a=fs().overclockingFps?ns.value:o;if(i=this.isWebGL2?this.gpuAccums[0]:this.gpuAccums[0]/r,this.isWebGL2?this.gpuAccums[0]=0:Promise.all(this.finished).then(()=>{this.gpuAccums[0]=0,this.finished=[]}),this.currentMem=Math.round(window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize/1048576:0),window.performance&&this.startCpuProfiling){window.performance.mark("cpu-finished");const l=performance.measure("cpu-duration","cpu-started","cpu-finished");this.currentCpu=l.duration,this.logsAccums.cpu.push(this.currentCpu),this.startCpuProfiling=!1}this.logsAccums.mem.push(this.currentMem),this.logsAccums.fpsFixed.push(o),this.logsAccums.fps.push(a),this.logsAccums.gpu.push(i),this.overClock&&typeof window.requestIdleCallback<"u"&&(ns.isOverLimit>0&&a>o?ns.isOverLimit--:fs().overclockingFps&&Ti({overclockingFps:!1})),t>=this.paramTime+1e3/this.logsPerSecond&&(this.paramLogger({cpu:Rd(this.logsAccums.cpu),gpu:Rd(this.logsAccums.gpu),mem:Rd(this.logsAccums.mem),fps:Rd(this.logsAccums.fps),duration:Math.round(r),maxMemory:this.maxMemory,frameCount:s}),this.logsAccums.mem=[],this.logsAccums.fps=[],this.logsAccums.gpu=[],this.logsAccums.cpu=[],this.paramFrame=this.frameId,this.paramTime=t),this.overClock&&t-this.lastCalculateFixed>=2*1e3&&(this.lastCalculateFixed=e,ns.fpsLimit=Math.round(Rd(this.logsAccums.fpsFixed)/10)*100,Ti({fpsLimit:ns.fpsLimit/10}),this.logsAccums.fpsFixed=[],this.paramFrame=this.frameId,this.paramTime=t)}if(!this.detected||!this.chartFrame)this.chartFrame=this.frameId,this.chartTime=t,this.circularId=0;else{const s=t-this.chartTime;let o=this.chartHz*s/1e3;for(;--o>0&&this.detected;){const l=(this.frameId-this.chartFrame)/s*1e3,c=fs().overclockingFps?ns.value:l;this.fpsChart[this.circularId%this.chartLen]=c;const u=1e3/this.currentMem,h=this.currentCpu,p=(this.isWebGL2?this.gpuAccums[1]*2:Math.round(this.gpuAccums[1]/r*100))+4;p>0&&(this.gpuChart[this.circularId%this.chartLen]=p),h>0&&(this.cpuChart[this.circularId%this.chartLen]=h),u>0&&(this.memChart[this.circularId%this.chartLen]=u);for(let m=0;m<this.names.length;m++)this.chartLogger({i:m,data:{fps:this.fpsChart,gpu:this.gpuChart,cpu:this.cpuChart,mem:this.memChart},circularId:this.circularId});this.circularId++,this.chartFrame=this.frameId,this.chartTime=t}}}startGpu(){const e=this.gl,t=this.extension;if(!(!e||!t)&&this.isWebGL2){let r=!1,i,s;if(this.query){this.queryHasResult=!1;let o=this.query;if(r=e.getQueryParameter(o,e.QUERY_RESULT_AVAILABLE),i=e.getParameter(t.GPU_DISJOINT_EXT),r&&!i){s=e.getQueryParameter(this.query,e.QUERY_RESULT);const a=s*1e-6;(r||i)&&(e.deleteQuery(this.query),o=null),r&&a>0&&(i||this.activeAccums.forEach((l,c)=>{this.gpuAccums[c]=a}))}}(r||!this.query)&&(this.queryCreated=!0,this.query=e.createQuery(),e.beginQuery(t.TIME_ELAPSED_EXT,this.query))}}endGpu(){const e=this.extension,t=this.gl;this.isWebGL2&&this.queryCreated&&t.getQuery(e.TIME_ELAPSED_EXT,t.CURRENT_QUERY)&&t.endQuery(e.TIME_ELAPSED_EXT)}begin(e){this.startGpu(),this.updateAccums(e)}end(e){this.endGpu(),this.updateAccums(e)}updateAccums(e){let t=this.names.indexOf(e);t===-1&&(t=this.names.length,this.addUI(e));const r=this.now();this.activeAccums[t]=!this.activeAccums[t],this.t0=r}}const Bq=n=>{n.forEach((e,t)=>{const{meshes:r}=e;if(!r)return;let i={total:0,type:"Triangle",data:[]};Object.keys(r).forEach(s=>{const o=r[s],{geometry:a,material:l}=o;let c=a.index;const u=a.attributes.position;if(!u)return;let h=1;l.wireframe===!0&&(h=0);const p=c!==null?c.count:u.count,m=a.drawRange.start*h,v=a.drawRange.count*h,x=m,y=Math.min(p,m+v)-1;let g=1;const A=o.count||1;let _="Triangle",M=0;o.isMesh?l.wireframe===!0?(_="Line",g=g/2):(_="Triangle",g=g/3):o.isLine?(_="Line",o.isLineSegments?g=g/2:o.isLineLoop?g=g:g=g-1):o.isPoints?(_="Point",g=g):o.isSprite&&(_="Triangle",g=g/3);const R=Math.round(Math.max(0,y-x+1)*(g*A));R>M&&(M=R,i.type=_),i.total+=R,i.data.push({drawCount:R,type:_}),o.userData.drawCount={type:_,count:R}}),e.drawCounts=i})};var RP={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new i(u,h||l,p),v=t?t+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=t?t+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,m=h.length,v=new Array(m);p<m;p++)v[p]=h[p].fn;return v},a.prototype.listenerCount=function(c){var u=t?t+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,p,m,v){var x=t?t+c:c;if(!this._events[x])return!1;var y=this._events[x],g=arguments.length,A,_;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),g){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,h),!0;case 4:return y.fn.call(y.context,u,h,p),!0;case 5:return y.fn.call(y.context,u,h,p,m),!0;case 6:return y.fn.call(y.context,u,h,p,m,v),!0}for(_=1,A=new Array(g-1);_<g;_++)A[_-1]=arguments[_];y.fn.apply(y.context,A)}else{var M=y.length,R;for(_=0;_<M;_++)switch(y[_].once&&this.removeListener(c,y[_].fn,void 0,!0),g){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,u);break;case 3:y[_].fn.call(y[_].context,u,h);break;case 4:y[_].fn.call(y[_].context,u,h,p);break;default:if(!A)for(R=1,A=new Array(g-1);R<g;R++)A[R-1]=arguments[R];y[_].fn.apply(y[_].context,A)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,p){var m=t?t+c:c;if(!this._events[m])return this;if(!u)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===u&&(!p||v.once)&&(!h||v.context===h)&&o(this,m);else{for(var x=0,y=[],g=v.length;x<g;x++)(v[x].fn!==u||p&&!v[x].once||h&&v[x].context!==h)&&y.push(v[x]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=t?t+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(RP);var Dq=RP.exports;const Nq=rl(Dq),jm=new Nq;function Fq(n,e,t){return t!=null&&t.once?jm.once(n,e):jm.on(n,e)}function Oq(n,e,t){var r;jm.removeListener(n,e,(r=t==null?void 0:t.context)!=null?r:null,t==null?void 0:t.once)}function kq(n,e){jm.emit(n,e)}function Uq(n,e,t=[],r){const i=w.useRef(e);w.useEffect(()=>void(i.current=e),[e]),w.useEffect(()=>{const s=a=>{var l;return(l=i.current)==null?void 0:l.call(i,a)},o=Fq(n,s,r);return()=>Oq(n,s,{...r,context:o})},[n,r==null?void 0:r.once,...t])}const zq=Bt.prototype.updateMatrixWorld,Hq=Bt.prototype.updateWorldMatrix,gC=Bt.prototype.updateMatrix,vC=["calls","triangles","points","lines"],yC=["gpu","cpu","mem","fps"];let Pu={value:0},Ni={value:0};const Gq=n=>{let e=""+n;return e=e.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"),e!==null},_C=(n,e)=>{n.defines||(n.defines={}),n.defines&&!n.defines.muiPerf&&(n.defines=Object.assign(n.defines||{},{muiPerf:n.uuid}));const t=n.uuid;return e[t]||(e[t]={meshes:{},material:n},n.needsUpdate=!0),n.needsUpdate=!1,t},Vq=n=>n==="muiPerf",Wq=({overClock:n,logsPerSecond:e,chart:t,deepAnalyze:r,matrixUpdate:i})=>{const{gl:s,scene:o}=Ar();Ti({gl:s,scene:o});const a=w.useMemo(()=>{const l=new Lq({trackGPU:!0,overClock:n,chartLen:t?t.length:120,chartHz:t?t.hz:60,logsPerSecond:e||10,gl:s.getContext(),chartLogger:y=>{Ti({chart:y})},paramLogger:y=>{const g={maxMemory:y.maxMemory,gpu:y.gpu,cpu:y.cpu,mem:y.mem,fps:y.fps,totalTime:y.duration,frameCount:y.frameCount};Ti({log:g});const{accumulated:A}=fs(),_=s.info.render;A.totalFrames++,A.gl.calls+=_.calls,A.gl.triangles+=_.triangles,A.gl.points+=_.points,A.gl.lines+=_.lines,A.log.gpu+=y.gpu,A.log.cpu+=y.cpu,A.log.mem+=y.mem,A.log.fps+=y.fps;for(let M=0;M<vC.length;M++){const R=vC[M],b=_[R];b>A.max.gl[R]&&(A.max.gl[R]=b)}for(let M=0;M<yC.length;M++){const R=yC[M],b=y[R];b>A.max.log[R]&&(A.max.log[R]=b)}Ti({accumulated:A}),kq("log",[g,s])}}),c=s.getContext();let u=null,h=null;const p=c.getExtension("WEBGL_debug_renderer_info"),m=c.getParameter(c.VERSION);p!=null&&(u=c.getParameter(p.UNMASKED_RENDERER_WEBGL),h=c.getParameter(p.UNMASKED_VENDOR_WEBGL)),h||(h="Unknown vendor"),u||(u=c.getParameter(c.RENDERER)),Ti({startTime:window.performance.now(),infos:{version:m,renderer:u,vendor:h}});const v=new Map,x=new Map;return Object.defineProperty(Ka.prototype,"onBeforeRender",{get(){return(...y)=>{var g;l&&l.begin("profiler"),(g=v.get(this))==null||g(...y)}},set(y){v.set(this,y)},configurable:!0}),Object.defineProperty(Ka.prototype,"onAfterRender",{get(){return(...y)=>{var g;l&&l.end("profiler"),(g=x.get(this))==null||g(...y)}},set(y){x.set(this,y)},configurable:!0}),l},[]);return w.useEffect(()=>{a&&(a.overClock=n||!1,n===!1&&(Ti({overclockingFps:!1}),ns.value=0,ns.isOverLimit=0),a.chartHz=(t==null?void 0:t.hz)||60,a.chartLen=(t==null?void 0:t.length)||120)},[n,a,t==null?void 0:t.length,t==null?void 0:t.hz]),w.useEffect(()=>{i&&(Bt.prototype.updateMatrixWorld=function(){(this.matrixWorldNeedsUpdate||arguments[0])&&Pu.value++,zq.apply(this,arguments)},Bt.prototype.updateWorldMatrix=function(){Pu.value++,Hq.apply(this,arguments)},Bt.prototype.updateMatrix=function(){Ni.value++,gC.apply(this,arguments)}),s.info.autoReset=!1;let l=null,c=null;if(s.info)return l=qH(function(){fs().paused&&Ti({paused:!1}),window.performance&&(window.performance.mark("cpu-started"),a.startCpuProfiling=!0),Ni.value-=1,Pu.value=0,Ni.value=0,s.info&&s.info.reset()}),c=eG(function(){var h,p;if(a&&!a.paused&&(a.nextFrame(window.performance.now()),n&&typeof window.requestIdleCallback<"u"&&(a.idleCbId=requestIdleCallback(a.nextFps))),r){const m={},v=new Map;o.traverse(function(y){if((y instanceof Cn||y instanceof Eg)&&y.material){let g=y.material.uuid;Array.isArray(y.material)&&y.material.length>1?g=_C(y.material[1],m):g=_C(y.material,m),m[g].meshes[y.uuid]=y}}),(p=(h=s==null?void 0:s.info)==null?void 0:h.programs)==null||p.forEach(x=>{const y=x.cacheKey.split(","),g=y[y.findIndex(Vq)+1];if(Gq(g)&&m[g]){const{material:A,meshes:_}=m[g];v.set(g,{program:x,material:A,meshes:_,drawCounts:{total:0,type:"triangle",data:[]},expand:!1,visible:!0})}}),v.size!==fs().programs.size&&(Bq(v),Ti({programs:v,triggerProgramsUpdate:fs().triggerProgramsUpdate++}))}}),()=>{a&&(typeof window.cancelIdleCallback<"u"&&window.cancelIdleCallback(a.idleCbId),window.cancelAnimationFrame(a.rafId),window.cancelAnimationFrame(a.checkQueryId)),i&&(Bt.prototype.updateMatrixWorld=gC),l(),c()}},[a,s,t,i]),w.useEffect(()=>{const l=tG(function(){return a&&(a.paused=!0,Ni.value=0,Pu.value=0,Ti({paused:!0,log:{maxMemory:0,gpu:0,mem:0,cpu:0,fps:0,totalTime:0,frameCount:0}})),!1});return()=>{l()}},[]),null},jq=lr("div",{position:"fixed",top:0,right:0,zIndex:9999,fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif`,backgroundColor:"rgba(36, 36, 36, .9)",color:"#fff",margin:0,minHeight:"100px",padding:"4px 0","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",userSelect:"none","&.top-left":{right:"initial",left:0},"&.bottom-left":{right:"initial",top:"initial",bottom:0,left:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.bottom-right":{top:"initial",bottom:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.minimal":{backgroundColor:"rgba(36, 36, 36, .75)"},"*":{margin:"0",padding:"0",border:"0",fontSize:"100%",lineHeight:"1",verticalAlign:"baseline"}}),Dy=lr("small",{position:"absolute",right:0,fontSize:"10px"}),Nr=lr("div",{display:"inline-flex",fontStyle:"normal",padding:0,lineHeight:"13px",fontSize:"14px",width:"62px",position:"relative",pointerEvents:"auto",cursor:"default",fontWeight:500,letterSpacing:"0px",textAlign:"left",height:"29px",whiteSpace:"nowrap",justifyContent:"space-evenly",fontVariantNumeric:"tabular-nums",small:{paddingLeft:"12px"},svg:{padding:0,color:"rgba(145, 145, 145, 0.3)",fontSize:"40px",position:"absolute",zIndex:1,maxHeight:"20px",left:" 50%",marginLeft:"-23px",top:"4px"}}),pi=lr("span",{verticalAlign:"bottom",position:"absolute",bottom:"5px",color:"rgba(101, 197, 188, 1)",textAlign:"right",letterSpacing:"1px",fontSize:"8px",fontWeight:"500",width:"60px"}),$q=lr("div",{display:"flex"}),Xq=lr("div",{backgroundColor:"#404040",padding:"6px",display:"block",fontSize:"12px",marginBottom:"6px",cursor:"pointer","*":{cursor:"pointer !important"},"> span":{},small:{fontSize:"9px"},"> b":{marginRight:"4px",cursor:"pointer"}}),Jq=lr("div",{height:"66px",overflow:"hidden",position:"absolute",pointerEvents:"none",display:"flex",top:"0px",justifyContent:"center",width:"100%",minWidth:"310px",margin:"0 auto",canvas:{background:"transparent !important",position:"absolute !important"}}),Yq=lr("div",{textAlign:"center",fontWeight:700,fontSize:"12px",lineHeight:"12px",display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"middle",color:"#f1f1f1",padding:"7px",width:"100%",backgroundColor:"rgba(36, 36, 37, 0.8)",zIndex:1,position:"absolute",height:"100%"}),x5=lr("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),Kq=lr("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",float:"right",backgroundColor:"rgb(41, 43, 45)",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),Zq=lr("div",{padding:"4px 6px",fontSize:"12px",pointerEvents:"auto"}),Qq=lr("span",{fontWeight:"bold",letterSpacing:"0.08em",maxWidth:"145px",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",verticalAlign:"middle",fontSize:"11px",marginRight:"10px"}),qq=lr("div",{maxHeight:"50vh",overflowY:"auto",marginTop:"38px"}),eee=lr("div",{marginTop:"0"}),xC=lr("div",{display:"flex",position:"relative",fontWeight:"bold",color:"#fff",lineHeight:"14px",svg:{marginRight:"4px",display:"inline-block"}}),PP=lr("ul",{display:"block",position:"relative",paddingLeft:"10px",margin:"6px 6px",img:{maxHeight:"60px",maxWidth:"100%",margin:"6px auto",display:"block"},"&:after":{content:"",position:"absolute",left:"0px",top:"0px",width:"1px",height:"100%",backgroundColor:"grey",transform:"translateX(-50%)",maxHeight:"50vh",overflowY:"auto"},li:{borderBottom:"1px solid #313131",display:"block",padding:"4px",margin:0,lineHeight:1,verticalAlign:"middle",height:"24px"},b:{fontWeight:"bold"},small:{textAlign:"revert",letterSpacing:"1px",fontSize:"10px",fontWeight:"500",marginLeft:"2px",color:"rgb(101, 197, 188)"}}),IP=lr("button",{fontWeight:"bold",letterSpacing:"0.02em",backgroundColor:"rgb(41, 43, 45)",color:"rgb(211, 211, 211)",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",display:"block",verticalAlign:"middle",fontSize:"11px",padding:"5px",margin:"4px auto"}),tee=lr("div",{display:"flex",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0 auto",color:"rgba(145, 145, 145, 1)",textAlign:"center",position:"absolute",right:0,bottom:" -20px",svg:{width:"12px",height:"12px",float:"left"}}),nee=lr("li",{display:"flex !important",height:"auto !important",span:{height:"40px",display:"block",position:"relative"},b:{paddingLeft:"12px"}});function Xn(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var ree=["color"],LP=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Xn(n,ree);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M0 1.5C0 1.22386 0.223858 1 0.5 1H2.5C2.77614 1 3 1.22386 3 1.5C3 1.77614 2.77614 2 2.5 2H0.5C0.223858 2 0 1.77614 0 1.5ZM4 1.5C4 1.22386 4.22386 1 4.5 1H14.5C14.7761 1 15 1.22386 15 1.5C15 1.77614 14.7761 2 14.5 2H4.5C4.22386 2 4 1.77614 4 1.5ZM4 4.5C4 4.22386 4.22386 4 4.5 4H11.5C11.7761 4 12 4.22386 12 4.5C12 4.77614 11.7761 5 11.5 5H4.5C4.22386 5 4 4.77614 4 4.5ZM0 7.5C0 7.22386 0.223858 7 0.5 7H2.5C2.77614 7 3 7.22386 3 7.5C3 7.77614 2.77614 8 2.5 8H0.5C0.223858 8 0 7.77614 0 7.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H14.5C14.7761 7 15 7.22386 15 7.5C15 7.77614 14.7761 8 14.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H4.5C4.22386 11 4 10.7761 4 10.5ZM0 13.5C0 13.2239 0.223858 13 0.5 13H2.5C2.77614 13 3 13.2239 3 13.5C3 13.7761 2.77614 14 2.5 14H0.5C0.223858 14 0 13.7761 0 13.5ZM4 13.5C4 13.2239 4.22386 13 4.5 13H14.5C14.7761 13 15 13.2239 15 13.5C15 13.7761 14.7761 14 14.5 14H4.5C4.22386 14 4 13.7761 4 13.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),iee=["color"],see=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Xn(n,iee);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M11.5 1C11.7761 1 12 1.22386 12 1.5V13.5C12 13.7761 11.7761 14 11.5 14C11.2239 14 11 13.7761 11 13.5V1.5C11 1.22386 11.2239 1 11.5 1ZM9.5 3C9.77614 3 10 3.22386 10 3.5V13.5C10 13.7761 9.77614 14 9.5 14C9.22386 14 9 13.7761 9 13.5V3.5C9 3.22386 9.22386 3 9.5 3ZM13.5 3C13.7761 3 14 3.22386 14 3.5V13.5C14 13.7761 13.7761 14 13.5 14C13.2239 14 13 13.7761 13 13.5V3.5C13 3.22386 13.2239 3 13.5 3ZM5.5 4C5.77614 4 6 4.22386 6 4.5V13.5C6 13.7761 5.77614 14 5.5 14C5.22386 14 5 13.7761 5 13.5V4.5C5 4.22386 5.22386 4 5.5 4ZM1.5 5C1.77614 5 2 5.22386 2 5.5V13.5C2 13.7761 1.77614 14 1.5 14C1.22386 14 1 13.7761 1 13.5V5.5C1 5.22386 1.22386 5 1.5 5ZM7.5 5C7.77614 5 8 5.22386 8 5.5V13.5C8 13.7761 7.77614 14 7.5 14C7.22386 14 7 13.7761 7 13.5V5.5C7 5.22386 7.22386 5 7.5 5ZM3.5 7C3.77614 7 4 7.22386 4 7.5V13.5C4 13.7761 3.77614 14 3.5 14C3.22386 14 3 13.7761 3 13.5V7.5C3 7.22386 3.22386 7 3.5 7Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),oee=["color"],aee=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Xn(n,oee);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M2 5H13C13.5523 5 14 5.44772 14 6V9C14 9.55228 13.5523 10 13 10H2C1.44772 10 1 9.55228 1 9V6C1 5.44772 1.44772 5 2 5ZM0 6C0 4.89543 0.895431 4 2 4H13C14.1046 4 15 4.89543 15 6V9C15 10.1046 14.1046 11 13 11H2C0.89543 11 0 10.1046 0 9V6ZM4.5 6.75C4.08579 6.75 3.75 7.08579 3.75 7.5C3.75 7.91421 4.08579 8.25 4.5 8.25C4.91421 8.25 5.25 7.91421 5.25 7.5C5.25 7.08579 4.91421 6.75 4.5 6.75ZM6.75 7.5C6.75 7.08579 7.08579 6.75 7.5 6.75C7.91421 6.75 8.25 7.08579 8.25 7.5C8.25 7.91421 7.91421 8.25 7.5 8.25C7.08579 8.25 6.75 7.91421 6.75 7.5ZM10.5 6.75C10.0858 6.75 9.75 7.08579 9.75 7.5C9.75 7.91421 10.0858 8.25 10.5 8.25C10.9142 8.25 11.25 7.91421 11.25 7.5C11.25 7.08579 10.9142 6.75 10.5 6.75Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),lee=["color"],cee=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Xn(n,lee);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M7.28856 0.796908C7.42258 0.734364 7.57742 0.734364 7.71144 0.796908L13.7114 3.59691C13.8875 3.67906 14 3.85574 14 4.05V10.95C14 11.1443 13.8875 11.3209 13.7114 11.4031L7.71144 14.2031C7.57742 14.2656 7.42258 14.2656 7.28856 14.2031L1.28856 11.4031C1.11252 11.3209 1 11.1443 1 10.95V4.05C1 3.85574 1.11252 3.67906 1.28856 3.59691L7.28856 0.796908ZM2 4.80578L7 6.93078V12.9649L2 10.6316V4.80578ZM8 12.9649L13 10.6316V4.80578L8 6.93078V12.9649ZM7.5 6.05672L12.2719 4.02866L7.5 1.80176L2.72809 4.02866L7.5 6.05672Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),uee=["color"],fee=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Xn(n,uee);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M7.5 9.125C8.39746 9.125 9.125 8.39746 9.125 7.5C9.125 6.60254 8.39746 5.875 7.5 5.875C6.60254 5.875 5.875 6.60254 5.875 7.5C5.875 8.39746 6.60254 9.125 7.5 9.125ZM7.5 10.125C8.94975 10.125 10.125 8.94975 10.125 7.5C10.125 6.05025 8.94975 4.875 7.5 4.875C6.05025 4.875 4.875 6.05025 4.875 7.5C4.875 8.94975 6.05025 10.125 7.5 10.125Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),dee=["color"],hee=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Xn(n,dee);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M7.49999 3.09998C7.27907 3.09998 7.09999 3.27906 7.09999 3.49998C7.09999 3.72089 7.27907 3.89998 7.49999 3.89998H14.5C14.7209 3.89998 14.9 3.72089 14.9 3.49998C14.9 3.27906 14.7209 3.09998 14.5 3.09998H7.49999ZM7.49998 5.1C7.27907 5.1 7.09998 5.27908 7.09998 5.5C7.09998 5.72091 7.27907 5.9 7.49998 5.9H14.5C14.7209 5.9 14.9 5.72091 14.9 5.5C14.9 5.27908 14.7209 5.1 14.5 5.1H7.49998ZM7.1 7.5C7.1 7.27908 7.27909 7.1 7.5 7.1H14.5C14.7209 7.1 14.9 7.27908 14.9 7.5C14.9 7.72091 14.7209 7.9 14.5 7.9H7.5C7.27909 7.9 7.1 7.72091 7.1 7.5ZM7.49998 9.1C7.27907 9.1 7.09998 9.27908 7.09998 9.5C7.09998 9.72091 7.27907 9.9 7.49998 9.9H14.5C14.7209 9.9 14.9 9.72091 14.9 9.5C14.9 9.27908 14.7209 9.1 14.5 9.1H7.49998ZM7.09998 11.5C7.09998 11.2791 7.27907 11.1 7.49998 11.1H14.5C14.7209 11.1 14.9 11.2791 14.9 11.5C14.9 11.7209 14.7209 11.9 14.5 11.9H7.49998C7.27907 11.9 7.09998 11.7209 7.09998 11.5ZM2.5 9.25003L5 6.00003H0L2.5 9.25003Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),pee=["color"],mee=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Xn(n,pee);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),gee=["color"],vee=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Xn(n,gee);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),yee=["color"],Z_=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Xn(n,yee);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),_ee=["color"],xee=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Xn(n,_ee);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M5.49998 0.5C5.49998 0.223858 5.72383 0 5.99998 0H7.49998H8.99998C9.27612 0 9.49998 0.223858 9.49998 0.5C9.49998 0.776142 9.27612 1 8.99998 1H7.99998V2.11922C9.09832 2.20409 10.119 2.56622 10.992 3.13572C11.0116 3.10851 11.0336 3.08252 11.058 3.05806L12.058 2.05806C12.3021 1.81398 12.6978 1.81398 12.9419 2.05806C13.186 2.30214 13.186 2.69786 12.9419 2.94194L11.967 3.91682C13.1595 5.07925 13.9 6.70314 13.9 8.49998C13.9 12.0346 11.0346 14.9 7.49998 14.9C3.96535 14.9 1.09998 12.0346 1.09998 8.49998C1.09998 5.13361 3.69904 2.3743 6.99998 2.11922V1H5.99998C5.72383 1 5.49998 0.776142 5.49998 0.5ZM2.09998 8.49998C2.09998 5.51764 4.51764 3.09998 7.49998 3.09998C10.4823 3.09998 12.9 5.51764 12.9 8.49998C12.9 11.4823 10.4823 13.9 7.49998 13.9C4.51764 13.9 2.09998 11.4823 2.09998 8.49998ZM7.49998 8.49998V4.09998C5.06992 4.09998 3.09998 6.06992 3.09998 8.49998C3.09998 10.93 5.06992 12.9 7.49998 12.9C8.715 12.9 9.815 12.4075 10.6112 11.6112L7.49998 8.49998Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Eee=["color"],Aee=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Xn(n,Eee);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M7.75432 0.819537C7.59742 0.726821 7.4025 0.726821 7.24559 0.819537L1.74559 4.06954C1.59336 4.15949 1.49996 4.32317 1.49996 4.5C1.49996 4.67683 1.59336 4.84051 1.74559 4.93046L7.24559 8.18046C7.4025 8.27318 7.59742 8.27318 7.75432 8.18046L13.2543 4.93046C13.4066 4.84051 13.5 4.67683 13.5 4.5C13.5 4.32317 13.4066 4.15949 13.2543 4.06954L7.75432 0.819537ZM7.49996 7.16923L2.9828 4.5L7.49996 1.83077L12.0171 4.5L7.49996 7.16923ZM1.5695 7.49564C1.70998 7.2579 2.01659 7.17906 2.25432 7.31954L7.49996 10.4192L12.7456 7.31954C12.9833 7.17906 13.2899 7.2579 13.4304 7.49564C13.5709 7.73337 13.4921 8.03998 13.2543 8.18046L7.75432 11.4305C7.59742 11.5232 7.4025 11.5232 7.24559 11.4305L1.74559 8.18046C1.50786 8.03998 1.42901 7.73337 1.5695 7.49564ZM1.56949 10.4956C1.70998 10.2579 2.01658 10.1791 2.25432 10.3195L7.49996 13.4192L12.7456 10.3195C12.9833 10.1791 13.2899 10.2579 13.4304 10.4956C13.5709 10.7334 13.4921 11.04 13.2543 11.1805L7.75432 14.4305C7.59742 14.5232 7.4025 14.5232 7.24559 14.4305L1.74559 11.1805C1.50785 11.04 1.42901 10.7334 1.56949 10.4956Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),wee=["color"],See=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Xn(n,wee);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M8.69667 0.0403541C8.90859 0.131038 9.03106 0.354857 8.99316 0.582235L8.0902 6.00001H12.5C12.6893 6.00001 12.8625 6.10701 12.9472 6.27641C13.0319 6.4458 13.0136 6.6485 12.8999 6.80001L6.89997 14.8C6.76167 14.9844 6.51521 15.0503 6.30328 14.9597C6.09135 14.869 5.96888 14.6452 6.00678 14.4178L6.90974 9H2.49999C2.31061 9 2.13748 8.893 2.05278 8.72361C1.96809 8.55422 1.98636 8.35151 2.09999 8.2L8.09997 0.200038C8.23828 0.0156255 8.48474 -0.0503301 8.69667 0.0403541ZM3.49999 8.00001H7.49997C7.64695 8.00001 7.78648 8.06467 7.88148 8.17682C7.97648 8.28896 8.01733 8.43723 7.99317 8.5822L7.33027 12.5596L11.5 7.00001H7.49997C7.353 7.00001 7.21347 6.93534 7.11846 6.8232C7.02346 6.71105 6.98261 6.56279 7.00678 6.41781L7.66968 2.44042L3.49999 8.00001Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Mee=["color"],Cee=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Xn(n,Mee);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M1.49988 2.00012C1.77602 2.00012 1.99988 1.77626 1.99988 1.50012C1.99988 1.22398 1.77602 1.00012 1.49988 1.00012C1.22374 1.00012 0.999878 1.22398 0.999878 1.50012C0.999878 1.77626 1.22374 2.00012 1.49988 2.00012ZM4.49988 2.00012C4.77602 2.00012 4.99988 1.77626 4.99988 1.50012C4.99988 1.22398 4.77602 1.00012 4.49988 1.00012C4.22374 1.00012 3.99988 1.22398 3.99988 1.50012C3.99988 1.77626 4.22374 2.00012 4.49988 2.00012ZM7.99988 1.50012C7.99988 1.77626 7.77602 2.00012 7.49988 2.00012C7.22374 2.00012 6.99988 1.77626 6.99988 1.50012C6.99988 1.22398 7.22374 1.00012 7.49988 1.00012C7.77602 1.00012 7.99988 1.22398 7.99988 1.50012ZM10.4999 2.00012C10.776 2.00012 10.9999 1.77626 10.9999 1.50012C10.9999 1.22398 10.776 1.00012 10.4999 1.00012C10.2237 1.00012 9.99988 1.22398 9.99988 1.50012C9.99988 1.77626 10.2237 2.00012 10.4999 2.00012ZM13.9999 1.50012C13.9999 1.77626 13.776 2.00012 13.4999 2.00012C13.2237 2.00012 12.9999 1.77626 12.9999 1.50012C12.9999 1.22398 13.2237 1.00012 13.4999 1.00012C13.776 1.00012 13.9999 1.22398 13.9999 1.50012ZM1.49988 14.0001C1.77602 14.0001 1.99988 13.7763 1.99988 13.5001C1.99988 13.224 1.77602 13.0001 1.49988 13.0001C1.22374 13.0001 0.999878 13.224 0.999878 13.5001C0.999878 13.7763 1.22374 14.0001 1.49988 14.0001ZM1.99988 10.5001C1.99988 10.7763 1.77602 11.0001 1.49988 11.0001C1.22374 11.0001 0.999878 10.7763 0.999878 10.5001C0.999878 10.224 1.22374 10.0001 1.49988 10.0001C1.77602 10.0001 1.99988 10.224 1.99988 10.5001ZM1.49988 8.00012C1.77602 8.00012 1.99988 7.77626 1.99988 7.50012C1.99988 7.22398 1.77602 7.00012 1.49988 7.00012C1.22374 7.00012 0.999878 7.22398 0.999878 7.50012C0.999878 7.77626 1.22374 8.00012 1.49988 8.00012ZM1.99988 4.50012C1.99988 4.77626 1.77602 5.00012 1.49988 5.00012C1.22374 5.00012 0.999878 4.77626 0.999878 4.50012C0.999878 4.22398 1.22374 4.00012 1.49988 4.00012C1.77602 4.00012 1.99988 4.22398 1.99988 4.50012ZM13.4999 11.0001C13.776 11.0001 13.9999 10.7763 13.9999 10.5001C13.9999 10.224 13.776 10.0001 13.4999 10.0001C13.2237 10.0001 12.9999 10.224 12.9999 10.5001C12.9999 10.7763 13.2237 11.0001 13.4999 11.0001ZM13.9999 7.50012C13.9999 7.77626 13.776 8.00012 13.4999 8.00012C13.2237 8.00012 12.9999 7.77626 12.9999 7.50012C12.9999 7.22398 13.2237 7.00012 13.4999 7.00012C13.776 7.00012 13.9999 7.22398 13.9999 7.50012ZM13.4999 5.00012C13.776 5.00012 13.9999 4.77626 13.9999 4.50012C13.9999 4.22398 13.776 4.00012 13.4999 4.00012C13.2237 4.00012 12.9999 4.22398 12.9999 4.50012C12.9999 4.77626 13.2237 5.00012 13.4999 5.00012ZM4.99988 13.5001C4.99988 13.7763 4.77602 14.0001 4.49988 14.0001C4.22374 14.0001 3.99988 13.7763 3.99988 13.5001C3.99988 13.224 4.22374 13.0001 4.49988 13.0001C4.77602 13.0001 4.99988 13.224 4.99988 13.5001ZM7.49988 14.0001C7.77602 14.0001 7.99988 13.7763 7.99988 13.5001C7.99988 13.224 7.77602 13.0001 7.49988 13.0001C7.22374 13.0001 6.99988 13.224 6.99988 13.5001C6.99988 13.7763 7.22374 14.0001 7.49988 14.0001ZM10.9999 13.5001C10.9999 13.7763 10.776 14.0001 10.4999 14.0001C10.2237 14.0001 9.99988 13.7763 9.99988 13.5001C9.99988 13.224 10.2237 13.0001 10.4999 13.0001C10.776 13.0001 10.9999 13.224 10.9999 13.5001ZM13.4999 14.0001C13.776 14.0001 13.9999 13.7763 13.9999 13.5001C13.9999 13.224 13.776 13.0001 13.4999 13.0001C13.2237 13.0001 12.9999 13.224 12.9999 13.5001C12.9999 13.7763 13.2237 14.0001 13.4999 14.0001ZM3.99988 5.00012C3.99988 4.44784 4.44759 4.00012 4.99988 4.00012H9.99988C10.5522 4.00012 10.9999 4.44784 10.9999 5.00012V10.0001C10.9999 10.5524 10.5522 11.0001 9.99988 11.0001H4.99988C4.44759 11.0001 3.99988 10.5524 3.99988 10.0001V5.00012ZM4.99988 5.00012H9.99988V10.0001H4.99988V5.00012Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),bee=["color"],Tee=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Xn(n,bee);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M2.25 7.5C2.25 7.22386 2.47386 7 2.75 7H12.25C12.5261 7 12.75 7.22386 12.75 7.5C12.75 7.77614 12.5261 8 12.25 8H2.75C2.47386 8 2.25 7.77614 2.25 7.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Ree=["color"],Pee=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Xn(n,Ree);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M6.04995 2.74998C6.04995 2.44623 5.80371 2.19998 5.49995 2.19998C5.19619 2.19998 4.94995 2.44623 4.94995 2.74998V12.25C4.94995 12.5537 5.19619 12.8 5.49995 12.8C5.80371 12.8 6.04995 12.5537 6.04995 12.25V2.74998ZM10.05 2.74998C10.05 2.44623 9.80371 2.19998 9.49995 2.19998C9.19619 2.19998 8.94995 2.44623 8.94995 2.74998V12.25C8.94995 12.5537 9.19619 12.8 9.49995 12.8C9.80371 12.8 10.05 12.5537 10.05 12.25V2.74998Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Iee=["color"],Lee=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Xn(n,Iee);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Bee=["color"],Dee=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Xn(n,Bee);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M0.5 4C0.223858 4 0 4.22386 0 4.5V10.5C0 10.7761 0.223858 11 0.5 11H14.5C14.7761 11 15 10.7761 15 10.5V4.5C15 4.22386 14.7761 4 14.5 4H0.5ZM1 10V5H2.075V7.5C2.075 7.73472 2.26528 7.925 2.5 7.925C2.73472 7.925 2.925 7.73472 2.925 7.5V5H4.075V6.5C4.075 6.73472 4.26528 6.925 4.5 6.925C4.73472 6.925 4.925 6.73472 4.925 6.5V5H6.075V6.5C6.075 6.73472 6.26528 6.925 6.5 6.925C6.73472 6.925 6.925 6.73472 6.925 6.5V5H8.075V7.5C8.075 7.73472 8.26528 7.925 8.5 7.925C8.73472 7.925 8.925 7.73472 8.925 7.5V5H10.075V6.5C10.075 6.73472 10.2653 6.925 10.5 6.925C10.7347 6.925 10.925 6.73472 10.925 6.5V5H12.075V6.5C12.075 6.73472 12.2653 6.925 12.5 6.925C12.7347 6.925 12.925 6.73472 12.925 6.5V5H14V10H1Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Nee=["color"],Fee=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Xn(n,Nee);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Oee=["color"],BP=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Xn(n,Oee);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M4 6H11L7.5 10.5L4 6Z",fill:r}))}),kee=["color"],DP=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Xn(n,kee);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M4 9H11L7.5 4.5L4 9Z",fill:r}))}),Uee=["color"],NP=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Xn(n,Uee);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M7.49998 1L6.92321 2.00307L1.17498 12L0.599976 13H1.7535H13.2464H14.4L13.825 12L8.07674 2.00307L7.49998 1ZM7.49998 3.00613L2.3285 12H12.6714L7.49998 3.00613Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});const ts=w.memo(({isPerf:n,color:e,colorBlind:t,customData:r,isMemory:i,isShadersInfo:s,metric:o,fontSize:a,offsetY:l=0,offsetX:c,round:u,hasInstance:h})=>{const{width:p,height:m}=Ar(y=>y.viewport),v=w.useRef(null),x=w.useRef(null);return Uq("log",function([g,A]){var _;if(!g||!v.current||(r&&(v.current.text=(Math.round(fs().customData*Math.pow(10,u))/Math.pow(10,u)).toFixed(u)),!o))return;let M=g[o];if(s?M=(_=A.info.programs)==null?void 0:_.length:o==="matriceCount"?M=Ni.value:!n&&A.info.render&&(M=(i?A.info.memory:A.info.render)[o]),o==="fps"&&(v.current.color=fs().overclockingFps?Or(t).overClock.toString():`rgb(${Or(t).fps.toString()})`),v.current.text=(Math.round(M*Math.pow(10,u))/Math.pow(10,u)).toFixed(u),h){const R=A.info.instance;if(typeof R>"u"&&o!=="matriceCount")return;let b;o==="matriceCount"?b=Pu.value:b=R[o],b>0?(v.current.fontSize=a/1.15,x.current.fontSize=M>0?a/1.4:a,v.current.position.y=m/2-l-a/1.9,x.current.text=" ±	"+(Math.round(b*Math.pow(10,u))/Math.pow(10,u)).toFixed(u)):(x.current.text&&(x.current.text=""),v.current.position.y=m/2-l-a,v.current.fontSize=a)}Ni.value-=1,v.current.updateMatrix(),v.current.matrixWorld.copy(v.current.matrix)}),N.jsxs(w.Suspense,{fallback:null,children:[N.jsxs(q9,{textAlign:"justify",matrixAutoUpdate:!1,ref:v,fontSize:a,position:[-p/2+c+a,m/2-l-a,0],color:e,characters:"0123456789",onUpdate:y=>{y.updateMatrix(),Ni.value-=1,y.matrixWorld.copy(y.matrix)},children:[N.jsx("meshBasicMaterial",{blending:Uo}),"0"]}),h&&N.jsx(q9,{textAlign:"justify",matrixAutoUpdate:!1,ref:x,fontSize:8,position:[-p/2+c+a,m/2-l-a*1.15,0],color:"lightgrey",characters:"0123456789",onUpdate:y=>{y.updateMatrix(),Ni.value-=1,y.matrixWorld.copy(y.matrix)},children:N.jsx("meshBasicMaterial",{blending:Uo})})]})}),zee=({colorBlind:n,customData:e,minimal:t,matrixUpdate:r})=>N.jsxs(N.Fragment,{children:[N.jsx(ts,{colorBlind:n,color:`rgb(${Or(n).fps.toString()})`,isPerf:!0,metric:"fps",fontSize:14,offsetX:140,round:0}),N.jsx(ts,{color:`rgb(${Or(n).cpu.toString()})`,isPerf:!0,metric:"cpu",fontSize:14,offsetX:72,round:3}),N.jsx(ts,{color:`rgb(${Or(n).gpu.toString()})`,isPerf:!0,metric:"gpu",fontSize:14,offsetX:10,round:3}),t?null:N.jsxs(N.Fragment,{children:[N.jsx(ts,{metric:"calls",fontSize:14,offsetX:200,round:0,hasInstance:!0}),N.jsx(ts,{metric:"triangles",fontSize:14,offsetX:260,round:0,hasInstance:!0}),N.jsx(ts,{isMemory:!0,metric:"geometries",fontSize:14,offsetY:30,offsetX:0,round:0}),N.jsx(ts,{isMemory:!0,metric:"textures",fontSize:14,offsetY:30,offsetX:80,round:0}),N.jsx(ts,{isShadersInfo:!0,metric:"programs",fontSize:14,offsetY:30,offsetX:140,round:0}),N.jsx(ts,{metric:"lines",fontSize:14,offsetY:30,offsetX:200,round:0,hasInstance:!0}),N.jsx(ts,{metric:"points",fontSize:14,offsetY:30,offsetX:260,round:0,hasInstance:!0}),r&&N.jsx(ts,{isPerf:!0,metric:"matriceCount",fontSize:14,offsetY:30,offsetX:320,round:0,hasInstance:!0})]}),e&&N.jsx(ts,{color:`rgb(${Or(n).custom.toString()})`,customData:e,fontSize:14,offsetY:0,offsetX:t?200:320,round:e.round||2})]}),Hee=({colorBlind:n,minimal:e,chart:t={length:120,hz:60}})=>{const r=w.useMemo(()=>({fps:new Float32Array(t.length*3),cpu:new Float32Array(t.length*3),gpu:new Float32Array(t.length*3)}),[t]),i=w.useRef(null),s=w.useRef(null),o=w.useRef(null),a=w.useRef(null),l=w.useMemo(()=>new Z(0,0,0),[]),c=(u,h=1,p,m)=>{let v=0;const{width:x,height:y}=m,g=fs().chart.data[u];if(!g||g.length===0)return;const A=e?2:6,_=e?12:50;let M=g.length;for(let R=0;R<M;R++){let b=(fs().chart.circularId+R+1)%M;g[b]!==void 0&&(g[b]>v&&(v=g[b]*h),l.set(A+R/(M-1)*(x-A*2)-x/2,Math.min(100,g[b])*h/100*(y-A*2-_)-y/2,0),l.toArray(p.attributes.position.array,R*3))}p.attributes.position.needsUpdate=!0};return Gi(function({viewport:h}){c("fps",1,i.current,h),s.current&&s.current.color.set(fs().overclockingFps?Or(n).overClock.toString():`rgb(${Or(n).fps.toString()})`),c("gpu",5,o.current,h),c("cpu",5,a.current,h)}),N.jsxs(N.Fragment,{children:[N.jsxs("line",{onUpdate:u=>{u.updateMatrix(),Ni.value-=1,u.matrixWorld.copy(u.matrix)},children:[N.jsx("bufferGeometry",{ref:i,children:N.jsx("bufferAttribute",{attach:"attributes-position",count:t.length,array:r.fps,itemSize:3,usage:X0,needsUpdate:!0})}),N.jsx("lineBasicMaterial",{ref:s,color:`rgb(${Or(n).fps.toString()})`,transparent:!0,opacity:.5})]}),N.jsxs("line",{onUpdate:u=>{u.updateMatrix(),Ni.value-=1,u.matrixWorld.copy(u.matrix)},children:[N.jsx("bufferGeometry",{ref:o,children:N.jsx("bufferAttribute",{attach:"attributes-position",count:t.length,array:r.gpu,itemSize:3,usage:X0,needsUpdate:!0})}),N.jsx("lineBasicMaterial",{color:`rgb(${Or(n).gpu.toString()})`,transparent:!0,opacity:.5})]}),N.jsxs("line",{onUpdate:u=>{u.updateMatrix(),Ni.value-=1,u.matrixWorld.copy(u.matrix)},children:[N.jsx("bufferGeometry",{ref:a,children:N.jsx("bufferAttribute",{attach:"attributes-position",count:t.length,array:r.cpu,itemSize:3,usage:X0,needsUpdate:!0})}),N.jsx("lineBasicMaterial",{color:`rgb(${Or(n).cpu.toString()})`,transparent:!0,opacity:.5})]})]})},Gee=({colorBlind:n,chart:e,customData:t,matrixUpdate:r,showGraph:i=!0,antialias:s=!0,minimal:o})=>{const a=w.useRef(void 0),l=vs(c=>c.paused);return N.jsxs(Jq,{style:{display:"flex",position:"absolute",height:`${o?37:i?100:60}px`,minWidth:`${o?"100px":t?"370px":"310px"}`},children:[N.jsx(yT,{ref:a,orthographic:!0,dpr:s?[1,2]:1,gl:{antialias:!0,alpha:!0,stencil:!1,depth:!1},onCreated:({scene:c})=>{c.traverse(u=>{u.matrixWorldAutoUpdate=!1,u.matrixAutoUpdate=!1})},flat:!0,style:{marginBottom:"-42px",position:"relative",pointerEvents:"none",background:"transparent !important",height:`${o?37:i?100:60}px`},children:l?null:N.jsxs(N.Fragment,{children:[N.jsx(Vee,{}),N.jsx(zee,{customData:t,minimal:o,matrixUpdate:r}),i&&N.jsx(Hee,{colorBlind:n,minimal:o,chart:e})]})}),l&&N.jsxs(Yq,{children:[N.jsx(Pee,{})," PAUSED"]})]})},Vee=()=>(Gi(function({gl:e,scene:t,camera:r}){r.updateMatrix(),Ni.value-=1,r.matrixWorld.copy(r.matrix),r.matrixWorldInverse.copy(r.matrixWorld).invert(),e.render(t,r),Pu.value=0,Ni.value=0},1/0),null),Wee=w.forwardRef(({portal:n,className:e,children:t,name:r,...i},s)=>{const o=Ar(u=>u.gl),a=w.useRef(null),l=w.useRef(null),c=(n==null?void 0:n.current)!=null?n.current:o.domElement.parentNode;return w.useLayoutEffect(()=>{if(!a.current||!c)return;const u=document.createElement("div"),h=l.current=$x(u);return c.appendChild(u),()=>{h.unmount(),l.current=null,c.removeChild(u)}},[c]),w.useLayoutEffect(()=>{const u=l.current;u&&u.render(N.jsx("div",{ref:s,className:e,children:t}))}),N.jsx("group",{name:r,...i,ref:a})});function jee(n){let e=0;for(let r in n.attributes){const i=n.getAttribute(r);e+=i.count*i.itemSize*i.array.BYTES_PER_ELEMENT}const t=n.getIndex();return e+=t?t.count*t.itemSize*t.array.BYTES_PER_ELEMENT:0,e}const EC=(n,e)=>{const t=i=>{switch(i){case 1e3:return"RepeatWrapping";case 1001:return"ClampToEdgeWrapping";case 1002:return"MirroredRepeatWrapping";default:return"ClampToEdgeWrapping"}},r=i=>{switch(i){case 3e3:return"LinearEncoding";case 3001:return"sRGBEncoding";case 3002:return"RGBEEncoding";case 3003:return"LogLuvEncoding";case 3004:return"RGBM7Encoding";case 3005:return"RGBM16Encoding";case 3006:return"RGBDEncoding";case 3007:return"GammaEncoding";default:return"ClampToEdgeWrapping"}};return{name:n,url:e.image.currentSrc,encoding:r(e.encoding),wrapT:t(e.wrapT),flipY:e.flipY.toString()}},$ee=({program:n,material:e,setTexNumber:t})=>{const r=vs(o=>o.gl),[i,s]=w.useState(null);return w.useEffect(()=>{if(r){const o=n==null?void 0:n.getUniforms();let a=0;const l=new Map;o.seq.forEach(c=>{if(!c.id.includes("uTroika")&&c.id!=="isOrthographic"&&c.id!=="uvTransform"&&c.id!=="lightProbe"&&c.id!=="projectionMatrix"&&c.id!=="viewMatrix"&&c.id!=="normalMatrix"&&c.id!=="modelMatrix"&&c.id!=="modelViewMatrix"){let u=[],h={name:c.id};c.cache&&(c.cache.forEach(p=>{typeof p<"u"&&u.push(p.toString().substring(0,4))}),h.value=u.join(),e[c.id]&&e[c.id].image&&e[c.id].image&&(a++,h.value=EC(c.id,e[c.id])),h.value||(h.value="empty"),l.set(c.id,h))}}),e.uniforms&&Object.keys(e.uniforms).forEach(c=>{const u=e.uniforms[c];if(u.value){const{value:h}=u;let p={name:c};if(c.includes("uTroika"))return;if(h.isTexture)a++,p.value=EC(c,h);else{let m=JSON.stringify(h);try{m=JSON.stringify(h)}catch{m=h.toString()}p.value=m}l.set(c,p)}}),a>0&&t(a),s(l)}},[]),N.jsx(PP,{children:i&&Array.from(i.values()).map(o=>N.jsx("span",{children:typeof o.value=="string"?N.jsx("li",{children:N.jsxs("span",{children:[o.name," :"," ",N.jsxs("b",{children:[o.value.substring(0,30),o.value.length>30?"...":""]})]})}):N.jsxs(N.Fragment,{children:[N.jsx("li",{children:N.jsxs("b",{children:[o.value.name,":"]})}),N.jsxs("div",{children:[Object.keys(o.value).map(a=>a!=="name"?N.jsx("div",{children:a==="url"?N.jsx("a",{href:o.value[a],target:"_blank",children:N.jsx("img",{src:o.value[a]})}):N.jsxs("li",{children:[a,": ",N.jsx("b",{children:o.value[a]})]})},a):null),N.jsxs(IP,{onClick:()=>{var a;console.info(e[o.value.name]||((a=e==null?void 0:e.uniforms[o.value.name])==null?void 0:a.value))},children:["console.info(",o.value.name,");"]})]})]})},o.name))})},Xee=({el:n})=>{vs(r=>r.log);const e=vs(r=>r.gl),t=r=>{if(!e)return 0;const i=Math.round(r.drawCounts.total/(e.info.render.triangles+e.info.render.lines+e.info.render.points)*100*10)/10;return isFinite(i)&&i||0};return N.jsx(N.Fragment,{children:n.drawCounts.total>0&&N.jsxs(Nr,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[n.drawCounts.type==="Triangle"?N.jsx(NP,{style:{top:"-1px"}}):N.jsx(LP,{style:{top:"-1px"}}),n.drawCounts.total,N.jsxs("small",{children:[n.drawCounts.type,"s"]}),e&&N.jsxs(pi,{style:{bottom:"-10px",width:"40px",fontWeight:"bold"},children:[n.visible&&!n.material.wireframe?t(n):0,"%"]})]})})},Jee=({el:n})=>{const[e,t]=w.useState(n.visible),[r,i]=w.useState(n.expand),[s,o]=w.useState(0),{meshes:a,program:l,material:c}=n;return N.jsxs(Zq,{children:[N.jsxs(Xq,{onClick:()=>{n.expand=!r,Object.keys(a).forEach(u=>{const h=a[u];h.material.wireframe=!1}),i(!r)},children:[N.jsx(x5,{style:{marginRight:"6px"},children:r?N.jsx("span",{children:N.jsx(BP,{})}):N.jsx("span",{children:N.jsx(DP,{})})}),l&&N.jsxs("span",{children:[N.jsx(Qq,{children:l.name}),N.jsxs(Nr,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[N.jsx(Aee,{style:{top:"-1px"}}),Object.keys(a).length,N.jsx("small",{children:Object.keys(a).length>1?"users":"user"})]}),s>0&&N.jsxs(Nr,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[s>1?N.jsx(Z_,{style:{top:"-1px"}}):N.jsx(Z_,{style:{top:"-1px"}}),s,N.jsx("small",{children:"tex"})]}),N.jsx(Xee,{el:n}),c.glslVersion==="300 es"&&N.jsxs(Nr,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[N.jsx(Lee,{style:{top:"-1px"}}),"300",N.jsx("small",{children:"es"}),N.jsx(pi,{style:{bottom:"-10px",width:"40px"},children:"glsl"})]})]}),N.jsx(Kq,{onPointerEnter:()=>{Object.keys(a).forEach(u=>{const h=a[u];h.material.wireframe=!0})},onPointerLeave:()=>{Object.keys(a).forEach(u=>{const h=a[u];h.material.wireframe=!1})},onClick:u=>{u.stopPropagation(),Object.keys(a).forEach(h=>{const p=a[h],m=!e;p.visible=m,n.visible=m,t(m)})},children:e?N.jsx(vee,{}):N.jsx(mee,{})})]}),N.jsxs("div",{style:{maxHeight:r?"9999px":0,overflow:"hidden"},children:[N.jsxs(xC,{children:[N.jsx(aee,{})," Uniforms:"]}),N.jsx($ee,{program:l,material:c,setTexNumber:o}),N.jsxs(xC,{children:[N.jsx(cee,{})," Geometries:"]}),N.jsx(PP,{children:a&&Object.keys(a).map(u=>a[u]&&a[u].geometry&&N.jsxs(nee,{children:[N.jsxs("span",{children:[a[u].geometry.type,": "]}),a[u].userData&&a[u].userData.drawCount&&N.jsxs("b",{children:[N.jsxs("div",{children:[a[u].userData.drawCount.count,N.jsxs("small",{children:[" ",a[u].userData.drawCount.type,"s"]})]}),N.jsx("br",{}),N.jsxs("div",{children:[Math.round(jee(a[u].geometry)/1024*1e3)/1e3,"Kb",N.jsx("small",{children:" memory used"})]})]})]},u))}),N.jsxs(IP,{onClick:()=>{console.info(c)},children:["console.info(",c.type,")"]})]})]})},Yee=()=>{vs(e=>e.triggerProgramsUpdate);const n=vs(e=>e.programs);return N.jsx(eee,{children:n&&Array.from(n.values()).map(e=>e&&e?N.jsx(Jee,{el:e},e.material.uuid):null)})},Or=n=>({overClock:"#ff6eff",fps:n?"100, 143, 255":"238,38,110",cpu:n?"254, 254, 98":"66,226,46",gpu:n?"254,254,254":"253,151,31",custom:n?"86,180,233":"40,255,255"}),Kee=({showGraph:n,colorBlind:e})=>{const t=vs(i=>i.overclockingFps),r=vs(i=>i.fpsLimit);return N.jsxs(pi,{style:n?{color:t?Or(e).overClock.toString():`rgb(${Or(e).fps})`}:{},children:["FPS ",t?`${r}🚀`:""]})},Zee=({showGraph:n,colorBlind:e,customData:t,minimal:r})=>{const i=vs(s=>s.gl);return i?N.jsxs($q,{children:[N.jsxs(Nr,{children:[N.jsx(See,{}),N.jsx(pi,{style:n?{color:`rgb(${Or(e).gpu.toString()})`}:{},children:"GPU"}),N.jsx(Dy,{children:"ms"})]}),N.jsxs(Nr,{children:[N.jsx(Dee,{}),N.jsx(pi,{style:n?{color:`rgb(${Or(e).cpu.toString()})`}:{},children:"CPU"}),N.jsx(Dy,{children:"ms"})]}),N.jsxs(Nr,{children:[N.jsx(xee,{}),N.jsx(Kee,{showGraph:n,colorBlind:e})]}),!r&&i&&N.jsxs(Nr,{children:[N.jsx(Fee,{}),N.jsx(pi,{children:i.info.render.calls===1?"call":"calls"})]}),!r&&i&&N.jsxs(Nr,{children:[N.jsx(NP,{}),N.jsx(pi,{children:"Triangles"})]}),t&&N.jsxs(Nr,{children:[N.jsx(see,{}),N.jsx(pi,{style:n?{color:`rgb(${Or(e).custom})`}:{},children:t.name}),t.info&&N.jsx(Dy,{children:t.info})]})]}):null},Qee=({showGraph:n,colorBlind:e,deepAnalyze:t,customData:r,matrixUpdate:i,openByDefault:s,minimal:o})=>N.jsxs(N.Fragment,{children:[N.jsx(Zee,{showGraph:n,colorBlind:e,customData:r,minimal:o}),!o&&N.jsx(ete,{matrixUpdate:i,openByDefault:s,deepAnalyze:t,showGraph:n})]}),qee=({matrixUpdate:n})=>N.jsxs("div",{children:[N.jsxs(Nr,{children:[N.jsx(Cee,{}),N.jsx(pi,{children:"Geometries"})]}),N.jsxs(Nr,{children:[N.jsx(Z_,{}),N.jsx(pi,{children:"Textures"})]}),N.jsxs(Nr,{children:[N.jsx(LP,{}),N.jsx(pi,{children:"shaders"})]}),N.jsxs(Nr,{children:[N.jsx(Tee,{}),N.jsx(pi,{children:"Lines"})]}),N.jsxs(Nr,{children:[N.jsx(fee,{}),N.jsx(pi,{children:"Points"})]}),n&&N.jsxs(Nr,{children:[N.jsx(hee,{}),N.jsx(pi,{children:"Matrices"})]})]}),AC=({tab:n,title:e,set:t})=>{const r=vs(i=>i.tab);return N.jsx(x5,{className:`${r===n?" __perf_toggle_tab_active":""}`,onClick:()=>{t(!0),Ti({tab:n})},children:N.jsx("span",{children:e})})},ete=({openByDefault:n,showGraph:e,deepAnalyze:t,matrixUpdate:r})=>{const[i,s]=le.useState(n);return N.jsxs("span",{children:[N.jsx(tte,{show:i,showGraph:e,matrixUpdate:r}),n&&!t?null:N.jsxs(tee,{className:"__perf_toggle",children:[t&&N.jsx(AC,{tab:"programs",title:"Programs",set:s}),t&&N.jsx(AC,{tab:"infos",title:"Infos",set:s}),N.jsx(x5,{onClick:()=>{s(!i)},children:i?N.jsxs("span",{children:[N.jsx(BP,{})," Minimize"]}):N.jsxs("span",{children:[N.jsx(DP,{})," More"]})})]})]})},tte=({show:n,showGraph:e,matrixUpdate:t})=>{const r=vs(i=>i.tab);return N.jsxs(N.Fragment,{children:[N.jsx(qee,{matrixUpdate:t}),n&&N.jsx("div",{children:N.jsx(qq,{style:{marginTop:e?"38px":0},children:r==="programs"&&N.jsx(Yee,{})})})]})},nte=({showGraph:n=!0,colorBlind:e=!1,openByDefault:t=!0,className:r,overClock:i=!1,style:s,position:o="top-right",chart:a,logsPerSecond:l,deepAnalyze:c=!1,antialias:u=!0,customData:h,matrixUpdate:p,minimal:m})=>{const v=w.useRef(null);return N.jsxs(N.Fragment,{children:[N.jsx(Wq,{logsPerSecond:l,chart:a,overClock:i,deepAnalyze:c,matrixUpdate:p}),N.jsx(Wee,{name:"r3f-perf",children:N.jsxs(jq,{className:(r?" ".concat(r):" ")+` ${o||""} ${m?"minimal":""}`,style:{minHeight:m?"37px":n?"100px":"60px",...s},ref:v,children:[N.jsx(Gee,{perfContainerRef:v,colorBlind:e,chart:a,showGraph:n,antialias:u,customData:h,minimal:m,matrixUpdate:p}),N.jsx(Qee,{colorBlind:e,showGraph:n,deepAnalyze:c,openByDefault:t,customData:h,matrixUpdate:p,minimal:m})]})})]})};var rte=`uniform float uBigWavesElevation;\r
uniform vec2 uBigWavesFrequency;\r
uniform float uTime;\r
uniform float uBigWavesSpeed;\r
varying float vElevation;

vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\r
vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\r
vec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}

float cnoise(vec3 P){\r
  vec3 Pi0 = floor(P); 
  vec3 Pi1 = Pi0 + vec3(1.0); 
  Pi0 = mod(Pi0, 289.0);\r
  Pi1 = mod(Pi1, 289.0);\r
  vec3 Pf0 = fract(P); 
  vec3 Pf1 = Pf0 - vec3(1.0); 
  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\r
  vec4 iy = vec4(Pi0.yy, Pi1.yy);\r
  vec4 iz0 = Pi0.zzzz;\r
  vec4 iz1 = Pi1.zzzz;

  vec4 ixy = permute(permute(ix) + iy);\r
  vec4 ixy0 = permute(ixy + iz0);\r
  vec4 ixy1 = permute(ixy + iz1);

  vec4 gx0 = ixy0 / 7.0;\r
  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;\r
  gx0 = fract(gx0);\r
  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\r
  vec4 sz0 = step(gz0, vec4(0.0));\r
  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\r
  gy0 -= sz0 * (step(0.0, gy0) - 0.5);

  vec4 gx1 = ixy1 / 7.0;\r
  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;\r
  gx1 = fract(gx1);\r
  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\r
  vec4 sz1 = step(gz1, vec4(0.0));\r
  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\r
  gy1 -= sz1 * (step(0.0, gy1) - 0.5);

  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\r
  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\r
  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\r
  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\r
  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\r
  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\r
  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\r
  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);

  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\r
  g000 *= norm0.x;\r
  g010 *= norm0.y;\r
  g100 *= norm0.z;\r
  g110 *= norm0.w;\r
  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\r
  g001 *= norm1.x;\r
  g011 *= norm1.y;\r
  g101 *= norm1.z;\r
  g111 *= norm1.w;

  float n000 = dot(g000, Pf0);\r
  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\r
  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\r
  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\r
  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\r
  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\r
  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\r
  float n111 = dot(g111, Pf1);

  vec3 fade_xyz = fade(Pf0);\r
  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\r
  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\r
  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); \r
  return 2.2 * n_xyz;\r
}

void main()\r
{\r
    vec4 modelPosition = modelMatrix * vec4(position, 1.0);\r
    
    float elevation = sin(modelPosition.x * uBigWavesFrequency.x + (uTime * uBigWavesSpeed)) * \r
                      sin(modelPosition.z * uBigWavesFrequency.y + (uTime * uBigWavesSpeed)) * \r
                      uBigWavesElevation;

    
    
    
    

    modelPosition.y += elevation;\r
    vec4 viewPosition = viewMatrix * modelPosition;\r
    vec4 projectedPosition = projectionMatrix * viewPosition;\r
    gl_Position = projectedPosition;

    
    vElevation = elevation;\r
}`,ite=`uniform vec3 uDepthColor;\r
uniform vec3 uSurfaceColor;\r
varying float vElevation;\r
uniform float uColorOffset;\r
uniform float uColorMultiplier;\r
uniform vec3 fogColor;\r
uniform float fogNear;\r
uniform float fogFar;\r

void main()\r
{\r
    vec3 color = mix(uDepthColor, uSurfaceColor, (vElevation + uColorOffset)*uColorMultiplier);\r
    gl_FragColor = vec4(color, 1.0);\r
    #ifdef USE_FOG\r
          #ifdef USE_LOGDEPTHBUF_EXT\r
              float depth = gl_FragDepthEXT / gl_FragCoord.w;\r
          #else\r
              float depth = gl_FragCoord.z / gl_FragCoord.w;\r
          #endif\r
          float fogFactor = smoothstep( fogNear, fogFar, depth );\r
          gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\r
      #endif\r
}`,ste=`uniform sampler2D alpha;\r
uniform sampler2D doodles;\r
uniform vec3 fogColor;\r
uniform float fogNear;\r
uniform float fogFar;\r
uniform float uTime;\r
uniform vec2 uMousePos;

varying vec2 vUv;

vec3 hueShift( vec3 color, float hueAdjust )\r
{\r
    const vec3  kRGBToYPrime = vec3 (0.299, 0.587, 0.114);\r
    const vec3  kRGBToI      = vec3 (0.596, -0.275, -0.321);\r
    const vec3  kRGBToQ      = vec3 (0.212, -0.523, 0.311);

    const vec3  kYIQToR     = vec3 (1.0, 0.956, 0.621);\r
    const vec3  kYIQToG     = vec3 (1.0, -0.272, -0.647);\r
    const vec3  kYIQToB     = vec3 (1.0, -1.107, 1.704);

    float   YPrime  = dot (color, kRGBToYPrime);\r
    float   I       = dot (color, kRGBToI);\r
    float   Q       = dot (color, kRGBToQ);\r
    float   hue     = atan (Q, I);\r
    float   chroma  = sqrt (I * I + Q * Q);

    hue += hueAdjust;

    Q = chroma * sin (hue);\r
    I = chroma * cos (hue);

    vec3    yIQ   = vec3 (YPrime, I, Q);

    return vec3( dot (yIQ, kYIQToR), dot (yIQ, kYIQToG), dot (yIQ, kYIQToB) );

}

void main(){\r
    
    float uvMultiplier = 20.0;\r
    vec2 modUv = vUv+vec2(2.0,2.0);\r
    \r
    
    float uvDoodlesMultiplier = 20.0;\r
    vec2 modDoodlesUv = vUv+vec2(10.0,10.0);\r

    
    vec4 alphaTex = texture2D(alpha, vUv);\r
    vec4 doodlesTex = texture2D(doodles, vUv);

    
    vec3 color = vec3(cos(((0.90*uTime)+modDoodlesUv.y*uvDoodlesMultiplier + uMousePos.x)), \r
        sin((0.90*uTime)+modDoodlesUv.y*uvDoodlesMultiplier + uMousePos.x), \r
        sin((0.90*uTime)+modDoodlesUv.y*uvDoodlesMultiplier + uMousePos.x));\r
    color+=vec3(0.1);\r
    color*=color;\r
    color*=color;\r
    color*=color;

    
    vec3 doodles = vec3(cos(((0.90*uTime)+modUv.y*uvMultiplier + uMousePos.x)), \r
        sin((0.90*uTime)+modUv.y*uvMultiplier + uMousePos.x), \r
        sin((0.90*uTime)+modUv.y*uvMultiplier + uMousePos.x));\r
    doodles+=vec3(0.1);\r
    doodles*=doodles;\r
    doodles*=doodles;\r
    doodles*=doodles;\r
    vec3 doodlesColor = vec3(0.1, 0.1, 0.1);

    
    color.g*=0.4;

    
    float rgAlphaMultiplier = max(color.r, color.g);\r
    float rgbAlphaMultiplier = max(rgAlphaMultiplier, color.b);\r
    \r
    
    float rgDoodleAlphaMultiplier = max(doodles.r, doodles.g);\r
    float rgbDoodleAlphaMultiplier = max(rgDoodleAlphaMultiplier, doodles.b);

    gl_FragColor = vec4((doodlesColor + color), ((doodlesTex.x*rgbDoodleAlphaMultiplier) + (alphaTex.x*rgbAlphaMultiplier)));

    #ifdef USE_FOG\r
          #ifdef USE_LOGDEPTHBUF_EXT\r
              float depth = gl_FragDepthEXT / gl_FragCoord.w;\r
          #else\r
              float depth = gl_FragCoord.z / gl_FragCoord.w;\r
          #endif\r
          float fogFactor = smoothstep( fogNear, fogFar, depth );\r
          gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\r
      #endif\r
}`,ote=`varying vec2 vUv;

void main(){\r
    vec4 modelPosition = modelMatrix * vec4(position, 1.0);\r
    vec4 viewPosition = viewMatrix * modelPosition;\r
    vec4 projectedPosition = projectionMatrix * viewPosition;

    gl_Position = projectedPosition;

    vUv = uv;\r
}`;const wC=n=>w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1080 1080",style:{enableBackground:"new 0 0 1080 1080"},xmlSpace:"preserve",...n},w.createElement("style",{type:"text/css"},`\r
	.st0{fill:#FF0000;}\r
	.st1{fill:none;stroke:#000000;stroke-width:37;stroke-miterlimit:10;}\r
	.st2{display:none;}\r
	.st3{display:inline;}\r
	.st4{display:inline;fill:none;stroke:#000000;stroke-width:37;stroke-miterlimit:10;}\r
	.st5{display:inline;fill:none;stroke:#000000;stroke-width:25;stroke-miterlimit:10;}\r
`),w.createElement("g",{id:"wonder"},w.createElement("g",null,w.createElement("g",null,w.createElement("path",{d:"M308.9,620.1c20.3,0,67.6,6.6,67.6,67.6c0,37.3-30.3,67.6-67.6,67.6s-67.6-30.3-67.6-67.6 C241.3,650.4,271.7,620.1,308.9,620.1L308.9,620.1z M308.9,571.4c-64.2,0-116.3,52.1-116.3,116.3S244.7,804,308.9,804 S425.2,752,425.2,687.7C425.2,612.5,373.2,571.4,308.9,571.4L308.9,571.4z"})),w.createElement("g",null,w.createElement("rect",{x:255.1,y:454.4,transform:"matrix(4.381290e-02 -0.999 0.999 4.381290e-02 -168.2771 781.7615)",className:"st0",width:138.2,height:48.7})),w.createElement("g",null,w.createElement("rect",{x:418.6,y:521.7,transform:"matrix(0.8069 -0.5906 0.5906 0.8069 -227.6227 395.6779)",className:"st0",width:145.6,height:48.7})),w.createElement("g",null,w.createElement("rect",{x:507.1,y:642.1,transform:"matrix(0.1961 -0.9806 0.9806 0.1961 -278.1011 1099.3276)",className:"st0",width:48.7,height:154.4})),w.createElement("g",null,w.createElement("path",{d:"M485.2,923.7l-16.5,11.9h0c-4.9,0.2-9.9,0.3-14.9,0.3c-6.8,0-13.5-0.2-20.2-0.5L358.4,831l39.5-28.5L485.2,923.7z"})),w.createElement("g",null,w.createElement("path",{d:"M81.7,758.8l-0.4,0.1l-0.6-2.1C81.1,757.5,81.4,758.1,81.7,758.8z"})),w.createElement("g",null,w.createElement("circle",{className:"st0",cx:35.7,cy:839.7,r:30.5})),w.createElement("g",null,w.createElement("circle",{className:"st0",cx:135,cy:963.8,r:30.5})),w.createElement("g",null,w.createElement("circle",{className:"st0",cx:288.4,cy:1036,r:30.5})),w.createElement("g",null,w.createElement("path",{d:"M1074.7,256.5l-34.6-40.6c-0.3,0.4-41.2,48.1-82.7,82.4c-7.5,6.2-14.9,12-22.2,17.3c-22.6-41.6-47.2-74.1-68.2-98 c3.7-2.9,7.3-6,11-9.1c42.1-35.9,81.1-76.8,82.3-78.3L920.5,94c-0.3,0.4-35.8,44.8-74.6,77.8c-4.4,3.7-8.8,7.3-13.1,10.7 c-28.4-26.3-49.1-38.8-50.3-39.5l-33.5,34.4c0.2,0.1,22.3,15.8,42.2,33.1c-25.1,13.9-47.5,20.3-65.4,18.2 c-7.5-0.9-15.2-1.1-22.9-0.6c-17.7-13.1-36.4-24.8-56.1-35c95.2-29.8,169.4-149.9,172.9-155.6l-44.4-24.1 C774.5,15,686,161.6,591.6,151.2c-17.7-2-35.2-0.7-52.2,3.8c-27.6-5.7-56.3-8.8-85.6-8.8c-231.5,0-419.2,187.7-419.2,419.2 c0,69,16.6,134,46.1,191.4c0.3,0.7,0.7,1.3,1,1.9C151.6,893,292,984.6,453.8,984.6c231.5,0,419.2-187.7,419.2-419.2 c0-56.2-11.1-109.8-31.1-158.7c22.9-1.5,47.3-8.7,72.9-21.5c8.9,21.1,17,44.2,23.6,69.3c26.3,98.7,10.6,189-7.2,247.3 c-19.5,64.1-45.9,105-46.1,105.4l40.8,26.6c1.2-1.8,29.8-46,51.4-116.1c20-64.8,37.6-165.2,8.2-275.7c-8-29.9-17.7-57.2-28.5-82 c10.4-7.2,20.9-15.3,31.6-24.1C1033.7,298.4,1073.4,258.1,1074.7,256.5z M795.2,709.6c-18.6,44.1-45.4,83.7-79.4,117.8 c-34,34-73.7,60.8-117.8,79.4c-41.1,17.4-84.5,27.1-129.3,28.8h0c-4.9,0.2-9.9,0.3-14.9,0.3c-6.8,0-13.5-0.2-20.2-0.5 c-42.9-2.3-84.5-11.9-124-28.6c-23.6-10-45.9-22.3-66.8-36.8l18.5-32.8l-42.4-23.9l-14.6,25.9c-4.2-3.8-8.4-7.8-12.4-11.9 c-25-25-46-52.9-62.8-83.5l33.5-10.5L148,687l-39.7,12.5c-16.6-42.6-25-87.7-25-134c0-10.7,0.4-21.3,1.4-31.9l95.3,76.9 l30.6-37.9l-106.6-86l-16,19.8c4.7-29.2,12.8-57.6,24.4-85.1c18.7-44.1,45.4-83.7,79.4-117.8c34-34,73.7-60.8,117.8-79.4 c45.6-19.3,94.2-29.1,144.2-29.1c4.6,0,9.3,0.1,13.9,0.3c-8.8,7.8-17.3,16.6-25.5,26.3c-31.4,37.2-47.9,75.7-48.6,77.3l44.8,19.1 c0.5-1.1,38.5-88,103.4-112.5c19.2,4.7,38,10.9,56.3,18.6c14.9,6.3,29.2,13.5,43.1,21.6c-20,9.6-40.6,23.1-61.7,40.5 c-37,30.6-62,62.3-63,63.6l38.3,30c20.6-26.2,78.8-86.4,134.9-100.2c9.1,7.5,17.8,15.5,26.2,23.8c16.6,16.6,31.5,34.5,44.5,53.7 c-96.8,9.7-155.5,66.4-158.4,69.3l34.1,34.7c0.2-0.2,18.2-17.5,49.7-32.8c32.4-15.8,66.6-23.8,101.9-23.9 c2.7,5.5,5.2,11.1,7.6,16.8c19.3,45.7,29.1,94.2,29.1,144.2C824.3,615.5,814.5,664,795.2,709.6z M823.1,357.7 c-1.8-0.2-3.6-0.4-5.4-0.6c-17-29.7-37.5-57-61-81.5c22-4.2,45.6-14,70.6-29.5c0.6,0.7,1.3,1.4,1.9,2.1 c19.7,22.1,43.2,53,64.7,93C867.4,354.5,843.5,360.2,823.1,357.7z"})))),w.createElement("g",{id:"motion",className:"st2"},w.createElement("g",{className:"st3"},w.createElement("g",null,w.createElement("path",{d:"M564.6,726.7c-3.2,0-6.4-0.4-9.6-1.2c-15-3.6-26.4-15.3-29.6-30.4C502.2,587.9,449,520.9,419.4,490.6 c-9.1-9.4-13.1-22.6-10.7-35.4c2.4-12.8,11-23.7,22.9-29l197.7-89c11.1-5,23.7-4.7,34.6,0.9c10.9,5.6,18.5,15.6,21,27.6 c11.8,57.2,26.6,205.4-89.6,346.5C587.6,721.5,576.4,726.7,564.6,726.7z M645.7,372c-0.3,0-0.5,0.1-0.7,0.2l-197.7,89 c-0.2,0.1-0.8,0.3-0.9,1.2c-0.2,0.8,0.3,1.3,0.4,1.5c32.5,33.3,90.7,106.6,116,223.3c0.1,0.4,0.2,1,1.2,1.2 c1,0.2,1.4-0.2,1.6-0.5c105.7-128.3,92.3-262.6,81.6-314.4c0-0.2-0.2-0.8-0.8-1.1C646.2,372.1,646,372,645.7,372z"})),w.createElement("g",null,w.createElement("path",{d:"M604.4,583.1l-41.6-37c-20.1-19.4-22.6-50.9-5.9-73.2l67.3-78.2l4,54.9l-40.5,46.3c-5.2,6.9-4.4,16.6,1.8,22.6l26.7,25.8 L604.4,583.1z"})),w.createElement("g",null,w.createElement("path",{d:"M1065.2,423.4c-32,64-82,91.1-121.5,96.2c-45.2,5.8-85.2-15.9-103.7-28.1c-0.4-22.4-3-44.2-7.6-65.2 c2,0.1,4.2,0.1,6.5,0.1c29.5,0,79.1-5.7,120.3-38.8c39.9-32,62.1-64.9,70.4-126.5l-29.6-45.1c-5.9,85.4-33.5,116.5-64.5,141.5 c-43.7,35.2-102.6,30.9-114.3,29.6c-12-33.9-29.5-65.3-51.4-93.1h1.2c32.4,0,73.7-6.5,104.8-33.7c33.7-29.5,47.5-66.4,41.2-128.5 l-37.9-24.9c5,49-4.7,103.6-28.5,124.4C811.1,266,742.1,254,730,251.6c-58-51.7-134.5-83.1-218.3-83.1 c-181.4,0-328.4,147-328.4,328.4c0,14.5,0.9,28.7,2.7,42.7c-28.3-1.3-82.4,1.7-127.3,36.6c-40.4,31.3-47.5,78.4-53.4,127.1 l30.8,43.3c4.4-53.9,14.5-115.4,45.8-139.8c41.2-32,94.9-29.7,111.6-28.1c5.2,20.2,12.2,39.6,20.9,58.1 c-25.3,15.9-61.2,45.3-78.6,91.5c-18,47.8-20.3,88.8,3.4,138.6l52.2,34.4c-40.3-86.6-33.7-121.9-19.8-159.1 c13.1-35,40.9-58.4,61.2-71.5c27,43.3,63.9,79.9,107.5,106.6c-28.3,16.4-61.9,43.4-75.1,83.6c-14,42.6,0.9,77.2,13.9,102.1 l52.2,21.3c-29.2-39.6-39.5-81.3-29.7-111.4c13-40,57.5-63.9,80.8-73.9c39.7,17,83.4,26.4,129.3,26.4 c168.5,0,307.4-127,326.3-290.4c22.3,11.8,54,24,90.4,24c6.5,0,13.1-0.4,19.8-1.2c50.7-6.3,88.7-31,126.5-84.5L1065.2,423.4z  M779,609.8c-14.6,34.5-35.5,65.6-62.2,92.2c-26.7,26.7-57.7,47.6-92.2,62.2c-35.7,15.1-73.7,22.8-112.9,22.8 s-77.2-7.7-112.9-22.8c-4.3-1.8-8.6-3.7-12.8-5.8c-0.8-0.4-1.6-0.8-2.4-1.2c-28.5-14-54.4-32.6-77.1-55.3 c-26.6-26.7-47.6-57.7-62.2-92.2c-15.1-35.7-22.8-73.7-22.8-112.9c0-39.2,7.7-77.2,22.8-112.9c14.6-34.5,35.5-65.6,62.2-92.2 c26.7-26.6,57.7-47.6,92.2-62.2c35.7-15.1,73.7-22.8,112.9-22.8s77.2,7.7,112.9,22.8c34.5,14.6,65.6,35.5,92.2,62.2 c26.7,26.7,47.6,57.7,62.2,92.2c15.1,35.7,22.8,73.7,22.8,112.9C801.7,536.1,794.1,574.1,779,609.8z"})),w.createElement("g",null,w.createElement("path",{d:"M386,758.4c-0.8-0.4-1.6-0.8-2.4-1.2c1-0.3,1.6-0.5,1.8-0.6L386,758.4z"})),w.createElement("circle",{cx:680.2,cy:841.6,r:31.1}),w.createElement("circle",{cx:762.9,cy:929.7,r:31.1}),w.createElement("circle",{cx:886.5,cy:975,r:31.1}),w.createElement("g",null,w.createElement("path",{d:"M244.3,219c-40,0-72.5-32.5-72.5-72.5s32.5-72.5,72.5-72.5c40,0,72.5,32.5,72.5,72.5S284.3,219,244.3,219z M244.3,112.2 c-18.8,0-34.2,15.3-34.2,34.2s15.3,34.2,34.2,34.2s34.2-15.3,34.2-34.2S263.2,112.2,244.3,112.2z"})))),w.createElement("g",{id:"animation",className:"st2"},w.createElement("g",{className:"st3"},w.createElement("g",null,w.createElement("polygon",{points:"719.9,792.5 666.8,793 673.3,642.9 556.1,589.2 442.7,730.6 277.8,632.5 305,586.8 430.1,661.2 540.6,523.6  728.1,609.4  "})),w.createElement("g",null,w.createElement("circle",{cx:549.5,cy:289.4,r:67.4})),w.createElement("g",null,w.createElement("ellipse",{cx:553.6,cy:1035.7,rx:43.1,ry:39})),w.createElement("g",null,w.createElement("circle",{cx:434.4,cy:1035.7,r:39})),w.createElement("g",null,w.createElement("ellipse",{cx:713.8,cy:1035.7,rx:48.9,ry:39})),w.createElement("g",null,w.createElement("path",{d:"M854.7,171.8v-50.7l-36-20.1v39.6c-60.4-47.1-133-79.2-212.2-90.9V9.6l-36-4.3V46c-10.1-0.7-20.3-1-30.5-1 c-36.5,0-72.1,4.3-106.1,12.5V17l-36,8.6v42c-181,59.6-311.6,230-311.6,431c0,250.5,203.1,453.7,453.7,453.7 c250.6,0,453.7-203.1,453.7-453.7C993.7,370.2,940.4,254.3,854.7,171.8z M343.5,149.6c13.1-7.4,26.7-14.1,40.7-20 c4.6-1.9,9.2-3.8,13.8-5.5v116.5h36V112.3c34.3-9.4,69.9-14.2,106.1-14.2c10.2,0,20.4,0.4,30.5,1.1v88.7h36v-84.3 c30.7,5.1,60.5,13.8,89.4,26c1.9,0.8,3.8,1.6,5.7,2.4h-1.2v290.2l-151.9-45.1l-129.8,98.1l-75.2-54.5V149.6z M823.2,781.8 c-36.8,36.8-79.6,65.7-127.3,85.8C646.5,888.5,594.1,899,540,899c-54.1,0-106.5-10.6-155.8-31.5c-47.7-20.2-90.5-49-127.3-85.8 c-36.8-36.8-65.7-79.6-85.8-127.3c-20.9-49.3-31.5-101.8-31.5-155.8c0-54.1,10.6-106.5,31.5-155.9c20.2-47.7,49-90.5,85.8-127.3 c15.8-15.8,32.7-30.2,50.7-43v251.1L290,447.8l129.4,93.7l139.8-105.7l124.4,36.9L728,582.6l49.3-20l-41-101.1v-312 c29.9,16.8,57.5,37.4,82.4,61.6v144.5h36V250.9c22.1,28,40.3,58.8,54.3,91.9c20.9,49.3,31.4,101.8,31.4,155.9 c0,54.1-10.6,106.5-31.4,155.8C888.8,702.1,859.9,745,823.2,781.8z"})))),w.createElement("g",{id:"interactive",className:"st2"},w.createElement("g",{className:"st3"},w.createElement("g",null,w.createElement("path",{d:"M56.2,562.5c-9,23-18.2,51.9-18.2,51.9c0.6,2.3,15.7,56.7,65.2,106.2c32.8,32.8,68.2,53.5,102.4,59.9 c4.6,0.9,9.1,1.5,13.6,1.8c29.7,30.3,64.7,55.4,103.5,73.9c-18.1,10.4-39.8,18.1-66.3,19.5C91.2,884.2,27.1,743.7,20.3,732.3 l-15,54c19.3,32.2,55,72.8,90.8,94.3c42.9,25.8,90.6,38.8,142.1,38.8c7,0,14.1-0.2,21.2-0.7c42.7-2.9,80.2-17.6,111.8-43.7 c34.1,10.5,70.3,16.2,107.8,16.2c200.9,0,363.7-162.8,363.7-363.7c0-78.2-24.7-150.6-66.6-209.9c0.6-1,1.2-2,1.8-3 c13-21.8,19.2-30,33.5-30c14.2,0,23.3,17.6,36.6,46.5c8.3,18.1,16.9,36.8,29.7,52.2c16.4,19.8,37,30,61.2,30.5c0.9,0,1.9,0,2.8,0 c32,0,61.1-11.3,84.2-32.7c21.2-19.7,36.4-46.7,43.9-78.3c8.9-37.5,5.9-77.6-8.3-112.9c-16.1-39.9-33.9-69.2-72.9-96.1l-51,13 c81.9,47,102.5,133.9,90.2,186.1c-9,38.3-36.9,78.9-88.1,77.8c-24.6-0.5-36.3-22.1-52.6-57.6c-7.3-15.9-14.8-32.3-25.1-45.3 c-13.8-17.5-30.9-26.4-50.7-26.4c-33.9,0-51.7,21-64.1,40.5c-14-15.3-29.2-29.3-45.6-42c2.8,0,5.5-0.2,8.2-0.4 c26.3-2.2,50.4-13,69.6-31.3c41.4-39.5,54.2-80.4,39.2-127.3l-46-2c17.3,33.8,4.5,71.9-23,98.1c-27.1,25.8-65.5,26.6-108.2,2.1 c-30.3-17.4-60.4-22.2-89.5-14.2c-4.2,1.1-8.2,2.5-12,4.1c-19.9-3.4-40.3-5.1-61.1-5.1c-200.9,0-363.7,162.8-363.7,363.7 c0,70.7,20.2,136.6,55,192.5C170.2,720,97.2,676.4,56.2,562.5z M272.8,773.1c6.7-3.1,12.9-7,18.7-11.6c29-23,45.9-52.3,48.7-84.7 c2.4-27.3-5.4-49.5-10.3-60.2c-27.5-60.6-27.7-114-16.2-137.9c1.3-2.7,2.5-4.6,3.6-5.9c0,4.2-0.2,9.5-0.3,13.8 c-0.7,16.3-1.6,38.5,4.5,63.1c5.4,21.6,15.5,51.3,41,60.7c16.6,6.1,35.3,1.9,55.6-12.7c19-13.5,31.6-35.5,37.6-65.3 c4.1-20.4,4.2-41.2,2.9-53.9c-0.7-7.2-3.3-15.6-6.6-26.3c-3.4-11-7.2-23.4-8.9-34.5c-0.6-3.8-0.8-6.8-0.8-9.2 c4.2,4.3,9.9,11.4,15.5,21.7c8.4,15.2,13.7,31.9,13.2,41.7c-0.8,15.9-1.1,38.7,1.7,57.2c1.6,10.2,3.9,18.3,7.2,24.8 c7.9,15.5,20,18.7,26.5,19.2c10.7,0.8,21.1-4.2,31.6-15.4c17.5-18.5,40.6-61.4,36.7-90.6l-0.1-0.7c-1.5-11.1-3.5-26.3-3.6-40.3 c-0.1-9.3,0.7-15.2,1.6-18.9c3.8,5.6,8.9,16.5,12.8,33.7c5,22,5,41.5,2.4,48.7c-1.7,4.9-3.5,9.9-5.3,14.7 c-9.5,26.3-18.6,51-18.6,74.7c0,16,7.1,29.9,18.9,37c6.9,4.2,21.6,9.6,42.4-1.2c19.3-10.1,28.8-35.5,39.9-65 c5.1-13.7,10.4-27.7,16.3-38.7c-0.7,13.5-3.3,31.8-9,52.9c-11.2,41-29.1,72.6-49.2,86.8c-12.9,9.1-64.8,27.2-102.7,40.3 c-45.5,15.9-74.2,26-87.2,33.9c-12,7.2-20.2,21.3-31.5,40.9c-10.4,18-23.2,40.1-41.3,59.7c-2.1-0.8-4.2-1.7-6.3-2.6 C324.6,810.4,297.3,793.7,272.8,773.1z M799.5,527.5c0,43.3-8.5,85.3-25.2,124.8c-16.1,38.2-39.3,72.5-68.7,101.9 c-29.4,29.5-63.7,52.6-101.9,68.7c-39.5,16.7-81.5,25.2-124.8,25.2c-25.1,0-49.8-2.8-73.8-8.5c14.5-18.5,25.3-37.2,34-52.2 c5.9-10.1,13.1-22.7,16.6-25.6c10.5-6.2,46.9-18.8,78.9-30c57.7-20.1,96.7-34.1,113.4-45.8c38.5-27.1,57.8-80.7,65.9-110.2 c9.1-33.1,16-80.4,5.8-104.9c-7.2-17.1-21.7-21-32-19.1c-34.2,6.2-49.5,47-62.9,82.9c-4.6,12.3-12,31.9-17.5,39.6 c1.3-15.4,8.3-34.8,15.8-55.2c1.8-4.9,3.6-9.9,5.4-15.1c10.9-30.8-0.9-101.9-27.3-129.7c-11.6-12.2-26.5-16.8-40.9-12.5 c-13.8,4.1-30.6,17.1-32.3,55.7c-0.9,19.4,2,40.6,3.9,54.7l0.1,0.7c0.7,5-2.1,17.2-9.9,32.2c-2.5,4.9-5,9.2-7.4,12.7 c-1-9.8-1.6-24-0.6-43.8c1.7-36-28.8-97.3-62.4-110.6c-15.3-6.1-30.6-2.4-41.1,9.8c-20.7,24.2-8.7,63.3,0.1,91.8 c2.1,6.7,4.7,15.1,4.9,17.9c1.5,15.4,0.7,63.1-22.7,79.8c-10,7.1-14.9,7.6-15.6,7.3c-0.1,0-7.2-3.3-14.1-30.7 c-4.7-18.6-3.9-35.8-3.3-50.9c0.5-11.8,0.9-22-1.3-31.5c-3.5-15-13.5-25.3-28-28.7c-17.3-4.1-34.3,2.1-46.6,17 c-24.7,29.9-33.2,101.9,6.4,189.2c5.7,12.6,20.7,56.4-25.9,93.3c-7,5.5-16.1,9.6-26.9,11.1c-22.7-25.8-40.9-54.8-54.3-86.5 c-16.7-39.5-25.2-81.5-25.2-124.8c0-43.3,8.5-85.3,25.2-124.8c16.1-38.2,39.3-72.5,68.7-101.9c29.4-29.5,63.7-52.6,101.9-68.7 c39.5-16.7,81.5-25.2,124.8-25.2c3.3,0,6.5,0,9.8,0.2c-9.2,10.7-12.3,16.8-12.8,17.7l31,32c0.1-0.2,16-27.5,35.6-40.6 c1.2-0.8,2.3-1.5,3.5-2.2c19.7,4.2,38.9,10.2,57.6,18.2c38.2,16.1,72.5,39.3,101.9,68.7c5.7,5.7,11.2,11.6,16.4,17.6 c-6.6,5.9-14.4,8.7-25.7,8.3c-19.5-0.8-23.7-9.4-32.3-30.6c-4.3-10.7-9.3-22.9-18.3-32.6c-11.6-12.4-27.2-18-46.3-16.7 c-32.7,2.3-47,27.4-56.5,43.9c-10.7,18.7-14.2,21.8-23.3,21.3c-9-0.5-16.1-10.6-26.9-27.1c-13.2-20.2-29.6-45.5-61.7-46.2 c-30.9-0.7-57,15-73.6,44.4c-11.2,20-14.5,39.6-14.8,41.8l42.6,6.6c0.1-0.5,8.1-49.7,43.8-49.7c0.3,0,0.6,0,0.9,0 c8.8,0.2,15.9,10.2,26.6,26.6c13,20,29.2,44.8,60.6,46.6c1.4,0.1,2.8,0.1,4.1,0.1c34.4,0,49.2-25.8,59.1-43.1 c9.6-16.8,13.7-21.8,22.1-22.3c10.5-0.7,12.9,0.7,21.6,22.4c4.7,11.5,9.9,24.6,20.1,35.7c12.5,13.6,29.4,21,50.5,21.8 c23.8,1,40.7-6.3,53.4-16.8c10.2,15.7,19,32.3,26.3,49.6C791,442.2,799.5,484.2,799.5,527.5z"})),w.createElement("circle",{cx:647.8,cy:950.2,r:43}),w.createElement("circle",{cx:815.6,cy:826.3,r:43}),w.createElement("circle",{cx:455.9,cy:958.2,r:43}))),w.createElement("g",{id:"vfx",className:"st2"},w.createElement("g",{className:"st3"},w.createElement("g",null,w.createElement("path",{d:"M540,921.4c215.5,0,390.1-173.5,390.1-387.6c0-204-158.6-371.1-360-386.4c20.4-46.2,21.5-92.6-9.1-141.6l-50.1,7 c39.4,39.3,30.7,97.7,7.5,134.1C313,158,149.9,327,149.9,533.8c0,197.6,148.9,360.7,341.3,384.5c-5.6,17.5-7.7,35.8-6.5,55.5 c1.9,30.2,6.8,62.8,25.1,99.9l55.4,0.4c-29.1-58.8-40.8-120-26-152.8H540z M542.5,192.3c45.6,0.3,89.9,9.4,131.6,26.9 c41,17.2,77.8,41.9,109.4,73.3c31.6,31.4,56.4,67.9,73.7,108.6c17.9,42,27,86.8,27,132.9s-9.1,90.8-27,132.9 c-17.3,40.7-42.1,77.2-73.7,108.6c-31.6,31.4-68.4,56.1-109.4,73.3c-31.4,13.2-64.2,21.6-98,25c17.6-16.2,39.2-31.8,63.1-49.1 c54.4-39.4,116.1-84,153.1-157.3c28.2-55.9,38.8-110.1,31.4-161c-6.5-45.1-27.5-87-60.8-121c-35.3-36.2-83.4-62.5-135.3-74.1 c-52.4-11.7-103.7-7.5-144.7,12c-37.2,17.7-66.3,41.2-86.5,69.9c-18.1,25.7-28.2,54.9-29.2,84.3c-1.7,46.7,19.3,88.1,54.6,108.1 c59.7,33.7,114.1,3.4,116.4,2.1l-0.8-1.4c0.8,0,1.7,0.1,2.5,0.1c28.8,0,52.2-23.4,52.2-52.2c0-8.7-2.1-16.8-5.9-24 c13.7-4.6,32.5-7.2,52.4,1.8c20.1,9.1,34,34,35.5,63.2c2.5,48.3-27.8,95.8-80.9,127c-62.1,36.4-160.5,23.8-224-28.9 c-37.7-31.3-93.9-102.8-47.8-231.2c23.3-64.9,80.1-115.5,135.1-164.3C488.6,248.9,519.4,221.6,542.5,192.3z M405.9,848.6 c-41-17.2-77.8-41.9-109.4-73.3c-31.6-31.4-56.4-67.9-73.7-108.6c-17.9-42.1-27-86.8-27-132.9s9.1-90.8,27-132.9 c17.3-40.7,42.1-77.2,73.7-108.6c31.6-31.4,68.4-56.1,109.4-73.3c22.2-9.3,45.1-16.2,68.6-20.7c-14.2,14-30.6,28.8-48.5,44.7 c-56.5,50.2-120.5,107.2-147.8,183.1c-21.5,59.8-25.7,115.9-12.5,166.6c11.7,45,37.4,84.9,74.2,115.5 c47.6,39.5,109.9,60.3,169.3,60.3c38.7,0,76.1-8.9,107.3-27.2c36.1-21.2,63.6-47.9,81.5-79.5c16-28.1,23.7-59.1,22.1-89.5 c-2.4-46.9-26.3-86.3-62.4-102.7c-55.9-25.5-105.4,3.8-117.4,11.9H540c-28.8,0-52.2,23.4-52.2,52.2c0,7.3,1.5,14.3,4.2,20.6 c-12.9,1.8-29.9,0.8-47.6-9.2c-20-11.3-32.3-37.4-31.3-66.4c0.8-21.9,11-77,89.5-114.3c66.2-31.5,168.2-7.8,227.4,52.8 c33.7,34.5,81.3,110.1,21.2,229.2c-32,63.4-86.4,102.7-139,140.8c-38,27.5-74.3,53.7-98.5,87.2 C476.4,871.7,440.3,863,405.9,848.6z"})),w.createElement("g",null,w.createElement("circle",{cx:650.7,cy:1009.4,r:52.2})),w.createElement("g",null,w.createElement("circle",{cx:386.7,cy:1009.4,r:52.2})),w.createElement("g",null,w.createElement("circle",{cx:435.7,cy:86.7,r:52.2}))))),SC=n=>w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1080 1080",style:{enableBackground:"new 0 0 1080 1080"},xmlSpace:"preserve",...n},w.createElement("style",{type:"text/css"},`\r
	.st0{display:none;}\r
	.st1{display:inline;}\r
	.st2{fill:#FFFFFF;}\r
	.st3{display:inline;fill:none;stroke:#000000;stroke-width:37;stroke-miterlimit:10;}\r
	.st4{fill:none;stroke:#000000;stroke-width:37;stroke-miterlimit:10;}\r
	.st5{fill:none;stroke:#000000;stroke-width:25;stroke-miterlimit:10;}\r
`),w.createElement("g",{id:"wonder",className:"st0"},w.createElement("g",{className:"st1"},w.createElement("g",null,w.createElement("path",{className:"st2",d:"M308.9,620.1c20.3,0,67.6,6.6,67.6,67.6c0,37.3-30.3,67.6-67.6,67.6s-67.6-30.3-67.6-67.6 C241.3,650.4,271.7,620.1,308.9,620.1L308.9,620.1z M308.9,571.4c-64.2,0-116.3,52.1-116.3,116.3S244.7,804,308.9,804 S425.2,752,425.2,687.7C425.2,612.5,373.2,571.4,308.9,571.4L308.9,571.4z"})),w.createElement("g",null,w.createElement("rect",{x:255.1,y:454.4,transform:"matrix(4.381290e-02 -0.999 0.999 4.381290e-02 -168.2771 781.7615)",className:"st2",width:138.2,height:48.7})),w.createElement("g",null,w.createElement("rect",{x:418.6,y:521.7,transform:"matrix(0.8069 -0.5906 0.5906 0.8069 -227.6227 395.6779)",className:"st2",width:145.6,height:48.7})),w.createElement("g",null,w.createElement("rect",{x:507.1,y:642.1,transform:"matrix(0.1961 -0.9806 0.9806 0.1961 -278.1011 1099.3276)",className:"st2",width:48.7,height:154.4})),w.createElement("g",null,w.createElement("path",{className:"st2",d:"M485.2,923.7l-16.5,11.9h0c-4.9,0.2-9.9,0.3-14.9,0.3c-6.8,0-13.5-0.2-20.2-0.5L358.4,831l39.5-28.5 L485.2,923.7z"})),w.createElement("g",null,w.createElement("path",{className:"st2",d:"M81.7,758.8l-0.4,0.1l-0.6-2.1C81.1,757.5,81.4,758.1,81.7,758.8z"})),w.createElement("g",null,w.createElement("circle",{className:"st2",cx:35.7,cy:839.7,r:30.5})),w.createElement("g",null,w.createElement("circle",{className:"st2",cx:135,cy:963.8,r:30.5})),w.createElement("g",null,w.createElement("circle",{className:"st2",cx:288.4,cy:1036,r:30.5})),w.createElement("g",null,w.createElement("path",{className:"st2",d:"M1074.7,256.5l-34.6-40.6c-0.3,0.4-41.2,48.1-82.7,82.4c-7.5,6.2-14.9,12-22.2,17.3 c-22.6-41.6-47.2-74.1-68.2-98c3.7-2.9,7.3-6,11-9.1c42.1-35.9,81.1-76.8,82.3-78.3L920.5,94c-0.3,0.4-35.8,44.8-74.6,77.8 c-4.4,3.7-8.8,7.3-13.1,10.7c-28.4-26.3-49.1-38.8-50.3-39.5l-33.5,34.4c0.2,0.1,22.3,15.8,42.2,33.1 c-25.1,13.9-47.5,20.3-65.4,18.2c-7.5-0.9-15.2-1.1-22.9-0.6c-17.7-13.1-36.4-24.8-56.1-35c95.2-29.8,169.4-149.9,172.9-155.6 l-44.4-24.1C774.5,15,686,161.6,591.6,151.2c-17.7-2-35.2-0.7-52.2,3.8c-27.6-5.7-56.3-8.8-85.6-8.8 c-231.5,0-419.2,187.7-419.2,419.2c0,69,16.6,134,46.1,191.4c0.3,0.7,0.7,1.3,1,1.9C151.6,893,292,984.6,453.8,984.6 c231.5,0,419.2-187.7,419.2-419.2c0-56.2-11.1-109.8-31.1-158.7c22.9-1.5,47.3-8.7,72.9-21.5c8.9,21.1,17,44.2,23.6,69.3 c26.3,98.7,10.6,189-7.2,247.3c-19.5,64.1-45.9,105-46.1,105.4l40.8,26.6c1.2-1.8,29.8-46,51.4-116.1 c20-64.8,37.6-165.2,8.2-275.7c-8-29.9-17.7-57.2-28.5-82c10.4-7.2,20.9-15.3,31.6-24.1C1033.7,298.4,1073.4,258.1,1074.7,256.5z  M795.2,709.6c-18.6,44.1-45.4,83.7-79.4,117.8c-34,34-73.7,60.8-117.8,79.4c-41.1,17.4-84.5,27.1-129.3,28.8h0 c-4.9,0.2-9.9,0.3-14.9,0.3c-6.8,0-13.5-0.2-20.2-0.5c-42.9-2.3-84.5-11.9-124-28.6c-23.6-10-45.9-22.3-66.8-36.8l18.5-32.8 l-42.4-23.9l-14.6,25.9c-4.2-3.8-8.4-7.8-12.4-11.9c-25-25-46-52.9-62.8-83.5l33.5-10.5L148,687l-39.7,12.5 c-16.6-42.6-25-87.7-25-134c0-10.7,0.4-21.3,1.4-31.9l95.3,76.9l30.6-37.9l-106.6-86l-16,19.8c4.7-29.2,12.8-57.6,24.4-85.1 c18.7-44.1,45.4-83.7,79.4-117.8c34-34,73.7-60.8,117.8-79.4c45.6-19.3,94.2-29.1,144.2-29.1c4.6,0,9.3,0.1,13.9,0.3 c-8.8,7.8-17.3,16.6-25.5,26.3c-31.4,37.2-47.9,75.7-48.6,77.3l44.8,19.1c0.5-1.1,38.5-88,103.4-112.5 c19.2,4.7,38,10.9,56.3,18.6c14.9,6.3,29.2,13.5,43.1,21.6c-20,9.6-40.6,23.1-61.7,40.5c-37,30.6-62,62.3-63,63.6l38.3,30 c20.6-26.2,78.8-86.4,134.9-100.2c9.1,7.5,17.8,15.5,26.2,23.8c16.6,16.6,31.5,34.5,44.5,53.7c-96.8,9.7-155.5,66.4-158.4,69.3 l34.1,34.7c0.2-0.2,18.2-17.5,49.7-32.8c32.4-15.8,66.6-23.8,101.9-23.9c2.7,5.5,5.2,11.1,7.6,16.8 c19.3,45.7,29.1,94.2,29.1,144.2C824.3,615.5,814.5,664,795.2,709.6z M823.1,357.7c-1.8-0.2-3.6-0.4-5.4-0.6 c-17-29.7-37.5-57-61-81.5c22-4.2,45.6-14,70.6-29.5c0.6,0.7,1.3,1.4,1.9,2.1c19.7,22.1,43.2,53,64.7,93 C867.4,354.5,843.5,360.2,823.1,357.7z"})))),w.createElement("g",{id:"motion",className:"st0"},w.createElement("g",{className:"st1"},w.createElement("g",null,w.createElement("path",{d:"M564.6,726.7c-3.2,0-6.4-0.4-9.6-1.2c-15-3.6-26.4-15.3-29.6-30.4C502.2,587.9,449,520.9,419.4,490.6 c-9.1-9.4-13.1-22.6-10.7-35.4c2.4-12.8,11-23.7,22.9-29l197.7-89c11.1-5,23.7-4.7,34.6,0.9c10.9,5.6,18.5,15.6,21,27.6 c11.8,57.2,26.6,205.4-89.6,346.5C587.6,721.5,576.4,726.7,564.6,726.7z M645.7,372c-0.3,0-0.5,0.1-0.7,0.2l-197.7,89 c-0.2,0.1-0.8,0.3-0.9,1.2c-0.2,0.8,0.3,1.3,0.4,1.5c32.5,33.3,90.7,106.6,116,223.3c0.1,0.4,0.2,1,1.2,1.2 c1,0.2,1.4-0.2,1.6-0.5c105.7-128.3,92.3-262.6,81.6-314.4c0-0.2-0.2-0.8-0.8-1.1C646.2,372.1,646,372,645.7,372z"})),w.createElement("g",null,w.createElement("path",{d:"M604.4,583.1l-41.6-37c-20.1-19.4-22.6-50.9-5.9-73.2l67.3-78.2l4,54.9l-40.5,46.3c-5.2,6.9-4.4,16.6,1.8,22.6l26.7,25.8 L604.4,583.1z"})),w.createElement("g",null,w.createElement("path",{d:"M1065.2,423.4c-32,64-82,91.1-121.5,96.2c-45.2,5.8-85.2-15.9-103.7-28.1c-0.4-22.4-3-44.2-7.6-65.2 c2,0.1,4.2,0.1,6.5,0.1c29.5,0,79.1-5.7,120.3-38.8c39.9-32,62.1-64.9,70.4-126.5l-29.6-45.1c-5.9,85.4-33.5,116.5-64.5,141.5 c-43.7,35.2-102.6,30.9-114.3,29.6c-12-33.9-29.5-65.3-51.4-93.1h1.2c32.4,0,73.7-6.5,104.8-33.7c33.7-29.5,47.5-66.4,41.2-128.5 l-37.9-24.9c5,49-4.7,103.6-28.5,124.4C811.1,266,742.1,254,730,251.6c-58-51.7-134.5-83.1-218.3-83.1 c-181.4,0-328.4,147-328.4,328.4c0,14.5,0.9,28.7,2.7,42.7c-28.3-1.3-82.4,1.7-127.3,36.6c-40.4,31.3-47.5,78.4-53.4,127.1 l30.8,43.3c4.4-53.9,14.5-115.4,45.8-139.8c41.2-32,94.9-29.7,111.6-28.1c5.2,20.2,12.2,39.6,20.9,58.1 c-25.3,15.9-61.2,45.3-78.6,91.5c-18,47.8-20.3,88.8,3.4,138.6l52.2,34.4c-40.3-86.6-33.7-121.9-19.8-159.1 c13.1-35,40.9-58.4,61.2-71.5c27,43.3,63.9,79.9,107.5,106.6c-28.3,16.4-61.9,43.4-75.1,83.6c-14,42.6,0.9,77.2,13.9,102.1 l52.2,21.3c-29.2-39.6-39.5-81.3-29.7-111.4c13-40,57.5-63.9,80.8-73.9c39.7,17,83.4,26.4,129.3,26.4 c168.5,0,307.4-127,326.3-290.4c22.3,11.8,54,24,90.4,24c6.5,0,13.1-0.4,19.8-1.2c50.7-6.3,88.7-31,126.5-84.5L1065.2,423.4z  M779,609.8c-14.6,34.5-35.5,65.6-62.2,92.2c-26.7,26.7-57.7,47.6-92.2,62.2c-35.7,15.1-73.7,22.8-112.9,22.8 s-77.2-7.7-112.9-22.8c-4.3-1.8-8.6-3.7-12.8-5.8c-0.8-0.4-1.6-0.8-2.4-1.2c-28.5-14-54.4-32.6-77.1-55.3 c-26.6-26.7-47.6-57.7-62.2-92.2c-15.1-35.7-22.8-73.7-22.8-112.9c0-39.2,7.7-77.2,22.8-112.9c14.6-34.5,35.5-65.6,62.2-92.2 c26.7-26.6,57.7-47.6,92.2-62.2c35.7-15.1,73.7-22.8,112.9-22.8s77.2,7.7,112.9,22.8c34.5,14.6,65.6,35.5,92.2,62.2 c26.7,26.7,47.6,57.7,62.2,92.2c15.1,35.7,22.8,73.7,22.8,112.9C801.7,536.1,794.1,574.1,779,609.8z"})),w.createElement("g",null,w.createElement("path",{d:"M386,758.4c-0.8-0.4-1.6-0.8-2.4-1.2c1-0.3,1.6-0.5,1.8-0.6L386,758.4z"})),w.createElement("circle",{cx:680.2,cy:841.6,r:31.1}),w.createElement("circle",{cx:762.9,cy:929.7,r:31.1}),w.createElement("circle",{cx:886.5,cy:975,r:31.1}),w.createElement("g",null,w.createElement("path",{d:"M244.3,219c-40,0-72.5-32.5-72.5-72.5s32.5-72.5,72.5-72.5c40,0,72.5,32.5,72.5,72.5S284.3,219,244.3,219z M244.3,112.2 c-18.8,0-34.2,15.3-34.2,34.2s15.3,34.2,34.2,34.2s34.2-15.3,34.2-34.2S263.2,112.2,244.3,112.2z"})))),w.createElement("g",{id:"animation"},w.createElement("g",null,w.createElement("g",null,w.createElement("polygon",{points:"719.9,792.5 666.8,793 673.3,642.9 556.1,589.2 442.7,730.6 277.8,632.5 305,586.8 430.1,661.2 540.6,523.6  728.1,609.4  "})),w.createElement("g",null,w.createElement("circle",{cx:549.5,cy:289.4,r:67.4})),w.createElement("g",null,w.createElement("ellipse",{cx:553.6,cy:1035.7,rx:43.1,ry:39})),w.createElement("g",null,w.createElement("circle",{cx:434.4,cy:1035.7,r:39})),w.createElement("g",null,w.createElement("ellipse",{cx:713.8,cy:1035.7,rx:48.9,ry:39})),w.createElement("g",null,w.createElement("path",{d:"M854.7,171.8v-50.7l-36-20.1v39.6c-60.4-47.1-133-79.2-212.2-90.9V9.6l-36-4.3V46c-10.1-0.7-20.3-1-30.5-1 c-36.5,0-72.1,4.3-106.1,12.5V17l-36,8.6v42c-181,59.6-311.6,230-311.6,431c0,250.5,203.1,453.7,453.7,453.7 c250.6,0,453.7-203.1,453.7-453.7C993.7,370.2,940.4,254.3,854.7,171.8z M343.5,149.6c13.1-7.4,26.7-14.1,40.7-20 c4.6-1.9,9.2-3.8,13.8-5.5v116.5h36V112.3c34.3-9.4,69.9-14.2,106.1-14.2c10.2,0,20.4,0.4,30.5,1.1v88.7h36v-84.3 c30.7,5.1,60.5,13.8,89.4,26c1.9,0.8,3.8,1.6,5.7,2.4h-1.2v290.2l-151.9-45.1l-129.8,98.1l-75.2-54.5V149.6z M823.2,781.8 c-36.8,36.8-79.6,65.7-127.3,85.8C646.5,888.5,594.1,899,540,899c-54.1,0-106.5-10.6-155.8-31.5c-47.7-20.2-90.5-49-127.3-85.8 c-36.8-36.8-65.7-79.6-85.8-127.3c-20.9-49.3-31.5-101.8-31.5-155.8c0-54.1,10.6-106.5,31.5-155.9c20.2-47.7,49-90.5,85.8-127.3 c15.8-15.8,32.7-30.2,50.7-43v251.1L290,447.8l129.4,93.7l139.8-105.7l124.4,36.9L728,582.6l49.3-20l-41-101.1v-312 c29.9,16.8,57.5,37.4,82.4,61.6v144.5h36V250.9c22.1,28,40.3,58.8,54.3,91.9c20.9,49.3,31.4,101.8,31.4,155.9 c0,54.1-10.6,106.5-31.4,155.8C888.8,702.1,859.9,745,823.2,781.8z"})))),w.createElement("g",{id:"interactive",className:"st0"},w.createElement("g",{className:"st1"},w.createElement("g",null,w.createElement("path",{d:"M56.2,562.5c-9,23-18.2,51.9-18.2,51.9c0.6,2.3,15.7,56.7,65.2,106.2c32.8,32.8,68.2,53.5,102.4,59.9 c4.6,0.9,9.1,1.5,13.6,1.8c29.7,30.3,64.7,55.4,103.5,73.9c-18.1,10.4-39.8,18.1-66.3,19.5C91.2,884.2,27.1,743.7,20.3,732.3 l-15,54c19.3,32.2,55,72.8,90.8,94.3c42.9,25.8,90.6,38.8,142.1,38.8c7,0,14.1-0.2,21.2-0.7c42.7-2.9,80.2-17.6,111.8-43.7 c34.1,10.5,70.3,16.2,107.8,16.2c200.9,0,363.7-162.8,363.7-363.7c0-78.2-24.7-150.6-66.6-209.9c0.6-1,1.2-2,1.8-3 c13-21.8,19.2-30,33.5-30c14.2,0,23.3,17.6,36.6,46.5c8.3,18.1,16.9,36.8,29.7,52.2c16.4,19.8,37,30,61.2,30.5c0.9,0,1.9,0,2.8,0 c32,0,61.1-11.3,84.2-32.7c21.2-19.7,36.4-46.7,43.9-78.3c8.9-37.5,5.9-77.6-8.3-112.9c-16.1-39.9-33.9-69.2-72.9-96.1l-51,13 c81.9,47,102.5,133.9,90.2,186.1c-9,38.3-36.9,78.9-88.1,77.8c-24.6-0.5-36.3-22.1-52.6-57.6c-7.3-15.9-14.8-32.3-25.1-45.3 c-13.8-17.5-30.9-26.4-50.7-26.4c-33.9,0-51.7,21-64.1,40.5c-14-15.3-29.2-29.3-45.6-42c2.8,0,5.5-0.2,8.2-0.4 c26.3-2.2,50.4-13,69.6-31.3c41.4-39.5,54.2-80.4,39.2-127.3l-46-2c17.3,33.8,4.5,71.9-23,98.1c-27.1,25.8-65.5,26.6-108.2,2.1 c-30.3-17.4-60.4-22.2-89.5-14.2c-4.2,1.1-8.2,2.5-12,4.1c-19.9-3.4-40.3-5.1-61.1-5.1c-200.9,0-363.7,162.8-363.7,363.7 c0,70.7,20.2,136.6,55,192.5C170.2,720,97.2,676.4,56.2,562.5z M272.8,773.1c6.7-3.1,12.9-7,18.7-11.6c29-23,45.9-52.3,48.7-84.7 c2.4-27.3-5.4-49.5-10.3-60.2c-27.5-60.6-27.7-114-16.2-137.9c1.3-2.7,2.5-4.6,3.6-5.9c0,4.2-0.2,9.5-0.3,13.8 c-0.7,16.3-1.6,38.5,4.5,63.1c5.4,21.6,15.5,51.3,41,60.7c16.6,6.1,35.3,1.9,55.6-12.7c19-13.5,31.6-35.5,37.6-65.3 c4.1-20.4,4.2-41.2,2.9-53.9c-0.7-7.2-3.3-15.6-6.6-26.3c-3.4-11-7.2-23.4-8.9-34.5c-0.6-3.8-0.8-6.8-0.8-9.2 c4.2,4.3,9.9,11.4,15.5,21.7c8.4,15.2,13.7,31.9,13.2,41.7c-0.8,15.9-1.1,38.7,1.7,57.2c1.6,10.2,3.9,18.3,7.2,24.8 c7.9,15.5,20,18.7,26.5,19.2c10.7,0.8,21.1-4.2,31.6-15.4c17.5-18.5,40.6-61.4,36.7-90.6l-0.1-0.7c-1.5-11.1-3.5-26.3-3.6-40.3 c-0.1-9.3,0.7-15.2,1.6-18.9c3.8,5.6,8.9,16.5,12.8,33.7c5,22,5,41.5,2.4,48.7c-1.7,4.9-3.5,9.9-5.3,14.7 c-9.5,26.3-18.6,51-18.6,74.7c0,16,7.1,29.9,18.9,37c6.9,4.2,21.6,9.6,42.4-1.2c19.3-10.1,28.8-35.5,39.9-65 c5.1-13.7,10.4-27.7,16.3-38.7c-0.7,13.5-3.3,31.8-9,52.9c-11.2,41-29.1,72.6-49.2,86.8c-12.9,9.1-64.8,27.2-102.7,40.3 c-45.5,15.9-74.2,26-87.2,33.9c-12,7.2-20.2,21.3-31.5,40.9c-10.4,18-23.2,40.1-41.3,59.7c-2.1-0.8-4.2-1.7-6.3-2.6 C324.6,810.4,297.3,793.7,272.8,773.1z M799.5,527.5c0,43.3-8.5,85.3-25.2,124.8c-16.1,38.2-39.3,72.5-68.7,101.9 c-29.4,29.5-63.7,52.6-101.9,68.7c-39.5,16.7-81.5,25.2-124.8,25.2c-25.1,0-49.8-2.8-73.8-8.5c14.5-18.5,25.3-37.2,34-52.2 c5.9-10.1,13.1-22.7,16.6-25.6c10.5-6.2,46.9-18.8,78.9-30c57.7-20.1,96.7-34.1,113.4-45.8c38.5-27.1,57.8-80.7,65.9-110.2 c9.1-33.1,16-80.4,5.8-104.9c-7.2-17.1-21.7-21-32-19.1c-34.2,6.2-49.5,47-62.9,82.9c-4.6,12.3-12,31.9-17.5,39.6 c1.3-15.4,8.3-34.8,15.8-55.2c1.8-4.9,3.6-9.9,5.4-15.1c10.9-30.8-0.9-101.9-27.3-129.7c-11.6-12.2-26.5-16.8-40.9-12.5 c-13.8,4.1-30.6,17.1-32.3,55.7c-0.9,19.4,2,40.6,3.9,54.7l0.1,0.7c0.7,5-2.1,17.2-9.9,32.2c-2.5,4.9-5,9.2-7.4,12.7 c-1-9.8-1.6-24-0.6-43.8c1.7-36-28.8-97.3-62.4-110.6c-15.3-6.1-30.6-2.4-41.1,9.8c-20.7,24.2-8.7,63.3,0.1,91.8 c2.1,6.7,4.7,15.1,4.9,17.9c1.5,15.4,0.7,63.1-22.7,79.8c-10,7.1-14.9,7.6-15.6,7.3c-0.1,0-7.2-3.3-14.1-30.7 c-4.7-18.6-3.9-35.8-3.3-50.9c0.5-11.8,0.9-22-1.3-31.5c-3.5-15-13.5-25.3-28-28.7c-17.3-4.1-34.3,2.1-46.6,17 c-24.7,29.9-33.2,101.9,6.4,189.2c5.7,12.6,20.7,56.4-25.9,93.3c-7,5.5-16.1,9.6-26.9,11.1c-22.7-25.8-40.9-54.8-54.3-86.5 c-16.7-39.5-25.2-81.5-25.2-124.8c0-43.3,8.5-85.3,25.2-124.8c16.1-38.2,39.3-72.5,68.7-101.9c29.4-29.5,63.7-52.6,101.9-68.7 c39.5-16.7,81.5-25.2,124.8-25.2c3.3,0,6.5,0,9.8,0.2c-9.2,10.7-12.3,16.8-12.8,17.7l31,32c0.1-0.2,16-27.5,35.6-40.6 c1.2-0.8,2.3-1.5,3.5-2.2c19.7,4.2,38.9,10.2,57.6,18.2c38.2,16.1,72.5,39.3,101.9,68.7c5.7,5.7,11.2,11.6,16.4,17.6 c-6.6,5.9-14.4,8.7-25.7,8.3c-19.5-0.8-23.7-9.4-32.3-30.6c-4.3-10.7-9.3-22.9-18.3-32.6c-11.6-12.4-27.2-18-46.3-16.7 c-32.7,2.3-47,27.4-56.5,43.9c-10.7,18.7-14.2,21.8-23.3,21.3c-9-0.5-16.1-10.6-26.9-27.1c-13.2-20.2-29.6-45.5-61.7-46.2 c-30.9-0.7-57,15-73.6,44.4c-11.2,20-14.5,39.6-14.8,41.8l42.6,6.6c0.1-0.5,8.1-49.7,43.8-49.7c0.3,0,0.6,0,0.9,0 c8.8,0.2,15.9,10.2,26.6,26.6c13,20,29.2,44.8,60.6,46.6c1.4,0.1,2.8,0.1,4.1,0.1c34.4,0,49.2-25.8,59.1-43.1 c9.6-16.8,13.7-21.8,22.1-22.3c10.5-0.7,12.9,0.7,21.6,22.4c4.7,11.5,9.9,24.6,20.1,35.7c12.5,13.6,29.4,21,50.5,21.8 c23.8,1,40.7-6.3,53.4-16.8c10.2,15.7,19,32.3,26.3,49.6C791,442.2,799.5,484.2,799.5,527.5z"})),w.createElement("circle",{cx:647.8,cy:950.2,r:43}),w.createElement("circle",{cx:815.6,cy:826.3,r:43}),w.createElement("circle",{cx:455.9,cy:958.2,r:43}))),w.createElement("g",{id:"vfx",className:"st0"},w.createElement("g",{className:"st1"},w.createElement("g",null,w.createElement("path",{d:"M540,921.4c215.5,0,390.1-173.5,390.1-387.6c0-204-158.6-371.1-360-386.4c20.4-46.2,21.5-92.6-9.1-141.6l-50.1,7 c39.4,39.3,30.7,97.7,7.5,134.1C313,158,149.9,327,149.9,533.8c0,197.6,148.9,360.7,341.3,384.5c-5.6,17.5-7.7,35.8-6.5,55.5 c1.9,30.2,6.8,62.8,25.1,99.9l55.4,0.4c-29.1-58.8-40.8-120-26-152.8H540z M542.5,192.3c45.6,0.3,89.9,9.4,131.6,26.9 c41,17.2,77.8,41.9,109.4,73.3c31.6,31.4,56.4,67.9,73.7,108.6c17.9,42,27,86.8,27,132.9s-9.1,90.8-27,132.9 c-17.3,40.7-42.1,77.2-73.7,108.6c-31.6,31.4-68.4,56.1-109.4,73.3c-31.4,13.2-64.2,21.6-98,25c17.6-16.2,39.2-31.8,63.1-49.1 c54.4-39.4,116.1-84,153.1-157.3c28.2-55.9,38.8-110.1,31.4-161c-6.5-45.1-27.5-87-60.8-121c-35.3-36.2-83.4-62.5-135.3-74.1 c-52.4-11.7-103.7-7.5-144.7,12c-37.2,17.7-66.3,41.2-86.5,69.9c-18.1,25.7-28.2,54.9-29.2,84.3c-1.7,46.7,19.3,88.1,54.6,108.1 c59.7,33.7,114.1,3.4,116.4,2.1l-0.8-1.4c0.8,0,1.7,0.1,2.5,0.1c28.8,0,52.2-23.4,52.2-52.2c0-8.7-2.1-16.8-5.9-24 c13.7-4.6,32.5-7.2,52.4,1.8c20.1,9.1,34,34,35.5,63.2c2.5,48.3-27.8,95.8-80.9,127c-62.1,36.4-160.5,23.8-224-28.9 c-37.7-31.3-93.9-102.8-47.8-231.2c23.3-64.9,80.1-115.5,135.1-164.3C488.6,248.9,519.4,221.6,542.5,192.3z M405.9,848.6 c-41-17.2-77.8-41.9-109.4-73.3c-31.6-31.4-56.4-67.9-73.7-108.6c-17.9-42.1-27-86.8-27-132.9s9.1-90.8,27-132.9 c17.3-40.7,42.1-77.2,73.7-108.6c31.6-31.4,68.4-56.1,109.4-73.3c22.2-9.3,45.1-16.2,68.6-20.7c-14.2,14-30.6,28.8-48.5,44.7 c-56.5,50.2-120.5,107.2-147.8,183.1c-21.5,59.8-25.7,115.9-12.5,166.6c11.7,45,37.4,84.9,74.2,115.5 c47.6,39.5,109.9,60.3,169.3,60.3c38.7,0,76.1-8.9,107.3-27.2c36.1-21.2,63.6-47.9,81.5-79.5c16-28.1,23.7-59.1,22.1-89.5 c-2.4-46.9-26.3-86.3-62.4-102.7c-55.9-25.5-105.4,3.8-117.4,11.9H540c-28.8,0-52.2,23.4-52.2,52.2c0,7.3,1.5,14.3,4.2,20.6 c-12.9,1.8-29.9,0.8-47.6-9.2c-20-11.3-32.3-37.4-31.3-66.4c0.8-21.9,11-77,89.5-114.3c66.2-31.5,168.2-7.8,227.4,52.8 c33.7,34.5,81.3,110.1,21.2,229.2c-32,63.4-86.4,102.7-139,140.8c-38,27.5-74.3,53.7-98.5,87.2 C476.4,871.7,440.3,863,405.9,848.6z"})),w.createElement("g",null,w.createElement("circle",{cx:650.7,cy:1009.4,r:52.2})),w.createElement("g",null,w.createElement("circle",{cx:386.7,cy:1009.4,r:52.2})),w.createElement("g",null,w.createElement("circle",{cx:435.7,cy:86.7,r:52.2}))))),ate=n=>w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1080 1080",style:{enableBackground:"new 0 0 1080 1080"},xmlSpace:"preserve",...n},w.createElement("style",{type:"text/css"},`\r
	.st0{display:none;}\r
	.st1{display:inline;}\r
	.st2{fill:#FFFFFF;}\r
	.st3{display:inline;fill:none;stroke:#000000;stroke-width:37;stroke-miterlimit:10;}\r
	.st4{display:inline;fill:none;stroke:#000000;stroke-width:25;stroke-miterlimit:10;}\r
	.st5{fill:none;stroke:#000000;stroke-width:37;stroke-miterlimit:10;}\r
`),w.createElement("g",{id:"wonder",className:"st0"},w.createElement("g",{className:"st1"},w.createElement("g",null,w.createElement("path",{className:"st2",d:"M308.9,620.1c20.3,0,67.6,6.6,67.6,67.6c0,37.3-30.3,67.6-67.6,67.6s-67.6-30.3-67.6-67.6 C241.3,650.4,271.7,620.1,308.9,620.1L308.9,620.1z M308.9,571.4c-64.2,0-116.3,52.1-116.3,116.3S244.7,804,308.9,804 S425.2,752,425.2,687.7C425.2,612.5,373.2,571.4,308.9,571.4L308.9,571.4z"})),w.createElement("g",null,w.createElement("rect",{x:255.1,y:454.4,transform:"matrix(4.381290e-02 -0.999 0.999 4.381290e-02 -168.2771 781.7615)",className:"st2",width:138.2,height:48.7})),w.createElement("g",null,w.createElement("rect",{x:418.6,y:521.7,transform:"matrix(0.8069 -0.5906 0.5906 0.8069 -227.6227 395.6779)",className:"st2",width:145.6,height:48.7})),w.createElement("g",null,w.createElement("rect",{x:507.1,y:642.1,transform:"matrix(0.1961 -0.9806 0.9806 0.1961 -278.1011 1099.3276)",className:"st2",width:48.7,height:154.4})),w.createElement("g",null,w.createElement("path",{className:"st2",d:"M485.2,923.7l-16.5,11.9h0c-4.9,0.2-9.9,0.3-14.9,0.3c-6.8,0-13.5-0.2-20.2-0.5L358.4,831l39.5-28.5 L485.2,923.7z"})),w.createElement("g",null,w.createElement("path",{className:"st2",d:"M81.7,758.8l-0.4,0.1l-0.6-2.1C81.1,757.5,81.4,758.1,81.7,758.8z"})),w.createElement("g",null,w.createElement("circle",{className:"st2",cx:35.7,cy:839.7,r:30.5})),w.createElement("g",null,w.createElement("circle",{className:"st2",cx:135,cy:963.8,r:30.5})),w.createElement("g",null,w.createElement("circle",{className:"st2",cx:288.4,cy:1036,r:30.5})),w.createElement("g",null,w.createElement("path",{className:"st2",d:"M1074.7,256.5l-34.6-40.6c-0.3,0.4-41.2,48.1-82.7,82.4c-7.5,6.2-14.9,12-22.2,17.3 c-22.6-41.6-47.2-74.1-68.2-98c3.7-2.9,7.3-6,11-9.1c42.1-35.9,81.1-76.8,82.3-78.3L920.5,94c-0.3,0.4-35.8,44.8-74.6,77.8 c-4.4,3.7-8.8,7.3-13.1,10.7c-28.4-26.3-49.1-38.8-50.3-39.5l-33.5,34.4c0.2,0.1,22.3,15.8,42.2,33.1 c-25.1,13.9-47.5,20.3-65.4,18.2c-7.5-0.9-15.2-1.1-22.9-0.6c-17.7-13.1-36.4-24.8-56.1-35c95.2-29.8,169.4-149.9,172.9-155.6 l-44.4-24.1C774.5,15,686,161.6,591.6,151.2c-17.7-2-35.2-0.7-52.2,3.8c-27.6-5.7-56.3-8.8-85.6-8.8 c-231.5,0-419.2,187.7-419.2,419.2c0,69,16.6,134,46.1,191.4c0.3,0.7,0.7,1.3,1,1.9C151.6,893,292,984.6,453.8,984.6 c231.5,0,419.2-187.7,419.2-419.2c0-56.2-11.1-109.8-31.1-158.7c22.9-1.5,47.3-8.7,72.9-21.5c8.9,21.1,17,44.2,23.6,69.3 c26.3,98.7,10.6,189-7.2,247.3c-19.5,64.1-45.9,105-46.1,105.4l40.8,26.6c1.2-1.8,29.8-46,51.4-116.1 c20-64.8,37.6-165.2,8.2-275.7c-8-29.9-17.7-57.2-28.5-82c10.4-7.2,20.9-15.3,31.6-24.1C1033.7,298.4,1073.4,258.1,1074.7,256.5z  M795.2,709.6c-18.6,44.1-45.4,83.7-79.4,117.8c-34,34-73.7,60.8-117.8,79.4c-41.1,17.4-84.5,27.1-129.3,28.8h0 c-4.9,0.2-9.9,0.3-14.9,0.3c-6.8,0-13.5-0.2-20.2-0.5c-42.9-2.3-84.5-11.9-124-28.6c-23.6-10-45.9-22.3-66.8-36.8l18.5-32.8 l-42.4-23.9l-14.6,25.9c-4.2-3.8-8.4-7.8-12.4-11.9c-25-25-46-52.9-62.8-83.5l33.5-10.5L148,687l-39.7,12.5 c-16.6-42.6-25-87.7-25-134c0-10.7,0.4-21.3,1.4-31.9l95.3,76.9l30.6-37.9l-106.6-86l-16,19.8c4.7-29.2,12.8-57.6,24.4-85.1 c18.7-44.1,45.4-83.7,79.4-117.8c34-34,73.7-60.8,117.8-79.4c45.6-19.3,94.2-29.1,144.2-29.1c4.6,0,9.3,0.1,13.9,0.3 c-8.8,7.8-17.3,16.6-25.5,26.3c-31.4,37.2-47.9,75.7-48.6,77.3l44.8,19.1c0.5-1.1,38.5-88,103.4-112.5 c19.2,4.7,38,10.9,56.3,18.6c14.9,6.3,29.2,13.5,43.1,21.6c-20,9.6-40.6,23.1-61.7,40.5c-37,30.6-62,62.3-63,63.6l38.3,30 c20.6-26.2,78.8-86.4,134.9-100.2c9.1,7.5,17.8,15.5,26.2,23.8c16.6,16.6,31.5,34.5,44.5,53.7c-96.8,9.7-155.5,66.4-158.4,69.3 l34.1,34.7c0.2-0.2,18.2-17.5,49.7-32.8c32.4-15.8,66.6-23.8,101.9-23.9c2.7,5.5,5.2,11.1,7.6,16.8 c19.3,45.7,29.1,94.2,29.1,144.2C824.3,615.5,814.5,664,795.2,709.6z M823.1,357.7c-1.8-0.2-3.6-0.4-5.4-0.6 c-17-29.7-37.5-57-61-81.5c22-4.2,45.6-14,70.6-29.5c0.6,0.7,1.3,1.4,1.9,2.1c19.7,22.1,43.2,53,64.7,93 C867.4,354.5,843.5,360.2,823.1,357.7z"})))),w.createElement("g",{id:"motion",className:"st0"},w.createElement("g",{className:"st1"},w.createElement("g",null,w.createElement("path",{d:"M564.6,726.7c-3.2,0-6.4-0.4-9.6-1.2c-15-3.6-26.4-15.3-29.6-30.4C502.2,587.9,449,520.9,419.4,490.6 c-9.1-9.4-13.1-22.6-10.7-35.4c2.4-12.8,11-23.7,22.9-29l197.7-89c11.1-5,23.7-4.7,34.6,0.9c10.9,5.6,18.5,15.6,21,27.6 c11.8,57.2,26.6,205.4-89.6,346.5C587.6,721.5,576.4,726.7,564.6,726.7z M645.7,372c-0.3,0-0.5,0.1-0.7,0.2l-197.7,89 c-0.2,0.1-0.8,0.3-0.9,1.2c-0.2,0.8,0.3,1.3,0.4,1.5c32.5,33.3,90.7,106.6,116,223.3c0.1,0.4,0.2,1,1.2,1.2 c1,0.2,1.4-0.2,1.6-0.5c105.7-128.3,92.3-262.6,81.6-314.4c0-0.2-0.2-0.8-0.8-1.1C646.2,372.1,646,372,645.7,372z"})),w.createElement("g",null,w.createElement("path",{d:"M604.4,583.1l-41.6-37c-20.1-19.4-22.6-50.9-5.9-73.2l67.3-78.2l4,54.9l-40.5,46.3c-5.2,6.9-4.4,16.6,1.8,22.6l26.7,25.8 L604.4,583.1z"})),w.createElement("g",null,w.createElement("path",{d:"M1065.2,423.4c-32,64-82,91.1-121.5,96.2c-45.2,5.8-85.2-15.9-103.7-28.1c-0.4-22.4-3-44.2-7.6-65.2 c2,0.1,4.2,0.1,6.5,0.1c29.5,0,79.1-5.7,120.3-38.8c39.9-32,62.1-64.9,70.4-126.5l-29.6-45.1c-5.9,85.4-33.5,116.5-64.5,141.5 c-43.7,35.2-102.6,30.9-114.3,29.6c-12-33.9-29.5-65.3-51.4-93.1h1.2c32.4,0,73.7-6.5,104.8-33.7c33.7-29.5,47.5-66.4,41.2-128.5 l-37.9-24.9c5,49-4.7,103.6-28.5,124.4C811.1,266,742.1,254,730,251.6c-58-51.7-134.5-83.1-218.3-83.1 c-181.4,0-328.4,147-328.4,328.4c0,14.5,0.9,28.7,2.7,42.7c-28.3-1.3-82.4,1.7-127.3,36.6c-40.4,31.3-47.5,78.4-53.4,127.1 l30.8,43.3c4.4-53.9,14.5-115.4,45.8-139.8c41.2-32,94.9-29.7,111.6-28.1c5.2,20.2,12.2,39.6,20.9,58.1 c-25.3,15.9-61.2,45.3-78.6,91.5c-18,47.8-20.3,88.8,3.4,138.6l52.2,34.4c-40.3-86.6-33.7-121.9-19.8-159.1 c13.1-35,40.9-58.4,61.2-71.5c27,43.3,63.9,79.9,107.5,106.6c-28.3,16.4-61.9,43.4-75.1,83.6c-14,42.6,0.9,77.2,13.9,102.1 l52.2,21.3c-29.2-39.6-39.5-81.3-29.7-111.4c13-40,57.5-63.9,80.8-73.9c39.7,17,83.4,26.4,129.3,26.4 c168.5,0,307.4-127,326.3-290.4c22.3,11.8,54,24,90.4,24c6.5,0,13.1-0.4,19.8-1.2c50.7-6.3,88.7-31,126.5-84.5L1065.2,423.4z  M779,609.8c-14.6,34.5-35.5,65.6-62.2,92.2c-26.7,26.7-57.7,47.6-92.2,62.2c-35.7,15.1-73.7,22.8-112.9,22.8 s-77.2-7.7-112.9-22.8c-4.3-1.8-8.6-3.7-12.8-5.8c-0.8-0.4-1.6-0.8-2.4-1.2c-28.5-14-54.4-32.6-77.1-55.3 c-26.6-26.7-47.6-57.7-62.2-92.2c-15.1-35.7-22.8-73.7-22.8-112.9c0-39.2,7.7-77.2,22.8-112.9c14.6-34.5,35.5-65.6,62.2-92.2 c26.7-26.6,57.7-47.6,92.2-62.2c35.7-15.1,73.7-22.8,112.9-22.8s77.2,7.7,112.9,22.8c34.5,14.6,65.6,35.5,92.2,62.2 c26.7,26.7,47.6,57.7,62.2,92.2c15.1,35.7,22.8,73.7,22.8,112.9C801.7,536.1,794.1,574.1,779,609.8z"})),w.createElement("g",null,w.createElement("path",{d:"M386,758.4c-0.8-0.4-1.6-0.8-2.4-1.2c1-0.3,1.6-0.5,1.8-0.6L386,758.4z"})),w.createElement("circle",{cx:680.2,cy:841.6,r:31.1}),w.createElement("circle",{cx:762.9,cy:929.7,r:31.1}),w.createElement("circle",{cx:886.5,cy:975,r:31.1}),w.createElement("g",null,w.createElement("path",{d:"M244.3,219c-40,0-72.5-32.5-72.5-72.5s32.5-72.5,72.5-72.5c40,0,72.5,32.5,72.5,72.5S284.3,219,244.3,219z M244.3,112.2 c-18.8,0-34.2,15.3-34.2,34.2s15.3,34.2,34.2,34.2s34.2-15.3,34.2-34.2S263.2,112.2,244.3,112.2z"})))),w.createElement("g",{id:"animation",className:"st0"},w.createElement("g",{className:"st1"},w.createElement("g",null,w.createElement("polygon",{points:"719.9,792.5 666.8,793 673.3,642.9 556.1,589.2 442.7,730.6 277.8,632.5 305,586.8 430.1,661.2 540.6,523.6  728.1,609.4  "})),w.createElement("g",null,w.createElement("circle",{cx:549.5,cy:289.4,r:67.4})),w.createElement("g",null,w.createElement("ellipse",{cx:553.6,cy:1035.7,rx:43.1,ry:39})),w.createElement("g",null,w.createElement("circle",{cx:434.4,cy:1035.7,r:39})),w.createElement("g",null,w.createElement("ellipse",{cx:713.8,cy:1035.7,rx:48.9,ry:39})),w.createElement("g",null,w.createElement("path",{d:"M854.7,171.8v-50.7l-36-20.1v39.6c-60.4-47.1-133-79.2-212.2-90.9V9.6l-36-4.3V46c-10.1-0.7-20.3-1-30.5-1 c-36.5,0-72.1,4.3-106.1,12.5V17l-36,8.6v42c-181,59.6-311.6,230-311.6,431c0,250.5,203.1,453.7,453.7,453.7 c250.6,0,453.7-203.1,453.7-453.7C993.7,370.2,940.4,254.3,854.7,171.8z M343.5,149.6c13.1-7.4,26.7-14.1,40.7-20 c4.6-1.9,9.2-3.8,13.8-5.5v116.5h36V112.3c34.3-9.4,69.9-14.2,106.1-14.2c10.2,0,20.4,0.4,30.5,1.1v88.7h36v-84.3 c30.7,5.1,60.5,13.8,89.4,26c1.9,0.8,3.8,1.6,5.7,2.4h-1.2v290.2l-151.9-45.1l-129.8,98.1l-75.2-54.5V149.6z M823.2,781.8 c-36.8,36.8-79.6,65.7-127.3,85.8C646.5,888.5,594.1,899,540,899c-54.1,0-106.5-10.6-155.8-31.5c-47.7-20.2-90.5-49-127.3-85.8 c-36.8-36.8-65.7-79.6-85.8-127.3c-20.9-49.3-31.5-101.8-31.5-155.8c0-54.1,10.6-106.5,31.5-155.9c20.2-47.7,49-90.5,85.8-127.3 c15.8-15.8,32.7-30.2,50.7-43v251.1L290,447.8l129.4,93.7l139.8-105.7l124.4,36.9L728,582.6l49.3-20l-41-101.1v-312 c29.9,16.8,57.5,37.4,82.4,61.6v144.5h36V250.9c22.1,28,40.3,58.8,54.3,91.9c20.9,49.3,31.4,101.8,31.4,155.9 c0,54.1-10.6,106.5-31.4,155.8C888.8,702.1,859.9,745,823.2,781.8z"})))),w.createElement("g",{id:"interactive"},w.createElement("g",null,w.createElement("g",null,w.createElement("path",{d:"M56.2,562.5c-9,23-18.2,51.9-18.2,51.9c0.6,2.3,15.7,56.7,65.2,106.2c32.8,32.8,68.2,53.5,102.4,59.9 c4.6,0.9,9.1,1.5,13.6,1.8c29.7,30.3,64.7,55.4,103.5,73.9c-18.1,10.4-39.8,18.1-66.3,19.5C91.2,884.2,27.1,743.7,20.3,732.3 l-15,54c19.3,32.2,55,72.8,90.8,94.3c42.9,25.8,90.6,38.8,142.1,38.8c7,0,14.1-0.2,21.2-0.7c42.7-2.9,80.2-17.6,111.8-43.7 c34.1,10.5,70.3,16.2,107.8,16.2c200.9,0,363.7-162.8,363.7-363.7c0-78.2-24.7-150.6-66.6-209.9c0.6-1,1.2-2,1.8-3 c13-21.8,19.2-30,33.5-30c14.2,0,23.3,17.6,36.6,46.5c8.3,18.1,16.9,36.8,29.7,52.2c16.4,19.8,37,30,61.2,30.5c0.9,0,1.9,0,2.8,0 c32,0,61.1-11.3,84.2-32.7c21.2-19.7,36.4-46.7,43.9-78.3c8.9-37.5,5.9-77.6-8.3-112.9c-16.1-39.9-33.9-69.2-72.9-96.1l-51,13 c81.9,47,102.5,133.9,90.2,186.1c-9,38.3-36.9,78.9-88.1,77.8c-24.6-0.5-36.3-22.1-52.6-57.6c-7.3-15.9-14.8-32.3-25.1-45.3 c-13.8-17.5-30.9-26.4-50.7-26.4c-33.9,0-51.7,21-64.1,40.5c-14-15.3-29.2-29.3-45.6-42c2.8,0,5.5-0.2,8.2-0.4 c26.3-2.2,50.4-13,69.6-31.3c41.4-39.5,54.2-80.4,39.2-127.3l-46-2c17.3,33.8,4.5,71.9-23,98.1c-27.1,25.8-65.5,26.6-108.2,2.1 c-30.3-17.4-60.4-22.2-89.5-14.2c-4.2,1.1-8.2,2.5-12,4.1c-19.9-3.4-40.3-5.1-61.1-5.1c-200.9,0-363.7,162.8-363.7,363.7 c0,70.7,20.2,136.6,55,192.5C170.2,720,97.2,676.4,56.2,562.5z M272.8,773.1c6.7-3.1,12.9-7,18.7-11.6c29-23,45.9-52.3,48.7-84.7 c2.4-27.3-5.4-49.5-10.3-60.2c-27.5-60.6-27.7-114-16.2-137.9c1.3-2.7,2.5-4.6,3.6-5.9c0,4.2-0.2,9.5-0.3,13.8 c-0.7,16.3-1.6,38.5,4.5,63.1c5.4,21.6,15.5,51.3,41,60.7c16.6,6.1,35.3,1.9,55.6-12.7c19-13.5,31.6-35.5,37.6-65.3 c4.1-20.4,4.2-41.2,2.9-53.9c-0.7-7.2-3.3-15.6-6.6-26.3c-3.4-11-7.2-23.4-8.9-34.5c-0.6-3.8-0.8-6.8-0.8-9.2 c4.2,4.3,9.9,11.4,15.5,21.7c8.4,15.2,13.7,31.9,13.2,41.7c-0.8,15.9-1.1,38.7,1.7,57.2c1.6,10.2,3.9,18.3,7.2,24.8 c7.9,15.5,20,18.7,26.5,19.2c10.7,0.8,21.1-4.2,31.6-15.4c17.5-18.5,40.6-61.4,36.7-90.6l-0.1-0.7c-1.5-11.1-3.5-26.3-3.6-40.3 c-0.1-9.3,0.7-15.2,1.6-18.9c3.8,5.6,8.9,16.5,12.8,33.7c5,22,5,41.5,2.4,48.7c-1.7,4.9-3.5,9.9-5.3,14.7 c-9.5,26.3-18.6,51-18.6,74.7c0,16,7.1,29.9,18.9,37c6.9,4.2,21.6,9.6,42.4-1.2c19.3-10.1,28.8-35.5,39.9-65 c5.1-13.7,10.4-27.7,16.3-38.7c-0.7,13.5-3.3,31.8-9,52.9c-11.2,41-29.1,72.6-49.2,86.8c-12.9,9.1-64.8,27.2-102.7,40.3 c-45.5,15.9-74.2,26-87.2,33.9c-12,7.2-20.2,21.3-31.5,40.9c-10.4,18-23.2,40.1-41.3,59.7c-2.1-0.8-4.2-1.7-6.3-2.6 C324.6,810.4,297.3,793.7,272.8,773.1z M799.5,527.5c0,43.3-8.5,85.3-25.2,124.8c-16.1,38.2-39.3,72.5-68.7,101.9 c-29.4,29.5-63.7,52.6-101.9,68.7c-39.5,16.7-81.5,25.2-124.8,25.2c-25.1,0-49.8-2.8-73.8-8.5c14.5-18.5,25.3-37.2,34-52.2 c5.9-10.1,13.1-22.7,16.6-25.6c10.5-6.2,46.9-18.8,78.9-30c57.7-20.1,96.7-34.1,113.4-45.8c38.5-27.1,57.8-80.7,65.9-110.2 c9.1-33.1,16-80.4,5.8-104.9c-7.2-17.1-21.7-21-32-19.1c-34.2,6.2-49.5,47-62.9,82.9c-4.6,12.3-12,31.9-17.5,39.6 c1.3-15.4,8.3-34.8,15.8-55.2c1.8-4.9,3.6-9.9,5.4-15.1c10.9-30.8-0.9-101.9-27.3-129.7c-11.6-12.2-26.5-16.8-40.9-12.5 c-13.8,4.1-30.6,17.1-32.3,55.7c-0.9,19.4,2,40.6,3.9,54.7l0.1,0.7c0.7,5-2.1,17.2-9.9,32.2c-2.5,4.9-5,9.2-7.4,12.7 c-1-9.8-1.6-24-0.6-43.8c1.7-36-28.8-97.3-62.4-110.6c-15.3-6.1-30.6-2.4-41.1,9.8c-20.7,24.2-8.7,63.3,0.1,91.8 c2.1,6.7,4.7,15.1,4.9,17.9c1.5,15.4,0.7,63.1-22.7,79.8c-10,7.1-14.9,7.6-15.6,7.3c-0.1,0-7.2-3.3-14.1-30.7 c-4.7-18.6-3.9-35.8-3.3-50.9c0.5-11.8,0.9-22-1.3-31.5c-3.5-15-13.5-25.3-28-28.7c-17.3-4.1-34.3,2.1-46.6,17 c-24.7,29.9-33.2,101.9,6.4,189.2c5.7,12.6,20.7,56.4-25.9,93.3c-7,5.5-16.1,9.6-26.9,11.1c-22.7-25.8-40.9-54.8-54.3-86.5 c-16.7-39.5-25.2-81.5-25.2-124.8c0-43.3,8.5-85.3,25.2-124.8c16.1-38.2,39.3-72.5,68.7-101.9c29.4-29.5,63.7-52.6,101.9-68.7 c39.5-16.7,81.5-25.2,124.8-25.2c3.3,0,6.5,0,9.8,0.2c-9.2,10.7-12.3,16.8-12.8,17.7l31,32c0.1-0.2,16-27.5,35.6-40.6 c1.2-0.8,2.3-1.5,3.5-2.2c19.7,4.2,38.9,10.2,57.6,18.2c38.2,16.1,72.5,39.3,101.9,68.7c5.7,5.7,11.2,11.6,16.4,17.6 c-6.6,5.9-14.4,8.7-25.7,8.3c-19.5-0.8-23.7-9.4-32.3-30.6c-4.3-10.7-9.3-22.9-18.3-32.6c-11.6-12.4-27.2-18-46.3-16.7 c-32.7,2.3-47,27.4-56.5,43.9c-10.7,18.7-14.2,21.8-23.3,21.3c-9-0.5-16.1-10.6-26.9-27.1c-13.2-20.2-29.6-45.5-61.7-46.2 c-30.9-0.7-57,15-73.6,44.4c-11.2,20-14.5,39.6-14.8,41.8l42.6,6.6c0.1-0.5,8.1-49.7,43.8-49.7c0.3,0,0.6,0,0.9,0 c8.8,0.2,15.9,10.2,26.6,26.6c13,20,29.2,44.8,60.6,46.6c1.4,0.1,2.8,0.1,4.1,0.1c34.4,0,49.2-25.8,59.1-43.1 c9.6-16.8,13.7-21.8,22.1-22.3c10.5-0.7,12.9,0.7,21.6,22.4c4.7,11.5,9.9,24.6,20.1,35.7c12.5,13.6,29.4,21,50.5,21.8 c23.8,1,40.7-6.3,53.4-16.8c10.2,15.7,19,32.3,26.3,49.6C791,442.2,799.5,484.2,799.5,527.5z"})),w.createElement("circle",{cx:647.8,cy:950.2,r:43}),w.createElement("circle",{cx:815.6,cy:826.3,r:43}),w.createElement("circle",{cx:455.9,cy:958.2,r:43}))),w.createElement("g",{id:"vfx",className:"st0"},w.createElement("g",{className:"st1"},w.createElement("g",null,w.createElement("path",{d:"M540,921.4c215.5,0,390.1-173.5,390.1-387.6c0-204-158.6-371.1-360-386.4c20.4-46.2,21.5-92.6-9.1-141.6l-50.1,7 c39.4,39.3,30.7,97.7,7.5,134.1C313,158,149.9,327,149.9,533.8c0,197.6,148.9,360.7,341.3,384.5c-5.6,17.5-7.7,35.8-6.5,55.5 c1.9,30.2,6.8,62.8,25.1,99.9l55.4,0.4c-29.1-58.8-40.8-120-26-152.8H540z M542.5,192.3c45.6,0.3,89.9,9.4,131.6,26.9 c41,17.2,77.8,41.9,109.4,73.3c31.6,31.4,56.4,67.9,73.7,108.6c17.9,42,27,86.8,27,132.9s-9.1,90.8-27,132.9 c-17.3,40.7-42.1,77.2-73.7,108.6c-31.6,31.4-68.4,56.1-109.4,73.3c-31.4,13.2-64.2,21.6-98,25c17.6-16.2,39.2-31.8,63.1-49.1 c54.4-39.4,116.1-84,153.1-157.3c28.2-55.9,38.8-110.1,31.4-161c-6.5-45.1-27.5-87-60.8-121c-35.3-36.2-83.4-62.5-135.3-74.1 c-52.4-11.7-103.7-7.5-144.7,12c-37.2,17.7-66.3,41.2-86.5,69.9c-18.1,25.7-28.2,54.9-29.2,84.3c-1.7,46.7,19.3,88.1,54.6,108.1 c59.7,33.7,114.1,3.4,116.4,2.1l-0.8-1.4c0.8,0,1.7,0.1,2.5,0.1c28.8,0,52.2-23.4,52.2-52.2c0-8.7-2.1-16.8-5.9-24 c13.7-4.6,32.5-7.2,52.4,1.8c20.1,9.1,34,34,35.5,63.2c2.5,48.3-27.8,95.8-80.9,127c-62.1,36.4-160.5,23.8-224-28.9 c-37.7-31.3-93.9-102.8-47.8-231.2c23.3-64.9,80.1-115.5,135.1-164.3C488.6,248.9,519.4,221.6,542.5,192.3z M405.9,848.6 c-41-17.2-77.8-41.9-109.4-73.3c-31.6-31.4-56.4-67.9-73.7-108.6c-17.9-42.1-27-86.8-27-132.9s9.1-90.8,27-132.9 c17.3-40.7,42.1-77.2,73.7-108.6c31.6-31.4,68.4-56.1,109.4-73.3c22.2-9.3,45.1-16.2,68.6-20.7c-14.2,14-30.6,28.8-48.5,44.7 c-56.5,50.2-120.5,107.2-147.8,183.1c-21.5,59.8-25.7,115.9-12.5,166.6c11.7,45,37.4,84.9,74.2,115.5 c47.6,39.5,109.9,60.3,169.3,60.3c38.7,0,76.1-8.9,107.3-27.2c36.1-21.2,63.6-47.9,81.5-79.5c16-28.1,23.7-59.1,22.1-89.5 c-2.4-46.9-26.3-86.3-62.4-102.7c-55.9-25.5-105.4,3.8-117.4,11.9H540c-28.8,0-52.2,23.4-52.2,52.2c0,7.3,1.5,14.3,4.2,20.6 c-12.9,1.8-29.9,0.8-47.6-9.2c-20-11.3-32.3-37.4-31.3-66.4c0.8-21.9,11-77,89.5-114.3c66.2-31.5,168.2-7.8,227.4,52.8 c33.7,34.5,81.3,110.1,21.2,229.2c-32,63.4-86.4,102.7-139,140.8c-38,27.5-74.3,53.7-98.5,87.2 C476.4,871.7,440.3,863,405.9,848.6z"})),w.createElement("g",null,w.createElement("circle",{cx:650.7,cy:1009.4,r:52.2})),w.createElement("g",null,w.createElement("circle",{cx:386.7,cy:1009.4,r:52.2})),w.createElement("g",null,w.createElement("circle",{cx:435.7,cy:86.7,r:52.2}))))),lte=n=>w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1080 1080",style:{enableBackground:"new 0 0 1080 1080"},xmlSpace:"preserve",...n},w.createElement("style",{type:"text/css"},`\r
	.st0{display:none;}\r
	.st1{display:inline;}\r
	.st2{fill:#FFFFFF;}\r
	.st3{display:inline;fill:none;stroke:#000000;stroke-width:37;stroke-miterlimit:10;}\r
	.st4{fill:none;stroke:#000000;stroke-width:37;stroke-miterlimit:10;}\r
	.st5{display:inline;fill:none;stroke:#000000;stroke-width:25;stroke-miterlimit:10;}\r
`),w.createElement("g",{id:"wonder",className:"st0"},w.createElement("g",{className:"st1"},w.createElement("g",null,w.createElement("path",{className:"st2",d:"M308.9,620.1c20.3,0,67.6,6.6,67.6,67.6c0,37.3-30.3,67.6-67.6,67.6s-67.6-30.3-67.6-67.6 C241.3,650.4,271.7,620.1,308.9,620.1L308.9,620.1z M308.9,571.4c-64.2,0-116.3,52.1-116.3,116.3S244.7,804,308.9,804 S425.2,752,425.2,687.7C425.2,612.5,373.2,571.4,308.9,571.4L308.9,571.4z"})),w.createElement("g",null,w.createElement("rect",{x:255.1,y:454.4,transform:"matrix(4.381290e-02 -0.999 0.999 4.381290e-02 -168.2771 781.7615)",className:"st2",width:138.2,height:48.7})),w.createElement("g",null,w.createElement("rect",{x:418.6,y:521.7,transform:"matrix(0.8069 -0.5906 0.5906 0.8069 -227.6227 395.6779)",className:"st2",width:145.6,height:48.7})),w.createElement("g",null,w.createElement("rect",{x:507.1,y:642.1,transform:"matrix(0.1961 -0.9806 0.9806 0.1961 -278.1011 1099.3276)",className:"st2",width:48.7,height:154.4})),w.createElement("g",null,w.createElement("path",{className:"st2",d:"M485.2,923.7l-16.5,11.9h0c-4.9,0.2-9.9,0.3-14.9,0.3c-6.8,0-13.5-0.2-20.2-0.5L358.4,831l39.5-28.5 L485.2,923.7z"})),w.createElement("g",null,w.createElement("path",{className:"st2",d:"M81.7,758.8l-0.4,0.1l-0.6-2.1C81.1,757.5,81.4,758.1,81.7,758.8z"})),w.createElement("g",null,w.createElement("circle",{className:"st2",cx:35.7,cy:839.7,r:30.5})),w.createElement("g",null,w.createElement("circle",{className:"st2",cx:135,cy:963.8,r:30.5})),w.createElement("g",null,w.createElement("circle",{className:"st2",cx:288.4,cy:1036,r:30.5})),w.createElement("g",null,w.createElement("path",{className:"st2",d:"M1074.7,256.5l-34.6-40.6c-0.3,0.4-41.2,48.1-82.7,82.4c-7.5,6.2-14.9,12-22.2,17.3 c-22.6-41.6-47.2-74.1-68.2-98c3.7-2.9,7.3-6,11-9.1c42.1-35.9,81.1-76.8,82.3-78.3L920.5,94c-0.3,0.4-35.8,44.8-74.6,77.8 c-4.4,3.7-8.8,7.3-13.1,10.7c-28.4-26.3-49.1-38.8-50.3-39.5l-33.5,34.4c0.2,0.1,22.3,15.8,42.2,33.1 c-25.1,13.9-47.5,20.3-65.4,18.2c-7.5-0.9-15.2-1.1-22.9-0.6c-17.7-13.1-36.4-24.8-56.1-35c95.2-29.8,169.4-149.9,172.9-155.6 l-44.4-24.1C774.5,15,686,161.6,591.6,151.2c-17.7-2-35.2-0.7-52.2,3.8c-27.6-5.7-56.3-8.8-85.6-8.8 c-231.5,0-419.2,187.7-419.2,419.2c0,69,16.6,134,46.1,191.4c0.3,0.7,0.7,1.3,1,1.9C151.6,893,292,984.6,453.8,984.6 c231.5,0,419.2-187.7,419.2-419.2c0-56.2-11.1-109.8-31.1-158.7c22.9-1.5,47.3-8.7,72.9-21.5c8.9,21.1,17,44.2,23.6,69.3 c26.3,98.7,10.6,189-7.2,247.3c-19.5,64.1-45.9,105-46.1,105.4l40.8,26.6c1.2-1.8,29.8-46,51.4-116.1 c20-64.8,37.6-165.2,8.2-275.7c-8-29.9-17.7-57.2-28.5-82c10.4-7.2,20.9-15.3,31.6-24.1C1033.7,298.4,1073.4,258.1,1074.7,256.5z  M795.2,709.6c-18.6,44.1-45.4,83.7-79.4,117.8c-34,34-73.7,60.8-117.8,79.4c-41.1,17.4-84.5,27.1-129.3,28.8h0 c-4.9,0.2-9.9,0.3-14.9,0.3c-6.8,0-13.5-0.2-20.2-0.5c-42.9-2.3-84.5-11.9-124-28.6c-23.6-10-45.9-22.3-66.8-36.8l18.5-32.8 l-42.4-23.9l-14.6,25.9c-4.2-3.8-8.4-7.8-12.4-11.9c-25-25-46-52.9-62.8-83.5l33.5-10.5L148,687l-39.7,12.5 c-16.6-42.6-25-87.7-25-134c0-10.7,0.4-21.3,1.4-31.9l95.3,76.9l30.6-37.9l-106.6-86l-16,19.8c4.7-29.2,12.8-57.6,24.4-85.1 c18.7-44.1,45.4-83.7,79.4-117.8c34-34,73.7-60.8,117.8-79.4c45.6-19.3,94.2-29.1,144.2-29.1c4.6,0,9.3,0.1,13.9,0.3 c-8.8,7.8-17.3,16.6-25.5,26.3c-31.4,37.2-47.9,75.7-48.6,77.3l44.8,19.1c0.5-1.1,38.5-88,103.4-112.5 c19.2,4.7,38,10.9,56.3,18.6c14.9,6.3,29.2,13.5,43.1,21.6c-20,9.6-40.6,23.1-61.7,40.5c-37,30.6-62,62.3-63,63.6l38.3,30 c20.6-26.2,78.8-86.4,134.9-100.2c9.1,7.5,17.8,15.5,26.2,23.8c16.6,16.6,31.5,34.5,44.5,53.7c-96.8,9.7-155.5,66.4-158.4,69.3 l34.1,34.7c0.2-0.2,18.2-17.5,49.7-32.8c32.4-15.8,66.6-23.8,101.9-23.9c2.7,5.5,5.2,11.1,7.6,16.8 c19.3,45.7,29.1,94.2,29.1,144.2C824.3,615.5,814.5,664,795.2,709.6z M823.1,357.7c-1.8-0.2-3.6-0.4-5.4-0.6 c-17-29.7-37.5-57-61-81.5c22-4.2,45.6-14,70.6-29.5c0.6,0.7,1.3,1.4,1.9,2.1c19.7,22.1,43.2,53,64.7,93 C867.4,354.5,843.5,360.2,823.1,357.7z"})))),w.createElement("g",{id:"motion"},w.createElement("g",null,w.createElement("g",null,w.createElement("path",{d:"M564.6,726.7c-3.2,0-6.4-0.4-9.6-1.2c-15-3.6-26.4-15.3-29.6-30.4C502.2,587.9,449,520.9,419.4,490.6 c-9.1-9.4-13.1-22.6-10.7-35.4c2.4-12.8,11-23.7,22.9-29l197.7-89c11.1-5,23.7-4.7,34.6,0.9c10.9,5.6,18.5,15.6,21,27.6 c11.8,57.2,26.6,205.4-89.6,346.5C587.6,721.5,576.4,726.7,564.6,726.7z M645.7,372c-0.3,0-0.5,0.1-0.7,0.2l-197.7,89 c-0.2,0.1-0.8,0.3-0.9,1.2c-0.2,0.8,0.3,1.3,0.4,1.5c32.5,33.3,90.7,106.6,116,223.3c0.1,0.4,0.2,1,1.2,1.2 c1,0.2,1.4-0.2,1.6-0.5c105.7-128.3,92.3-262.6,81.6-314.4c0-0.2-0.2-0.8-0.8-1.1C646.2,372.1,646,372,645.7,372z"})),w.createElement("g",null,w.createElement("path",{d:"M604.4,583.1l-41.6-37c-20.1-19.4-22.6-50.9-5.9-73.2l67.3-78.2l4,54.9l-40.5,46.3c-5.2,6.9-4.4,16.6,1.8,22.6l26.7,25.8 L604.4,583.1z"})),w.createElement("g",null,w.createElement("path",{d:"M1065.2,423.4c-32,64-82,91.1-121.5,96.2c-45.2,5.8-85.2-15.9-103.7-28.1c-0.4-22.4-3-44.2-7.6-65.2 c2,0.1,4.2,0.1,6.5,0.1c29.5,0,79.1-5.7,120.3-38.8c39.9-32,62.1-64.9,70.4-126.5l-29.6-45.1c-5.9,85.4-33.5,116.5-64.5,141.5 c-43.7,35.2-102.6,30.9-114.3,29.6c-12-33.9-29.5-65.3-51.4-93.1h1.2c32.4,0,73.7-6.5,104.8-33.7c33.7-29.5,47.5-66.4,41.2-128.5 l-37.9-24.9c5,49-4.7,103.6-28.5,124.4C811.1,266,742.1,254,730,251.6c-58-51.7-134.5-83.1-218.3-83.1 c-181.4,0-328.4,147-328.4,328.4c0,14.5,0.9,28.7,2.7,42.7c-28.3-1.3-82.4,1.7-127.3,36.6c-40.4,31.3-47.5,78.4-53.4,127.1 l30.8,43.3c4.4-53.9,14.5-115.4,45.8-139.8c41.2-32,94.9-29.7,111.6-28.1c5.2,20.2,12.2,39.6,20.9,58.1 c-25.3,15.9-61.2,45.3-78.6,91.5c-18,47.8-20.3,88.8,3.4,138.6l52.2,34.4c-40.3-86.6-33.7-121.9-19.8-159.1 c13.1-35,40.9-58.4,61.2-71.5c27,43.3,63.9,79.9,107.5,106.6c-28.3,16.4-61.9,43.4-75.1,83.6c-14,42.6,0.9,77.2,13.9,102.1 l52.2,21.3c-29.2-39.6-39.5-81.3-29.7-111.4c13-40,57.5-63.9,80.8-73.9c39.7,17,83.4,26.4,129.3,26.4 c168.5,0,307.4-127,326.3-290.4c22.3,11.8,54,24,90.4,24c6.5,0,13.1-0.4,19.8-1.2c50.7-6.3,88.7-31,126.5-84.5L1065.2,423.4z  M779,609.8c-14.6,34.5-35.5,65.6-62.2,92.2c-26.7,26.7-57.7,47.6-92.2,62.2c-35.7,15.1-73.7,22.8-112.9,22.8 s-77.2-7.7-112.9-22.8c-4.3-1.8-8.6-3.7-12.8-5.8c-0.8-0.4-1.6-0.8-2.4-1.2c-28.5-14-54.4-32.6-77.1-55.3 c-26.6-26.7-47.6-57.7-62.2-92.2c-15.1-35.7-22.8-73.7-22.8-112.9c0-39.2,7.7-77.2,22.8-112.9c14.6-34.5,35.5-65.6,62.2-92.2 c26.7-26.6,57.7-47.6,92.2-62.2c35.7-15.1,73.7-22.8,112.9-22.8s77.2,7.7,112.9,22.8c34.5,14.6,65.6,35.5,92.2,62.2 c26.7,26.7,47.6,57.7,62.2,92.2c15.1,35.7,22.8,73.7,22.8,112.9C801.7,536.1,794.1,574.1,779,609.8z"})),w.createElement("g",null,w.createElement("path",{d:"M386,758.4c-0.8-0.4-1.6-0.8-2.4-1.2c1-0.3,1.6-0.5,1.8-0.6L386,758.4z"})),w.createElement("circle",{cx:680.2,cy:841.6,r:31.1}),w.createElement("circle",{cx:762.9,cy:929.7,r:31.1}),w.createElement("circle",{cx:886.5,cy:975,r:31.1}),w.createElement("g",null,w.createElement("path",{d:"M244.3,219c-40,0-72.5-32.5-72.5-72.5s32.5-72.5,72.5-72.5c40,0,72.5,32.5,72.5,72.5S284.3,219,244.3,219z M244.3,112.2 c-18.8,0-34.2,15.3-34.2,34.2s15.3,34.2,34.2,34.2s34.2-15.3,34.2-34.2S263.2,112.2,244.3,112.2z"})))),w.createElement("g",{id:"animation",className:"st0"},w.createElement("g",{className:"st1"},w.createElement("g",null,w.createElement("polygon",{points:"719.9,792.5 666.8,793 673.3,642.9 556.1,589.2 442.7,730.6 277.8,632.5 305,586.8 430.1,661.2 540.6,523.6  728.1,609.4  "})),w.createElement("g",null,w.createElement("circle",{cx:549.5,cy:289.4,r:67.4})),w.createElement("g",null,w.createElement("ellipse",{cx:553.6,cy:1035.7,rx:43.1,ry:39})),w.createElement("g",null,w.createElement("circle",{cx:434.4,cy:1035.7,r:39})),w.createElement("g",null,w.createElement("ellipse",{cx:713.8,cy:1035.7,rx:48.9,ry:39})),w.createElement("g",null,w.createElement("path",{d:"M854.7,171.8v-50.7l-36-20.1v39.6c-60.4-47.1-133-79.2-212.2-90.9V9.6l-36-4.3V46c-10.1-0.7-20.3-1-30.5-1 c-36.5,0-72.1,4.3-106.1,12.5V17l-36,8.6v42c-181,59.6-311.6,230-311.6,431c0,250.5,203.1,453.7,453.7,453.7 c250.6,0,453.7-203.1,453.7-453.7C993.7,370.2,940.4,254.3,854.7,171.8z M343.5,149.6c13.1-7.4,26.7-14.1,40.7-20 c4.6-1.9,9.2-3.8,13.8-5.5v116.5h36V112.3c34.3-9.4,69.9-14.2,106.1-14.2c10.2,0,20.4,0.4,30.5,1.1v88.7h36v-84.3 c30.7,5.1,60.5,13.8,89.4,26c1.9,0.8,3.8,1.6,5.7,2.4h-1.2v290.2l-151.9-45.1l-129.8,98.1l-75.2-54.5V149.6z M823.2,781.8 c-36.8,36.8-79.6,65.7-127.3,85.8C646.5,888.5,594.1,899,540,899c-54.1,0-106.5-10.6-155.8-31.5c-47.7-20.2-90.5-49-127.3-85.8 c-36.8-36.8-65.7-79.6-85.8-127.3c-20.9-49.3-31.5-101.8-31.5-155.8c0-54.1,10.6-106.5,31.5-155.9c20.2-47.7,49-90.5,85.8-127.3 c15.8-15.8,32.7-30.2,50.7-43v251.1L290,447.8l129.4,93.7l139.8-105.7l124.4,36.9L728,582.6l49.3-20l-41-101.1v-312 c29.9,16.8,57.5,37.4,82.4,61.6v144.5h36V250.9c22.1,28,40.3,58.8,54.3,91.9c20.9,49.3,31.4,101.8,31.4,155.9 c0,54.1-10.6,106.5-31.4,155.8C888.8,702.1,859.9,745,823.2,781.8z"})))),w.createElement("g",{id:"interactive",className:"st0"},w.createElement("g",{className:"st1"},w.createElement("g",null,w.createElement("path",{d:"M56.2,562.5c-9,23-18.2,51.9-18.2,51.9c0.6,2.3,15.7,56.7,65.2,106.2c32.8,32.8,68.2,53.5,102.4,59.9 c4.6,0.9,9.1,1.5,13.6,1.8c29.7,30.3,64.7,55.4,103.5,73.9c-18.1,10.4-39.8,18.1-66.3,19.5C91.2,884.2,27.1,743.7,20.3,732.3 l-15,54c19.3,32.2,55,72.8,90.8,94.3c42.9,25.8,90.6,38.8,142.1,38.8c7,0,14.1-0.2,21.2-0.7c42.7-2.9,80.2-17.6,111.8-43.7 c34.1,10.5,70.3,16.2,107.8,16.2c200.9,0,363.7-162.8,363.7-363.7c0-78.2-24.7-150.6-66.6-209.9c0.6-1,1.2-2,1.8-3 c13-21.8,19.2-30,33.5-30c14.2,0,23.3,17.6,36.6,46.5c8.3,18.1,16.9,36.8,29.7,52.2c16.4,19.8,37,30,61.2,30.5c0.9,0,1.9,0,2.8,0 c32,0,61.1-11.3,84.2-32.7c21.2-19.7,36.4-46.7,43.9-78.3c8.9-37.5,5.9-77.6-8.3-112.9c-16.1-39.9-33.9-69.2-72.9-96.1l-51,13 c81.9,47,102.5,133.9,90.2,186.1c-9,38.3-36.9,78.9-88.1,77.8c-24.6-0.5-36.3-22.1-52.6-57.6c-7.3-15.9-14.8-32.3-25.1-45.3 c-13.8-17.5-30.9-26.4-50.7-26.4c-33.9,0-51.7,21-64.1,40.5c-14-15.3-29.2-29.3-45.6-42c2.8,0,5.5-0.2,8.2-0.4 c26.3-2.2,50.4-13,69.6-31.3c41.4-39.5,54.2-80.4,39.2-127.3l-46-2c17.3,33.8,4.5,71.9-23,98.1c-27.1,25.8-65.5,26.6-108.2,2.1 c-30.3-17.4-60.4-22.2-89.5-14.2c-4.2,1.1-8.2,2.5-12,4.1c-19.9-3.4-40.3-5.1-61.1-5.1c-200.9,0-363.7,162.8-363.7,363.7 c0,70.7,20.2,136.6,55,192.5C170.2,720,97.2,676.4,56.2,562.5z M272.8,773.1c6.7-3.1,12.9-7,18.7-11.6c29-23,45.9-52.3,48.7-84.7 c2.4-27.3-5.4-49.5-10.3-60.2c-27.5-60.6-27.7-114-16.2-137.9c1.3-2.7,2.5-4.6,3.6-5.9c0,4.2-0.2,9.5-0.3,13.8 c-0.7,16.3-1.6,38.5,4.5,63.1c5.4,21.6,15.5,51.3,41,60.7c16.6,6.1,35.3,1.9,55.6-12.7c19-13.5,31.6-35.5,37.6-65.3 c4.1-20.4,4.2-41.2,2.9-53.9c-0.7-7.2-3.3-15.6-6.6-26.3c-3.4-11-7.2-23.4-8.9-34.5c-0.6-3.8-0.8-6.8-0.8-9.2 c4.2,4.3,9.9,11.4,15.5,21.7c8.4,15.2,13.7,31.9,13.2,41.7c-0.8,15.9-1.1,38.7,1.7,57.2c1.6,10.2,3.9,18.3,7.2,24.8 c7.9,15.5,20,18.7,26.5,19.2c10.7,0.8,21.1-4.2,31.6-15.4c17.5-18.5,40.6-61.4,36.7-90.6l-0.1-0.7c-1.5-11.1-3.5-26.3-3.6-40.3 c-0.1-9.3,0.7-15.2,1.6-18.9c3.8,5.6,8.9,16.5,12.8,33.7c5,22,5,41.5,2.4,48.7c-1.7,4.9-3.5,9.9-5.3,14.7 c-9.5,26.3-18.6,51-18.6,74.7c0,16,7.1,29.9,18.9,37c6.9,4.2,21.6,9.6,42.4-1.2c19.3-10.1,28.8-35.5,39.9-65 c5.1-13.7,10.4-27.7,16.3-38.7c-0.7,13.5-3.3,31.8-9,52.9c-11.2,41-29.1,72.6-49.2,86.8c-12.9,9.1-64.8,27.2-102.7,40.3 c-45.5,15.9-74.2,26-87.2,33.9c-12,7.2-20.2,21.3-31.5,40.9c-10.4,18-23.2,40.1-41.3,59.7c-2.1-0.8-4.2-1.7-6.3-2.6 C324.6,810.4,297.3,793.7,272.8,773.1z M799.5,527.5c0,43.3-8.5,85.3-25.2,124.8c-16.1,38.2-39.3,72.5-68.7,101.9 c-29.4,29.5-63.7,52.6-101.9,68.7c-39.5,16.7-81.5,25.2-124.8,25.2c-25.1,0-49.8-2.8-73.8-8.5c14.5-18.5,25.3-37.2,34-52.2 c5.9-10.1,13.1-22.7,16.6-25.6c10.5-6.2,46.9-18.8,78.9-30c57.7-20.1,96.7-34.1,113.4-45.8c38.5-27.1,57.8-80.7,65.9-110.2 c9.1-33.1,16-80.4,5.8-104.9c-7.2-17.1-21.7-21-32-19.1c-34.2,6.2-49.5,47-62.9,82.9c-4.6,12.3-12,31.9-17.5,39.6 c1.3-15.4,8.3-34.8,15.8-55.2c1.8-4.9,3.6-9.9,5.4-15.1c10.9-30.8-0.9-101.9-27.3-129.7c-11.6-12.2-26.5-16.8-40.9-12.5 c-13.8,4.1-30.6,17.1-32.3,55.7c-0.9,19.4,2,40.6,3.9,54.7l0.1,0.7c0.7,5-2.1,17.2-9.9,32.2c-2.5,4.9-5,9.2-7.4,12.7 c-1-9.8-1.6-24-0.6-43.8c1.7-36-28.8-97.3-62.4-110.6c-15.3-6.1-30.6-2.4-41.1,9.8c-20.7,24.2-8.7,63.3,0.1,91.8 c2.1,6.7,4.7,15.1,4.9,17.9c1.5,15.4,0.7,63.1-22.7,79.8c-10,7.1-14.9,7.6-15.6,7.3c-0.1,0-7.2-3.3-14.1-30.7 c-4.7-18.6-3.9-35.8-3.3-50.9c0.5-11.8,0.9-22-1.3-31.5c-3.5-15-13.5-25.3-28-28.7c-17.3-4.1-34.3,2.1-46.6,17 c-24.7,29.9-33.2,101.9,6.4,189.2c5.7,12.6,20.7,56.4-25.9,93.3c-7,5.5-16.1,9.6-26.9,11.1c-22.7-25.8-40.9-54.8-54.3-86.5 c-16.7-39.5-25.2-81.5-25.2-124.8c0-43.3,8.5-85.3,25.2-124.8c16.1-38.2,39.3-72.5,68.7-101.9c29.4-29.5,63.7-52.6,101.9-68.7 c39.5-16.7,81.5-25.2,124.8-25.2c3.3,0,6.5,0,9.8,0.2c-9.2,10.7-12.3,16.8-12.8,17.7l31,32c0.1-0.2,16-27.5,35.6-40.6 c1.2-0.8,2.3-1.5,3.5-2.2c19.7,4.2,38.9,10.2,57.6,18.2c38.2,16.1,72.5,39.3,101.9,68.7c5.7,5.7,11.2,11.6,16.4,17.6 c-6.6,5.9-14.4,8.7-25.7,8.3c-19.5-0.8-23.7-9.4-32.3-30.6c-4.3-10.7-9.3-22.9-18.3-32.6c-11.6-12.4-27.2-18-46.3-16.7 c-32.7,2.3-47,27.4-56.5,43.9c-10.7,18.7-14.2,21.8-23.3,21.3c-9-0.5-16.1-10.6-26.9-27.1c-13.2-20.2-29.6-45.5-61.7-46.2 c-30.9-0.7-57,15-73.6,44.4c-11.2,20-14.5,39.6-14.8,41.8l42.6,6.6c0.1-0.5,8.1-49.7,43.8-49.7c0.3,0,0.6,0,0.9,0 c8.8,0.2,15.9,10.2,26.6,26.6c13,20,29.2,44.8,60.6,46.6c1.4,0.1,2.8,0.1,4.1,0.1c34.4,0,49.2-25.8,59.1-43.1 c9.6-16.8,13.7-21.8,22.1-22.3c10.5-0.7,12.9,0.7,21.6,22.4c4.7,11.5,9.9,24.6,20.1,35.7c12.5,13.6,29.4,21,50.5,21.8 c23.8,1,40.7-6.3,53.4-16.8c10.2,15.7,19,32.3,26.3,49.6C791,442.2,799.5,484.2,799.5,527.5z"})),w.createElement("circle",{cx:647.8,cy:950.2,r:43}),w.createElement("circle",{cx:815.6,cy:826.3,r:43}),w.createElement("circle",{cx:455.9,cy:958.2,r:43}))),w.createElement("g",{id:"vfx",className:"st0"},w.createElement("g",{className:"st1"},w.createElement("g",null,w.createElement("path",{d:"M540,921.4c215.5,0,390.1-173.5,390.1-387.6c0-204-158.6-371.1-360-386.4c20.4-46.2,21.5-92.6-9.1-141.6l-50.1,7 c39.4,39.3,30.7,97.7,7.5,134.1C313,158,149.9,327,149.9,533.8c0,197.6,148.9,360.7,341.3,384.5c-5.6,17.5-7.7,35.8-6.5,55.5 c1.9,30.2,6.8,62.8,25.1,99.9l55.4,0.4c-29.1-58.8-40.8-120-26-152.8H540z M542.5,192.3c45.6,0.3,89.9,9.4,131.6,26.9 c41,17.2,77.8,41.9,109.4,73.3c31.6,31.4,56.4,67.9,73.7,108.6c17.9,42,27,86.8,27,132.9s-9.1,90.8-27,132.9 c-17.3,40.7-42.1,77.2-73.7,108.6c-31.6,31.4-68.4,56.1-109.4,73.3c-31.4,13.2-64.2,21.6-98,25c17.6-16.2,39.2-31.8,63.1-49.1 c54.4-39.4,116.1-84,153.1-157.3c28.2-55.9,38.8-110.1,31.4-161c-6.5-45.1-27.5-87-60.8-121c-35.3-36.2-83.4-62.5-135.3-74.1 c-52.4-11.7-103.7-7.5-144.7,12c-37.2,17.7-66.3,41.2-86.5,69.9c-18.1,25.7-28.2,54.9-29.2,84.3c-1.7,46.7,19.3,88.1,54.6,108.1 c59.7,33.7,114.1,3.4,116.4,2.1l-0.8-1.4c0.8,0,1.7,0.1,2.5,0.1c28.8,0,52.2-23.4,52.2-52.2c0-8.7-2.1-16.8-5.9-24 c13.7-4.6,32.5-7.2,52.4,1.8c20.1,9.1,34,34,35.5,63.2c2.5,48.3-27.8,95.8-80.9,127c-62.1,36.4-160.5,23.8-224-28.9 c-37.7-31.3-93.9-102.8-47.8-231.2c23.3-64.9,80.1-115.5,135.1-164.3C488.6,248.9,519.4,221.6,542.5,192.3z M405.9,848.6 c-41-17.2-77.8-41.9-109.4-73.3c-31.6-31.4-56.4-67.9-73.7-108.6c-17.9-42.1-27-86.8-27-132.9s9.1-90.8,27-132.9 c17.3-40.7,42.1-77.2,73.7-108.6c31.6-31.4,68.4-56.1,109.4-73.3c22.2-9.3,45.1-16.2,68.6-20.7c-14.2,14-30.6,28.8-48.5,44.7 c-56.5,50.2-120.5,107.2-147.8,183.1c-21.5,59.8-25.7,115.9-12.5,166.6c11.7,45,37.4,84.9,74.2,115.5 c47.6,39.5,109.9,60.3,169.3,60.3c38.7,0,76.1-8.9,107.3-27.2c36.1-21.2,63.6-47.9,81.5-79.5c16-28.1,23.7-59.1,22.1-89.5 c-2.4-46.9-26.3-86.3-62.4-102.7c-55.9-25.5-105.4,3.8-117.4,11.9H540c-28.8,0-52.2,23.4-52.2,52.2c0,7.3,1.5,14.3,4.2,20.6 c-12.9,1.8-29.9,0.8-47.6-9.2c-20-11.3-32.3-37.4-31.3-66.4c0.8-21.9,11-77,89.5-114.3c66.2-31.5,168.2-7.8,227.4,52.8 c33.7,34.5,81.3,110.1,21.2,229.2c-32,63.4-86.4,102.7-139,140.8c-38,27.5-74.3,53.7-98.5,87.2 C476.4,871.7,440.3,863,405.9,848.6z"})),w.createElement("g",null,w.createElement("circle",{cx:650.7,cy:1009.4,r:52.2})),w.createElement("g",null,w.createElement("circle",{cx:386.7,cy:1009.4,r:52.2})),w.createElement("g",null,w.createElement("circle",{cx:435.7,cy:86.7,r:52.2}))))),cte=n=>w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1080 1080",style:{enableBackground:"new 0 0 1080 1080"},xmlSpace:"preserve",...n},w.createElement("style",{type:"text/css"},`\r
	.st0{display:none;}\r
	.st1{display:inline;}\r
	.st2{fill:#FFFFFF;}\r
	.st3{display:inline;fill:none;stroke:#000000;stroke-width:37;stroke-miterlimit:10;}\r
	.st4{display:inline;fill:none;stroke:#000000;stroke-width:25;stroke-miterlimit:10;}\r
	.st5{fill:none;stroke:#000000;stroke-width:37;stroke-miterlimit:10;}\r
`),w.createElement("g",{id:"wonder",className:"st0"},w.createElement("g",{className:"st1"},w.createElement("g",null,w.createElement("path",{className:"st2",d:"M308.9,620.1c20.3,0,67.6,6.6,67.6,67.6c0,37.3-30.3,67.6-67.6,67.6s-67.6-30.3-67.6-67.6 C241.3,650.4,271.7,620.1,308.9,620.1L308.9,620.1z M308.9,571.4c-64.2,0-116.3,52.1-116.3,116.3S244.7,804,308.9,804 S425.2,752,425.2,687.7C425.2,612.5,373.2,571.4,308.9,571.4L308.9,571.4z"})),w.createElement("g",null,w.createElement("rect",{x:255.1,y:454.4,transform:"matrix(4.381290e-02 -0.999 0.999 4.381290e-02 -168.2771 781.7615)",className:"st2",width:138.2,height:48.7})),w.createElement("g",null,w.createElement("rect",{x:418.6,y:521.7,transform:"matrix(0.8069 -0.5906 0.5906 0.8069 -227.6227 395.6779)",className:"st2",width:145.6,height:48.7})),w.createElement("g",null,w.createElement("rect",{x:507.1,y:642.1,transform:"matrix(0.1961 -0.9806 0.9806 0.1961 -278.1011 1099.3276)",className:"st2",width:48.7,height:154.4})),w.createElement("g",null,w.createElement("path",{className:"st2",d:"M485.2,923.7l-16.5,11.9h0c-4.9,0.2-9.9,0.3-14.9,0.3c-6.8,0-13.5-0.2-20.2-0.5L358.4,831l39.5-28.5 L485.2,923.7z"})),w.createElement("g",null,w.createElement("path",{className:"st2",d:"M81.7,758.8l-0.4,0.1l-0.6-2.1C81.1,757.5,81.4,758.1,81.7,758.8z"})),w.createElement("g",null,w.createElement("circle",{className:"st2",cx:35.7,cy:839.7,r:30.5})),w.createElement("g",null,w.createElement("circle",{className:"st2",cx:135,cy:963.8,r:30.5})),w.createElement("g",null,w.createElement("circle",{className:"st2",cx:288.4,cy:1036,r:30.5})),w.createElement("g",null,w.createElement("path",{className:"st2",d:"M1074.7,256.5l-34.6-40.6c-0.3,0.4-41.2,48.1-82.7,82.4c-7.5,6.2-14.9,12-22.2,17.3 c-22.6-41.6-47.2-74.1-68.2-98c3.7-2.9,7.3-6,11-9.1c42.1-35.9,81.1-76.8,82.3-78.3L920.5,94c-0.3,0.4-35.8,44.8-74.6,77.8 c-4.4,3.7-8.8,7.3-13.1,10.7c-28.4-26.3-49.1-38.8-50.3-39.5l-33.5,34.4c0.2,0.1,22.3,15.8,42.2,33.1 c-25.1,13.9-47.5,20.3-65.4,18.2c-7.5-0.9-15.2-1.1-22.9-0.6c-17.7-13.1-36.4-24.8-56.1-35c95.2-29.8,169.4-149.9,172.9-155.6 l-44.4-24.1C774.5,15,686,161.6,591.6,151.2c-17.7-2-35.2-0.7-52.2,3.8c-27.6-5.7-56.3-8.8-85.6-8.8 c-231.5,0-419.2,187.7-419.2,419.2c0,69,16.6,134,46.1,191.4c0.3,0.7,0.7,1.3,1,1.9C151.6,893,292,984.6,453.8,984.6 c231.5,0,419.2-187.7,419.2-419.2c0-56.2-11.1-109.8-31.1-158.7c22.9-1.5,47.3-8.7,72.9-21.5c8.9,21.1,17,44.2,23.6,69.3 c26.3,98.7,10.6,189-7.2,247.3c-19.5,64.1-45.9,105-46.1,105.4l40.8,26.6c1.2-1.8,29.8-46,51.4-116.1 c20-64.8,37.6-165.2,8.2-275.7c-8-29.9-17.7-57.2-28.5-82c10.4-7.2,20.9-15.3,31.6-24.1C1033.7,298.4,1073.4,258.1,1074.7,256.5z  M795.2,709.6c-18.6,44.1-45.4,83.7-79.4,117.8c-34,34-73.7,60.8-117.8,79.4c-41.1,17.4-84.5,27.1-129.3,28.8h0 c-4.9,0.2-9.9,0.3-14.9,0.3c-6.8,0-13.5-0.2-20.2-0.5c-42.9-2.3-84.5-11.9-124-28.6c-23.6-10-45.9-22.3-66.8-36.8l18.5-32.8 l-42.4-23.9l-14.6,25.9c-4.2-3.8-8.4-7.8-12.4-11.9c-25-25-46-52.9-62.8-83.5l33.5-10.5L148,687l-39.7,12.5 c-16.6-42.6-25-87.7-25-134c0-10.7,0.4-21.3,1.4-31.9l95.3,76.9l30.6-37.9l-106.6-86l-16,19.8c4.7-29.2,12.8-57.6,24.4-85.1 c18.7-44.1,45.4-83.7,79.4-117.8c34-34,73.7-60.8,117.8-79.4c45.6-19.3,94.2-29.1,144.2-29.1c4.6,0,9.3,0.1,13.9,0.3 c-8.8,7.8-17.3,16.6-25.5,26.3c-31.4,37.2-47.9,75.7-48.6,77.3l44.8,19.1c0.5-1.1,38.5-88,103.4-112.5 c19.2,4.7,38,10.9,56.3,18.6c14.9,6.3,29.2,13.5,43.1,21.6c-20,9.6-40.6,23.1-61.7,40.5c-37,30.6-62,62.3-63,63.6l38.3,30 c20.6-26.2,78.8-86.4,134.9-100.2c9.1,7.5,17.8,15.5,26.2,23.8c16.6,16.6,31.5,34.5,44.5,53.7c-96.8,9.7-155.5,66.4-158.4,69.3 l34.1,34.7c0.2-0.2,18.2-17.5,49.7-32.8c32.4-15.8,66.6-23.8,101.9-23.9c2.7,5.5,5.2,11.1,7.6,16.8 c19.3,45.7,29.1,94.2,29.1,144.2C824.3,615.5,814.5,664,795.2,709.6z M823.1,357.7c-1.8-0.2-3.6-0.4-5.4-0.6 c-17-29.7-37.5-57-61-81.5c22-4.2,45.6-14,70.6-29.5c0.6,0.7,1.3,1.4,1.9,2.1c19.7,22.1,43.2,53,64.7,93 C867.4,354.5,843.5,360.2,823.1,357.7z"})))),w.createElement("g",{id:"motion",className:"st0"},w.createElement("g",{className:"st1"},w.createElement("g",null,w.createElement("path",{d:"M564.6,726.7c-3.2,0-6.4-0.4-9.6-1.2c-15-3.6-26.4-15.3-29.6-30.4C502.2,587.9,449,520.9,419.4,490.6 c-9.1-9.4-13.1-22.6-10.7-35.4c2.4-12.8,11-23.7,22.9-29l197.7-89c11.1-5,23.7-4.7,34.6,0.9c10.9,5.6,18.5,15.6,21,27.6 c11.8,57.2,26.6,205.4-89.6,346.5C587.6,721.5,576.4,726.7,564.6,726.7z M645.7,372c-0.3,0-0.5,0.1-0.7,0.2l-197.7,89 c-0.2,0.1-0.8,0.3-0.9,1.2c-0.2,0.8,0.3,1.3,0.4,1.5c32.5,33.3,90.7,106.6,116,223.3c0.1,0.4,0.2,1,1.2,1.2 c1,0.2,1.4-0.2,1.6-0.5c105.7-128.3,92.3-262.6,81.6-314.4c0-0.2-0.2-0.8-0.8-1.1C646.2,372.1,646,372,645.7,372z"})),w.createElement("g",null,w.createElement("path",{d:"M604.4,583.1l-41.6-37c-20.1-19.4-22.6-50.9-5.9-73.2l67.3-78.2l4,54.9l-40.5,46.3c-5.2,6.9-4.4,16.6,1.8,22.6l26.7,25.8 L604.4,583.1z"})),w.createElement("g",null,w.createElement("path",{d:"M1065.2,423.4c-32,64-82,91.1-121.5,96.2c-45.2,5.8-85.2-15.9-103.7-28.1c-0.4-22.4-3-44.2-7.6-65.2 c2,0.1,4.2,0.1,6.5,0.1c29.5,0,79.1-5.7,120.3-38.8c39.9-32,62.1-64.9,70.4-126.5l-29.6-45.1c-5.9,85.4-33.5,116.5-64.5,141.5 c-43.7,35.2-102.6,30.9-114.3,29.6c-12-33.9-29.5-65.3-51.4-93.1h1.2c32.4,0,73.7-6.5,104.8-33.7c33.7-29.5,47.5-66.4,41.2-128.5 l-37.9-24.9c5,49-4.7,103.6-28.5,124.4C811.1,266,742.1,254,730,251.6c-58-51.7-134.5-83.1-218.3-83.1 c-181.4,0-328.4,147-328.4,328.4c0,14.5,0.9,28.7,2.7,42.7c-28.3-1.3-82.4,1.7-127.3,36.6c-40.4,31.3-47.5,78.4-53.4,127.1 l30.8,43.3c4.4-53.9,14.5-115.4,45.8-139.8c41.2-32,94.9-29.7,111.6-28.1c5.2,20.2,12.2,39.6,20.9,58.1 c-25.3,15.9-61.2,45.3-78.6,91.5c-18,47.8-20.3,88.8,3.4,138.6l52.2,34.4c-40.3-86.6-33.7-121.9-19.8-159.1 c13.1-35,40.9-58.4,61.2-71.5c27,43.3,63.9,79.9,107.5,106.6c-28.3,16.4-61.9,43.4-75.1,83.6c-14,42.6,0.9,77.2,13.9,102.1 l52.2,21.3c-29.2-39.6-39.5-81.3-29.7-111.4c13-40,57.5-63.9,80.8-73.9c39.7,17,83.4,26.4,129.3,26.4 c168.5,0,307.4-127,326.3-290.4c22.3,11.8,54,24,90.4,24c6.5,0,13.1-0.4,19.8-1.2c50.7-6.3,88.7-31,126.5-84.5L1065.2,423.4z  M779,609.8c-14.6,34.5-35.5,65.6-62.2,92.2c-26.7,26.7-57.7,47.6-92.2,62.2c-35.7,15.1-73.7,22.8-112.9,22.8 s-77.2-7.7-112.9-22.8c-4.3-1.8-8.6-3.7-12.8-5.8c-0.8-0.4-1.6-0.8-2.4-1.2c-28.5-14-54.4-32.6-77.1-55.3 c-26.6-26.7-47.6-57.7-62.2-92.2c-15.1-35.7-22.8-73.7-22.8-112.9c0-39.2,7.7-77.2,22.8-112.9c14.6-34.5,35.5-65.6,62.2-92.2 c26.7-26.6,57.7-47.6,92.2-62.2c35.7-15.1,73.7-22.8,112.9-22.8s77.2,7.7,112.9,22.8c34.5,14.6,65.6,35.5,92.2,62.2 c26.7,26.7,47.6,57.7,62.2,92.2c15.1,35.7,22.8,73.7,22.8,112.9C801.7,536.1,794.1,574.1,779,609.8z"})),w.createElement("g",null,w.createElement("path",{d:"M386,758.4c-0.8-0.4-1.6-0.8-2.4-1.2c1-0.3,1.6-0.5,1.8-0.6L386,758.4z"})),w.createElement("circle",{cx:680.2,cy:841.6,r:31.1}),w.createElement("circle",{cx:762.9,cy:929.7,r:31.1}),w.createElement("circle",{cx:886.5,cy:975,r:31.1}),w.createElement("g",null,w.createElement("path",{d:"M244.3,219c-40,0-72.5-32.5-72.5-72.5s32.5-72.5,72.5-72.5c40,0,72.5,32.5,72.5,72.5S284.3,219,244.3,219z M244.3,112.2 c-18.8,0-34.2,15.3-34.2,34.2s15.3,34.2,34.2,34.2s34.2-15.3,34.2-34.2S263.2,112.2,244.3,112.2z"})))),w.createElement("g",{id:"animation",className:"st0"},w.createElement("g",{className:"st1"},w.createElement("g",null,w.createElement("polygon",{points:"719.9,792.5 666.8,793 673.3,642.9 556.1,589.2 442.7,730.6 277.8,632.5 305,586.8 430.1,661.2 540.6,523.6  728.1,609.4  "})),w.createElement("g",null,w.createElement("circle",{cx:549.5,cy:289.4,r:67.4})),w.createElement("g",null,w.createElement("ellipse",{cx:553.6,cy:1035.7,rx:43.1,ry:39})),w.createElement("g",null,w.createElement("circle",{cx:434.4,cy:1035.7,r:39})),w.createElement("g",null,w.createElement("ellipse",{cx:713.8,cy:1035.7,rx:48.9,ry:39})),w.createElement("g",null,w.createElement("path",{d:"M854.7,171.8v-50.7l-36-20.1v39.6c-60.4-47.1-133-79.2-212.2-90.9V9.6l-36-4.3V46c-10.1-0.7-20.3-1-30.5-1 c-36.5,0-72.1,4.3-106.1,12.5V17l-36,8.6v42c-181,59.6-311.6,230-311.6,431c0,250.5,203.1,453.7,453.7,453.7 c250.6,0,453.7-203.1,453.7-453.7C993.7,370.2,940.4,254.3,854.7,171.8z M343.5,149.6c13.1-7.4,26.7-14.1,40.7-20 c4.6-1.9,9.2-3.8,13.8-5.5v116.5h36V112.3c34.3-9.4,69.9-14.2,106.1-14.2c10.2,0,20.4,0.4,30.5,1.1v88.7h36v-84.3 c30.7,5.1,60.5,13.8,89.4,26c1.9,0.8,3.8,1.6,5.7,2.4h-1.2v290.2l-151.9-45.1l-129.8,98.1l-75.2-54.5V149.6z M823.2,781.8 c-36.8,36.8-79.6,65.7-127.3,85.8C646.5,888.5,594.1,899,540,899c-54.1,0-106.5-10.6-155.8-31.5c-47.7-20.2-90.5-49-127.3-85.8 c-36.8-36.8-65.7-79.6-85.8-127.3c-20.9-49.3-31.5-101.8-31.5-155.8c0-54.1,10.6-106.5,31.5-155.9c20.2-47.7,49-90.5,85.8-127.3 c15.8-15.8,32.7-30.2,50.7-43v251.1L290,447.8l129.4,93.7l139.8-105.7l124.4,36.9L728,582.6l49.3-20l-41-101.1v-312 c29.9,16.8,57.5,37.4,82.4,61.6v144.5h36V250.9c22.1,28,40.3,58.8,54.3,91.9c20.9,49.3,31.4,101.8,31.4,155.9 c0,54.1-10.6,106.5-31.4,155.8C888.8,702.1,859.9,745,823.2,781.8z"})))),w.createElement("g",{id:"interactive",className:"st0"},w.createElement("g",{className:"st1"},w.createElement("g",null,w.createElement("path",{d:"M56.2,562.5c-9,23-18.2,51.9-18.2,51.9c0.6,2.3,15.7,56.7,65.2,106.2c32.8,32.8,68.2,53.5,102.4,59.9 c4.6,0.9,9.1,1.5,13.6,1.8c29.7,30.3,64.7,55.4,103.5,73.9c-18.1,10.4-39.8,18.1-66.3,19.5C91.2,884.2,27.1,743.7,20.3,732.3 l-15,54c19.3,32.2,55,72.8,90.8,94.3c42.9,25.8,90.6,38.8,142.1,38.8c7,0,14.1-0.2,21.2-0.7c42.7-2.9,80.2-17.6,111.8-43.7 c34.1,10.5,70.3,16.2,107.8,16.2c200.9,0,363.7-162.8,363.7-363.7c0-78.2-24.7-150.6-66.6-209.9c0.6-1,1.2-2,1.8-3 c13-21.8,19.2-30,33.5-30c14.2,0,23.3,17.6,36.6,46.5c8.3,18.1,16.9,36.8,29.7,52.2c16.4,19.8,37,30,61.2,30.5c0.9,0,1.9,0,2.8,0 c32,0,61.1-11.3,84.2-32.7c21.2-19.7,36.4-46.7,43.9-78.3c8.9-37.5,5.9-77.6-8.3-112.9c-16.1-39.9-33.9-69.2-72.9-96.1l-51,13 c81.9,47,102.5,133.9,90.2,186.1c-9,38.3-36.9,78.9-88.1,77.8c-24.6-0.5-36.3-22.1-52.6-57.6c-7.3-15.9-14.8-32.3-25.1-45.3 c-13.8-17.5-30.9-26.4-50.7-26.4c-33.9,0-51.7,21-64.1,40.5c-14-15.3-29.2-29.3-45.6-42c2.8,0,5.5-0.2,8.2-0.4 c26.3-2.2,50.4-13,69.6-31.3c41.4-39.5,54.2-80.4,39.2-127.3l-46-2c17.3,33.8,4.5,71.9-23,98.1c-27.1,25.8-65.5,26.6-108.2,2.1 c-30.3-17.4-60.4-22.2-89.5-14.2c-4.2,1.1-8.2,2.5-12,4.1c-19.9-3.4-40.3-5.1-61.1-5.1c-200.9,0-363.7,162.8-363.7,363.7 c0,70.7,20.2,136.6,55,192.5C170.2,720,97.2,676.4,56.2,562.5z M272.8,773.1c6.7-3.1,12.9-7,18.7-11.6c29-23,45.9-52.3,48.7-84.7 c2.4-27.3-5.4-49.5-10.3-60.2c-27.5-60.6-27.7-114-16.2-137.9c1.3-2.7,2.5-4.6,3.6-5.9c0,4.2-0.2,9.5-0.3,13.8 c-0.7,16.3-1.6,38.5,4.5,63.1c5.4,21.6,15.5,51.3,41,60.7c16.6,6.1,35.3,1.9,55.6-12.7c19-13.5,31.6-35.5,37.6-65.3 c4.1-20.4,4.2-41.2,2.9-53.9c-0.7-7.2-3.3-15.6-6.6-26.3c-3.4-11-7.2-23.4-8.9-34.5c-0.6-3.8-0.8-6.8-0.8-9.2 c4.2,4.3,9.9,11.4,15.5,21.7c8.4,15.2,13.7,31.9,13.2,41.7c-0.8,15.9-1.1,38.7,1.7,57.2c1.6,10.2,3.9,18.3,7.2,24.8 c7.9,15.5,20,18.7,26.5,19.2c10.7,0.8,21.1-4.2,31.6-15.4c17.5-18.5,40.6-61.4,36.7-90.6l-0.1-0.7c-1.5-11.1-3.5-26.3-3.6-40.3 c-0.1-9.3,0.7-15.2,1.6-18.9c3.8,5.6,8.9,16.5,12.8,33.7c5,22,5,41.5,2.4,48.7c-1.7,4.9-3.5,9.9-5.3,14.7 c-9.5,26.3-18.6,51-18.6,74.7c0,16,7.1,29.9,18.9,37c6.9,4.2,21.6,9.6,42.4-1.2c19.3-10.1,28.8-35.5,39.9-65 c5.1-13.7,10.4-27.7,16.3-38.7c-0.7,13.5-3.3,31.8-9,52.9c-11.2,41-29.1,72.6-49.2,86.8c-12.9,9.1-64.8,27.2-102.7,40.3 c-45.5,15.9-74.2,26-87.2,33.9c-12,7.2-20.2,21.3-31.5,40.9c-10.4,18-23.2,40.1-41.3,59.7c-2.1-0.8-4.2-1.7-6.3-2.6 C324.6,810.4,297.3,793.7,272.8,773.1z M799.5,527.5c0,43.3-8.5,85.3-25.2,124.8c-16.1,38.2-39.3,72.5-68.7,101.9 c-29.4,29.5-63.7,52.6-101.9,68.7c-39.5,16.7-81.5,25.2-124.8,25.2c-25.1,0-49.8-2.8-73.8-8.5c14.5-18.5,25.3-37.2,34-52.2 c5.9-10.1,13.1-22.7,16.6-25.6c10.5-6.2,46.9-18.8,78.9-30c57.7-20.1,96.7-34.1,113.4-45.8c38.5-27.1,57.8-80.7,65.9-110.2 c9.1-33.1,16-80.4,5.8-104.9c-7.2-17.1-21.7-21-32-19.1c-34.2,6.2-49.5,47-62.9,82.9c-4.6,12.3-12,31.9-17.5,39.6 c1.3-15.4,8.3-34.8,15.8-55.2c1.8-4.9,3.6-9.9,5.4-15.1c10.9-30.8-0.9-101.9-27.3-129.7c-11.6-12.2-26.5-16.8-40.9-12.5 c-13.8,4.1-30.6,17.1-32.3,55.7c-0.9,19.4,2,40.6,3.9,54.7l0.1,0.7c0.7,5-2.1,17.2-9.9,32.2c-2.5,4.9-5,9.2-7.4,12.7 c-1-9.8-1.6-24-0.6-43.8c1.7-36-28.8-97.3-62.4-110.6c-15.3-6.1-30.6-2.4-41.1,9.8c-20.7,24.2-8.7,63.3,0.1,91.8 c2.1,6.7,4.7,15.1,4.9,17.9c1.5,15.4,0.7,63.1-22.7,79.8c-10,7.1-14.9,7.6-15.6,7.3c-0.1,0-7.2-3.3-14.1-30.7 c-4.7-18.6-3.9-35.8-3.3-50.9c0.5-11.8,0.9-22-1.3-31.5c-3.5-15-13.5-25.3-28-28.7c-17.3-4.1-34.3,2.1-46.6,17 c-24.7,29.9-33.2,101.9,6.4,189.2c5.7,12.6,20.7,56.4-25.9,93.3c-7,5.5-16.1,9.6-26.9,11.1c-22.7-25.8-40.9-54.8-54.3-86.5 c-16.7-39.5-25.2-81.5-25.2-124.8c0-43.3,8.5-85.3,25.2-124.8c16.1-38.2,39.3-72.5,68.7-101.9c29.4-29.5,63.7-52.6,101.9-68.7 c39.5-16.7,81.5-25.2,124.8-25.2c3.3,0,6.5,0,9.8,0.2c-9.2,10.7-12.3,16.8-12.8,17.7l31,32c0.1-0.2,16-27.5,35.6-40.6 c1.2-0.8,2.3-1.5,3.5-2.2c19.7,4.2,38.9,10.2,57.6,18.2c38.2,16.1,72.5,39.3,101.9,68.7c5.7,5.7,11.2,11.6,16.4,17.6 c-6.6,5.9-14.4,8.7-25.7,8.3c-19.5-0.8-23.7-9.4-32.3-30.6c-4.3-10.7-9.3-22.9-18.3-32.6c-11.6-12.4-27.2-18-46.3-16.7 c-32.7,2.3-47,27.4-56.5,43.9c-10.7,18.7-14.2,21.8-23.3,21.3c-9-0.5-16.1-10.6-26.9-27.1c-13.2-20.2-29.6-45.5-61.7-46.2 c-30.9-0.7-57,15-73.6,44.4c-11.2,20-14.5,39.6-14.8,41.8l42.6,6.6c0.1-0.5,8.1-49.7,43.8-49.7c0.3,0,0.6,0,0.9,0 c8.8,0.2,15.9,10.2,26.6,26.6c13,20,29.2,44.8,60.6,46.6c1.4,0.1,2.8,0.1,4.1,0.1c34.4,0,49.2-25.8,59.1-43.1 c9.6-16.8,13.7-21.8,22.1-22.3c10.5-0.7,12.9,0.7,21.6,22.4c4.7,11.5,9.9,24.6,20.1,35.7c12.5,13.6,29.4,21,50.5,21.8 c23.8,1,40.7-6.3,53.4-16.8c10.2,15.7,19,32.3,26.3,49.6C791,442.2,799.5,484.2,799.5,527.5z"})),w.createElement("circle",{cx:647.8,cy:950.2,r:43}),w.createElement("circle",{cx:815.6,cy:826.3,r:43}),w.createElement("circle",{cx:455.9,cy:958.2,r:43}))),w.createElement("g",{id:"vfx"},w.createElement("g",null,w.createElement("g",null,w.createElement("path",{d:"M540,921.4c215.5,0,390.1-173.5,390.1-387.6c0-204-158.6-371.1-360-386.4c20.4-46.2,21.5-92.6-9.1-141.6l-50.1,7 c39.4,39.3,30.7,97.7,7.5,134.1C313,158,149.9,327,149.9,533.8c0,197.6,148.9,360.7,341.3,384.5c-5.6,17.5-7.7,35.8-6.5,55.5 c1.9,30.2,6.8,62.8,25.1,99.9l55.4,0.4c-29.1-58.8-40.8-120-26-152.8H540z M542.5,192.3c45.6,0.3,89.9,9.4,131.6,26.9 c41,17.2,77.8,41.9,109.4,73.3c31.6,31.4,56.4,67.9,73.7,108.6c17.9,42,27,86.8,27,132.9s-9.1,90.8-27,132.9 c-17.3,40.7-42.1,77.2-73.7,108.6c-31.6,31.4-68.4,56.1-109.4,73.3c-31.4,13.2-64.2,21.6-98,25c17.6-16.2,39.2-31.8,63.1-49.1 c54.4-39.4,116.1-84,153.1-157.3c28.2-55.9,38.8-110.1,31.4-161c-6.5-45.1-27.5-87-60.8-121c-35.3-36.2-83.4-62.5-135.3-74.1 c-52.4-11.7-103.7-7.5-144.7,12c-37.2,17.7-66.3,41.2-86.5,69.9c-18.1,25.7-28.2,54.9-29.2,84.3c-1.7,46.7,19.3,88.1,54.6,108.1 c59.7,33.7,114.1,3.4,116.4,2.1l-0.8-1.4c0.8,0,1.7,0.1,2.5,0.1c28.8,0,52.2-23.4,52.2-52.2c0-8.7-2.1-16.8-5.9-24 c13.7-4.6,32.5-7.2,52.4,1.8c20.1,9.1,34,34,35.5,63.2c2.5,48.3-27.8,95.8-80.9,127c-62.1,36.4-160.5,23.8-224-28.9 c-37.7-31.3-93.9-102.8-47.8-231.2c23.3-64.9,80.1-115.5,135.1-164.3C488.6,248.9,519.4,221.6,542.5,192.3z M405.9,848.6 c-41-17.2-77.8-41.9-109.4-73.3c-31.6-31.4-56.4-67.9-73.7-108.6c-17.9-42.1-27-86.8-27-132.9s9.1-90.8,27-132.9 c17.3-40.7,42.1-77.2,73.7-108.6c31.6-31.4,68.4-56.1,109.4-73.3c22.2-9.3,45.1-16.2,68.6-20.7c-14.2,14-30.6,28.8-48.5,44.7 c-56.5,50.2-120.5,107.2-147.8,183.1c-21.5,59.8-25.7,115.9-12.5,166.6c11.7,45,37.4,84.9,74.2,115.5 c47.6,39.5,109.9,60.3,169.3,60.3c38.7,0,76.1-8.9,107.3-27.2c36.1-21.2,63.6-47.9,81.5-79.5c16-28.1,23.7-59.1,22.1-89.5 c-2.4-46.9-26.3-86.3-62.4-102.7c-55.9-25.5-105.4,3.8-117.4,11.9H540c-28.8,0-52.2,23.4-52.2,52.2c0,7.3,1.5,14.3,4.2,20.6 c-12.9,1.8-29.9,0.8-47.6-9.2c-20-11.3-32.3-37.4-31.3-66.4c0.8-21.9,11-77,89.5-114.3c66.2-31.5,168.2-7.8,227.4,52.8 c33.7,34.5,81.3,110.1,21.2,229.2c-32,63.4-86.4,102.7-139,140.8c-38,27.5-74.3,53.7-98.5,87.2 C476.4,871.7,440.3,863,405.9,848.6z"})),w.createElement("g",null,w.createElement("circle",{cx:650.7,cy:1009.4,r:52.2})),w.createElement("g",null,w.createElement("circle",{cx:386.7,cy:1009.4,r:52.2})),w.createElement("g",null,w.createElement("circle",{cx:435.7,cy:86.7,r:52.2})))));function ute({currentState:n,setCurrentState:e}){const[t,r]=w.useState(!1),[i,s]=w.useState(!1),[o,a]=w.useState(!1),[l,c]=w.useState(!1),[u,h]=w.useState(!1);let p={},m={},v={},x={},y={};y={color:"#ff001f",fontSize:"12.2px",fontWeight:"500",marginRight:"10px"};const g={color:"#ff001f",fontSize:"12.2px",fontWeight:"500",marginRight:"10px"},A={color:"#ff001f",fontSize:"12.2px",fontWeight:"500",marginRight:"10px"},_={color:"#007aff",fontSize:"12.2px",fontWeight:"500",marginRight:"10px"},M={color:"#ff001f",fontSize:"12.2px",fontWeight:"500",marginRight:"10px"},R={color:"#007aff",fontSize:"12.2px",fontWeight:"500",marginRight:"10px"},b={color:"#ff001f"},P={color:"#ff001f"},D={color:"#007aff"},V={color:"#ff001f"},T={color:"#007aff"},L={background:"radial-gradient(circle 800px at 100% 0%, #af121260 0%, #05050550 100%)"},G={background:"radial-gradient(circle 800px at 100% 0%, #af121260 0%, #05050550 100%)"},se={background:"radial-gradient(circle 800px at 100% 0%, #007aff90 0%, #05050550 100%)"},W={background:"radial-gradient(circle 800px at 100% 0%, #af121260 0%, #05050550 100%)"},te={background:"radial-gradient(circle 800px at 100% 0%, #007aff90 0%, #05050550 100%)"},re={background:"radial-gradient(circle 800px at 100% 0%, #af1212 0%, #FFFFFF50 100%)"},ue={background:"radial-gradient(circle 800px at 100% 0%, #af1212 10%, #FFFFFF50 100%)"},F={background:"radial-gradient(circle 800px at 100% 0%, #007aff90 20%, #FFFFFF50 100%)"},Y={background:"radial-gradient(circle 800px at 100% 0%, #af1212 30%, #FFFFFF50 100%)"},Q={background:"radial-gradient(circle 800px at 100% 0%, #007aff90 40%, #FFFFFF50 100%)"},fe={background:`radial-gradient(circle 800px at 96% 0%, #af121297 0%, #05050546 100%),
            url("data:image/svg+xml,%3Csvg viewBox='0 0 1000 1000' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' opacity='20%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`,filter:"contrast(170%) brightness(100%)"},xe={background:`radial-gradient(circle 800px at 96% 0%, #af121297 0%, #05050546 100%),
            url("data:image/svg+xml,%3Csvg viewBox='0 0 1000 1000' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' opacity='20%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`,filter:"contrast(170%) brightness(100%)"},Oe={background:`radial-gradient(circle 800px at 94% 0%, #007aff90 0%, #05050546 100%),
            url("data:image/svg+xml,%3Csvg viewBox='0 0 1000 1000' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' opacity='20%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`,filter:"contrast(170%) brightness(100%)"},X={background:`radial-gradient(circle 800px at 92% 0%, #af121297 0%, #05050546 100%),
            url("data:image/svg+xml,%3Csvg viewBox='0 0 1000 1000' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' opacity='20%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`,filter:"contrast(170%) brightness(100%)"},j={background:`radial-gradient(circle 800px at 90% 0%, #007aff90 0%, #05050546 100%),
            url("data:image/svg+xml,%3Csvg viewBox='0 0 1000 1000' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' opacity='20%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`,filter:"contrast(170%) brightness(100%)"};p={gradientNoneHover:{background:`radial-gradient(circle 800px at 94% 0%, #af121297 0%, #05050546 100%),
            url("data:image/svg+xml,%3Csvg viewBox='0 0 1000 1000' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' opacity='20%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`,filter:"contrast(170%) brightness(100%)"}};let z="Projects",ve="Explore select projects across multi-disciplinary fields including games, web design, motion graphics, and film.",be="+100XP",Ee=`Captivating visuals that enhance viewership and 
                    underline the professionalism of the show.`;return t?(y=g,x=b,v=L,m=re,p=fe,z="Freedom Visualization",ve=`From statistical data to 3D visualization, 
                    this project explores freedom trends across
                     the african continent over a decade.`):i?(y=A,x=P,v=G,m=ue,p=xe,z="LalaVoka Title Sequence",ve=`A title sequence for a show that documents the nightlife
                   and all kinds of events across Botswana.`):o?(y=_,x=D,v=se,m=F,p=Oe,z="TV News Intro",ve=`Inspired by the iconic BBC News intro sequence,
                    this sequence blends Botswana colors and native
                    elements, delivering a product fit for a national TV
                    station.`):l?(y=M,x=V,v=W,m=Y,p=X,z="Motion Lab Website",ve="Entrenched in motion and 3D, the official website for Basner Motion Lab."):u&&(y=R,x=T,v=te,m=Q,p=j,z="Basner's Raba",ve="A fun, casual cross-platform morabaraba inspired game."),n==="Projects"?N.jsx(N.Fragment,{children:N.jsxs("div",{style:p,className:"section",children:[N.jsxs("ul",{className:"section__header",children:[N.jsxs("li",{className:"section__header__title",children:[N.jsx("div",{className:"section__header__title__icon",children:N.jsx(wC,{})}),N.jsx("h1",{className:"section__header__title__text",children:z})]}),N.jsx("nav",{className:"section__header__nav",children:N.jsxs("ul",{className:"section__header__nav__container",children:[N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Contact"),console.log(n)},className:"section__header__nav__container__item",children:"Contact"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("About"),console.log(n)},className:"section__header__nav__container__item",children:"About"})}),N.jsx("li",{children:N.jsx("a",{style:y,onClick:()=>{e("Projects"),console.log(n)},className:"section__header__nav__container__item",children:"Projects"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Reel"),console.log(n)},className:"section__header__nav__container__item",children:"Reel"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Merch"),console.log(n)},className:"section__header__nav__container__item",children:"Merch"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Musings"),console.log(n)},className:"section__header__nav__container__item",children:"Musings"})})]})})]}),N.jsx("div",{style:m,className:"section__divider"}),N.jsxs("ul",{className:"section__body",children:[N.jsx("li",{className:"section__body__summary",children:N.jsx("p",{children:ve})}),N.jsx("li",{style:v,className:"section__body__highlight__container",children:N.jsx("div",{className:"section__body__highlight",children:N.jsxs("ul",{className:"section__body__highlight__content",children:[N.jsx("li",{style:x,className:"section__body__highlight__content__xp",children:be}),N.jsx("li",{className:"section__body__highlight__content__summary",children:Ee})]})})})]}),N.jsx("div",{className:"section__footer",children:N.jsxs("ul",{className:"section__footer__container",children:[N.jsx("li",{className:"section__footer__container__item",children:N.jsx(Pd,{src:"./images/freedom.jpg",ntitle:"Freedom Visualizer",bgColor:"0 0 30px rgba(255, 0, 0, 0.3)",hovered:t,hover:r})}),N.jsx("li",{className:"section__footer__container__item",children:N.jsx(Pd,{src:"./images/lalavoka.jpg",ntitle:"LalaVoka Title Sequence",bgColor:"0 0 30px rgba(255, 0, 0, 0.3)",hovered:i,hover:s})}),N.jsx("li",{className:"section__footer__container__item",children:N.jsx(Pd,{src:"./images/news.jpg",ntitle:"TV News Intro",bgColor:"0 0 30px rgba(0, 238, 255, 0.3)",hovered:o,hover:a})}),N.jsx("li",{className:"section__footer__container__item",children:N.jsx(Pd,{src:"./images/bml_site.jpg",ntitle:"Basner Motion Lab Site",bgColor:"0 0 30px rgba(255, 0, 0, 0.3)",hovered:l,hover:c})}),N.jsx("li",{className:"section__footer__container__item",children:N.jsx(Pd,{src:"./images/raba.jpg",ntitle:"Basner's Raba",bgColor:"0 0 30px rgba(0, 238, 255, 0.3)",hovered:u,hover:h})})]})})]})}):n==="Contact"?(z="Contact",N.jsx(N.Fragment,{children:N.jsxs("div",{style:p,className:"section",children:[N.jsxs("ul",{className:"section__header",children:[N.jsxs("li",{className:"section__header__title",children:[N.jsx("div",{className:"section__header__title__icon",children:N.jsx(SC,{})}),N.jsx("h1",{className:"section__header__title__text",children:z})]}),N.jsx("nav",{className:"section__header__nav",children:N.jsxs("ul",{className:"section__header__nav__container",children:[N.jsx("li",{children:N.jsx("a",{style:y,onClick:()=>{e("Contact"),console.log(n)},className:"section__header__nav__container__item",children:"Contact"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("About"),console.log(n)},className:"section__header__nav__container__item",children:"About"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Projects"),console.log(n)},className:"section__header__nav__container__item",children:"Projects"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Reel"),console.log(n)},className:"section__header__nav__container__item",children:"Reel"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Merch"),console.log(n)},className:"section__header__nav__container__item",children:"Merch"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Musings"),console.log(n)},className:"section__header__nav__container__item",children:"Musings"})})]})})]}),N.jsx("div",{style:m,className:"section__divider"})]})})):n==="About"?(z="About",N.jsx(N.Fragment,{children:N.jsxs("div",{style:p,className:"section",children:[N.jsxs("ul",{className:"section__header",children:[N.jsxs("li",{className:"section__header__title",children:[N.jsx("div",{className:"section__header__title__icon",children:N.jsx(ate,{})}),N.jsx("h1",{className:"section__header__title__text",children:z})]}),N.jsx("nav",{className:"section__header__nav",children:N.jsxs("ul",{className:"section__header__nav__container",children:[N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Contact"),console.log(n)},className:"section__header__nav__container__item",children:"Contact"})}),N.jsx("li",{children:N.jsx("a",{style:y,onClick:()=>{e("About"),console.log(n)},className:"section__header__nav__container__item",children:"About"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Projects"),console.log(n)},className:"section__header__nav__container__item",children:"Projects"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Reel"),console.log(n)},className:"section__header__nav__container__item",children:"Reel"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Merch"),console.log(n)},className:"section__header__nav__container__item",children:"Merch"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Musings"),console.log(n)},className:"section__header__nav__container__item",children:"Musings"})})]})})]}),N.jsx("div",{style:m,className:"section__divider"})]})})):n==="Reel"?(z="Reel",N.jsx(N.Fragment,{children:N.jsxs("div",{style:p,className:"section",children:[N.jsxs("ul",{className:"section__header",children:[N.jsxs("li",{className:"section__header__title",children:[N.jsx("div",{className:"section__header__title__icon",children:N.jsx(lte,{})}),N.jsx("h1",{className:"section__header__title__text",children:z})]}),N.jsx("nav",{className:"section__header__nav",children:N.jsxs("ul",{className:"section__header__nav__container",children:[N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Contact"),console.log(n)},className:"section__header__nav__container__item",children:"Contact"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("About"),console.log(n)},className:"section__header__nav__container__item",children:"About"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Projects"),console.log(n)},className:"section__header__nav__container__item",children:"Projects"})}),N.jsx("li",{children:N.jsx("a",{style:y,onClick:()=>{e("Reel"),console.log(n)},className:"section__header__nav__container__item",children:"Reel"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Merch"),console.log(n)},className:"section__header__nav__container__item",children:"Merch"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Musings"),console.log(n)},className:"section__header__nav__container__item",children:"Musings"})})]})})]}),N.jsx("div",{style:m,className:"section__divider"})]})})):n==="Merch"?(z="Merch",N.jsx(N.Fragment,{children:N.jsxs("div",{style:p,className:"section",children:[N.jsxs("ul",{className:"section__header",children:[N.jsxs("li",{className:"section__header__title",children:[N.jsx("div",{className:"section__header__title__icon",children:N.jsx(cte,{})}),N.jsx("h1",{className:"section__header__title__text",children:z})]}),N.jsx("nav",{className:"section__header__nav",children:N.jsxs("ul",{className:"section__header__nav__container",children:[N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Contact"),console.log(n)},className:"section__header__nav__container__item",children:"Contact"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("About"),console.log(n)},className:"section__header__nav__container__item",children:"About"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Projects"),console.log(n)},className:"section__header__nav__container__item",children:"Projects"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Reel"),console.log(n)},className:"section__header__nav__container__item",children:"Reel"})}),N.jsx("li",{children:N.jsx("a",{style:y,onClick:()=>{e("Merch"),console.log(n)},className:"section__header__nav__container__item",children:"Merch"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Musings"),console.log(n)},className:"section__header__nav__container__item",children:"Musings"})})]})})]}),N.jsx("div",{style:m,className:"section__divider"})]})})):n==="Musings"?(z="Musings",N.jsx(N.Fragment,{children:N.jsxs("div",{style:p,className:"section",children:[N.jsxs("ul",{className:"section__header",children:[N.jsxs("li",{className:"section__header__title",children:[N.jsx("div",{className:"section__header__title__icon",children:N.jsx(SC,{})}),N.jsx("h1",{className:"section__header__title__text",children:z})]}),N.jsx("nav",{className:"section__header__nav",children:N.jsxs("ul",{className:"section__header__nav__container",children:[N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Contact"),console.log(n)},className:"section__header__nav__container__item",children:"Contact"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("About"),console.log(n)},className:"section__header__nav__container__item",children:"About"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Projects"),console.log(n)},className:"section__header__nav__container__item",children:"Projects"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Reel"),console.log(n)},className:"section__header__nav__container__item",children:"Reel"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Merch"),console.log(n)},className:"section__header__nav__container__item",children:"Merch"})}),N.jsx("li",{children:N.jsx("a",{style:y,onClick:()=>{e("Musings"),console.log(n)},className:"section__header__nav__container__item",children:"Musings"})})]})})]}),N.jsx("div",{style:m,className:"section__divider"})]})})):N.jsx(N.Fragment,{children:N.jsxs("div",{style:p,className:"section",children:[N.jsxs("ul",{className:"section__header",children:[N.jsxs("li",{className:"section__header__title",children:[N.jsx("div",{className:"section__header__title__icon",children:N.jsx(wC,{})}),N.jsx("h1",{className:"section__header__title__text",children:z})]}),N.jsx("nav",{className:"section__header__nav",children:N.jsxs("ul",{className:"section__header__nav__container",children:[N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Contact"),console.log(n)},className:"section__header__nav__container__item",children:"Contact"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("About"),console.log(n)},className:"section__header__nav__container__item",children:"About"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Projects"),console.log(n)},className:"section__header__nav__container__item",children:"Projects"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Reel"),console.log(n)},className:"section__header__nav__container__item",children:"Reel"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Merch"),console.log(n)},className:"section__header__nav__container__item",children:"Merch"})}),N.jsx("li",{children:N.jsx("a",{onClick:()=>{e("Musings"),console.log(n)},className:"section__header__nav__container__item",children:"Musings"})})]})})]}),N.jsx("div",{style:m,className:"section__divider"})]})})}function Pd({src:n,ntitle:e,bgColor:t,hovered:r,hover:i,...s}){const o=w.useRef(),[a,l]=w.useState(""),[c,u]=w.useState("0 0 0 #FFFFFF"),h=()=>{l(e),u(t)},p=()=>{l("")},m={marginTop:-20,transform:"scale(1.1, 1.1)",filter:"contrast(0.7) saturate(1)",transition:"0.5s ease-in-out",boxShadow:t},v={marginTop:0,transition:"0.5s ease-in-out"},x={width:"50px",filter:"saturate(1)",transition:"0.4s ease-in-out"},y={backgroundColor:"#007aff",transition:"0.5s ease-in-out"},g={position:"absolute",borderRadius:"5px",transform:"translate(0px, -80px)",width:"max-content",height:"30px",backgroundColor:"#2b323b",transition:"0.5s ease-in-out"},A={position:"absolute",width:"max-content",height:"30px",backgroundColor:"#2b323b00",transform:"translate(0px, -50px)"},_={position:"absolute",backgroundColor:"#2b323b",transform:"translate(30px, 2px) rotate(45deg)",width:"10px",height:"10px",transition:"0.5s ease-in-out"},M={backgroundColor:"#2b323b00",position:"absolute",transform:"translate(30px, 2px) rotate(45deg)"};return Gi((R,b)=>{}),N.jsxs(N.Fragment,{children:[N.jsxs("div",{style:r?g:A,className:"tooltip",children:[N.jsx("p",{style:{color:"#ffffff65",fontWeight:"300",fontSize:"14px",paddingTop:"4px",paddingRight:"10px",paddingLeft:"10px",textAlign:"center"},children:a}),N.jsx("div",{style:r?_:M,className:"tooltipArrow"})]}),N.jsx("img",{ref:o,style:r?m:v,onPointerOver:()=>{i(!0),h()},onPointerOut:()=>{i(!1),p()},className:"section__footer__container__item__image",src:n}),N.jsx("span",{style:r?x:y,className:"section__footer__container__item__podium"})]})}function fte(){const[n,e]=w.useState("Projects");return N.jsx(N.Fragment,{children:N.jsxs("div",{className:"sectionBody",children:[N.jsx("img",{className:"tentacle",src:"./images/redtentancle.png"}),N.jsx(ute,{currentState:n,setCurrentState:e}),N.jsx("p",{className:"copyright",children:"©2024 Basner Motion Lab"})]})})}const dte=n=>w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:560,height:560,viewBox:"0 0 560 560",...n},w.createElement("path",{d:"M379.47,41.75h0Z"}),w.createElement("path",{d:"M517.49,353.13c-16.92-81.41-87.95-111.82-111.83-117.22,13.79-26.28,23.95-49.64,29.46-63a8.44,8.44,0,0,0-8-11.65c-20,.37-60.75,1.19-101.14,2.48a3,3,0,0,1-2.74-4.34c7.29-13.91,14.63-31.63,25.7-68.52,12.89-43,16.1-70.55,7-76.84-11.77-8.13-41.86,13.37-66,32.72s-17.25,25.85-17.25,25.85,19.58,20,26,42.57c4.47,15.68,4.55,34.28,4.17,44.19a5.73,5.73,0,0,1-5.39,5.51c-42,2.44-85.75,9.26-106.49,12.78a11.14,11.14,0,0,0-8.65,14.65c4.67,13.35,15.13,38.86,38.26,83.19a350.56,350.56,0,0,0,61.54,84.84,5,5,0,0,1,.7,6.22c-13.26,20.84-38.86,43.63-86.19,37-77.29-10.88-85.36-81.94-83.59-109.15a6.8,6.8,0,0,0-6-7.19c-22.08-2.57-51.88,14.21-64.22,21.93a9.05,9.05,0,0,0-3.87,10.32c8.51,27.84,48.76,134.47,165.82,134.47,117.69,0,186.78-191.89,187.47-193.61h0c21.44,9,74.5,29.18,72.89,111.4-1.13,57.5-54.36,99.58-78.45,110a14.83,14.83,0,0,0-8.84,15.5c1.14,8.88,4.25,21,12.53,30.09,8.79,9.63,21.66,15.81,30.61,19.22a19.5,19.5,0,0,0,18.83-2.73C465.22,524.28,539.34,458.25,517.49,353.13ZM303.31,61.89c11-13.08,31.08-27.13,38.78-30.62a1.93,1.93,0,0,1,2.69,2.16L341,54.17a5.31,5.31,0,0,1-3,3.67L317.7,67.26c-2.41,1.22-2,4.08-.87,6.52l12.49,18.27a6.74,6.74,0,0,1,.54,5.51l-4.24,11.62a2.33,2.33,0,0,1-4.44-.12c-3-10.6-9.14-28.82-18.12-42A4.26,4.26,0,0,1,303.31,61.89ZM403.69,187.94l-21.44,37.35a7.55,7.55,0,0,1-7.67,3.71c-11.16-1.64-35.33-3.54-51-.41-20.15,4-29.34,10.53-32.28,15.92-3.34,6.11.89,13.13,3.67,16.73a3.79,3.79,0,0,0,5.06.86c6.52-4.23,19.18-12.37,35.57-13.76,14.16-1.19,20.62,2.6,24.52,3.38a2.63,2.63,0,0,1,1.76,3.88c-5.81,10.1-24.58,42-45.85,59.23a9.72,9.72,0,0,1-11.82.28c-31-22.41-41.7-29.52-60-53.87-15.19-20.25-24.41-48.45-27.68-59.64a4.51,4.51,0,0,1,3.56-5.7c13.79-2.35,54.18-9,88.8-11.91,34.82-3,78.91-.81,92.63,0A2.65,2.65,0,0,1,403.69,187.94Z",fill:"currentColor"}));function hte(){const n={color:"#ffffff45"};return w.useState(n),N.jsx(N.Fragment,{children:N.jsx("nav",{className:"navMenu",children:N.jsxs("ul",{className:"navMenu_container",children:[N.jsx("div",{className:"navMenu__icon",children:N.jsx("li",{children:N.jsx("a",{href:"",children:N.jsx(dte,{className:"navMenu__icon__logo"})})})}),N.jsx("li",{children:N.jsx("a",{className:"navMenu__button",href:"",children:"Projects"})}),N.jsx("li",{children:N.jsx("a",{className:"navMenu__button",href:"",children:"Reel"})}),N.jsx("li",{children:N.jsx("a",{className:"navMenu__button",href:"",children:"Merch"})}),N.jsx("li",{children:N.jsx("a",{className:"navMenu__button",href:"",children:"Musings"})}),N.jsx("li",{children:N.jsx("a",{className:"navMenu__button",href:"",children:"About"})}),N.jsx("li",{children:N.jsx("a",{className:"navMenu__button",href:"",children:"Contact"})})]})})})}function pte(){return N.jsx(N.Fragment,{children:N.jsxs("div",{className:"html_body",children:[N.jsx(hte,{}),N.jsx(fte,{})]})})}const mte=un;class $m extends Sr{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,t,r,i){const s=this,o=new Ei(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(a))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this;function r(X,j){if(X.nodeType!==1)return;const H=M(X);let z=!1,ve=null;switch(X.nodeName){case"svg":j=v(X,j);break;case"style":s(X);break;case"g":j=v(X,j);break;case"path":j=v(X,j),X.hasAttribute("d")&&(ve=i(X));break;case"rect":j=v(X,j),ve=l(X);break;case"polygon":j=v(X,j),ve=c(X);break;case"polyline":j=v(X,j),ve=u(X);break;case"circle":j=v(X,j),ve=h(X);break;case"ellipse":j=v(X,j),ve=p(X);break;case"line":j=v(X,j),ve=m(X);break;case"defs":z=!0;break;case"use":j=v(X,j);const Te=(X.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),J=X.viewportElement.getElementById(Te);J?r(J,j):console.warn("SVGLoader: 'use node' references non-existent node id: "+Te);break}ve&&(j.fill!==void 0&&j.fill!=="none"&&ve.color.setStyle(j.fill,mte),b(ve,fe),G.push(ve),ve.userData={node:X,style:j});const be=X.childNodes;for(let Ee=0;Ee<be.length;Ee++){const Te=be[Ee];z&&Te.nodeName!=="style"&&Te.nodeName!=="defs"||r(Te,j)}H&&(W.pop(),W.length>0?fe.copy(W[W.length-1]):fe.identity())}function i(X){const j=new xa,H=new Ce,z=new Ce,ve=new Ce;let be=!0,Ee=!1;const Te=X.getAttribute("d");if(Te===""||Te==="none")return null;const J=Te.match(/[a-df-z][^a-df-z]*/ig);for(let Ae=0,ae=J.length;Ae<ae;Ae++){const me=J[Ae],ye=me.charAt(0),De=me.slice(1).trim();be===!0&&(Ee=!0,be=!1);let oe;switch(ye){case"M":oe=y(De);for(let I=0,k=oe.length;I<k;I+=2)H.x=oe[I+0],H.y=oe[I+1],z.x=H.x,z.y=H.y,I===0?j.moveTo(H.x,H.y):j.lineTo(H.x,H.y),I===0&&ve.copy(H);break;case"H":oe=y(De);for(let I=0,k=oe.length;I<k;I++)H.x=oe[I],z.x=H.x,z.y=H.y,j.lineTo(H.x,H.y),I===0&&Ee===!0&&ve.copy(H);break;case"V":oe=y(De);for(let I=0,k=oe.length;I<k;I++)H.y=oe[I],z.x=H.x,z.y=H.y,j.lineTo(H.x,H.y),I===0&&Ee===!0&&ve.copy(H);break;case"L":oe=y(De);for(let I=0,k=oe.length;I<k;I+=2)H.x=oe[I+0],H.y=oe[I+1],z.x=H.x,z.y=H.y,j.lineTo(H.x,H.y),I===0&&Ee===!0&&ve.copy(H);break;case"C":oe=y(De);for(let I=0,k=oe.length;I<k;I+=6)j.bezierCurveTo(oe[I+0],oe[I+1],oe[I+2],oe[I+3],oe[I+4],oe[I+5]),z.x=oe[I+2],z.y=oe[I+3],H.x=oe[I+4],H.y=oe[I+5],I===0&&Ee===!0&&ve.copy(H);break;case"S":oe=y(De);for(let I=0,k=oe.length;I<k;I+=4)j.bezierCurveTo(x(H.x,z.x),x(H.y,z.y),oe[I+0],oe[I+1],oe[I+2],oe[I+3]),z.x=oe[I+0],z.y=oe[I+1],H.x=oe[I+2],H.y=oe[I+3],I===0&&Ee===!0&&ve.copy(H);break;case"Q":oe=y(De);for(let I=0,k=oe.length;I<k;I+=4)j.quadraticCurveTo(oe[I+0],oe[I+1],oe[I+2],oe[I+3]),z.x=oe[I+0],z.y=oe[I+1],H.x=oe[I+2],H.y=oe[I+3],I===0&&Ee===!0&&ve.copy(H);break;case"T":oe=y(De);for(let I=0,k=oe.length;I<k;I+=2){const he=x(H.x,z.x),Ne=x(H.y,z.y);j.quadraticCurveTo(he,Ne,oe[I+0],oe[I+1]),z.x=he,z.y=Ne,H.x=oe[I+0],H.y=oe[I+1],I===0&&Ee===!0&&ve.copy(H)}break;case"A":oe=y(De,[3,4],7);for(let I=0,k=oe.length;I<k;I+=7){if(oe[I+5]==H.x&&oe[I+6]==H.y)continue;const he=H.clone();H.x=oe[I+5],H.y=oe[I+6],z.x=H.x,z.y=H.y,o(j,oe[I],oe[I+1],oe[I+2],oe[I+3],oe[I+4],he,H),I===0&&Ee===!0&&ve.copy(H)}break;case"m":oe=y(De);for(let I=0,k=oe.length;I<k;I+=2)H.x+=oe[I+0],H.y+=oe[I+1],z.x=H.x,z.y=H.y,I===0?j.moveTo(H.x,H.y):j.lineTo(H.x,H.y),I===0&&ve.copy(H);break;case"h":oe=y(De);for(let I=0,k=oe.length;I<k;I++)H.x+=oe[I],z.x=H.x,z.y=H.y,j.lineTo(H.x,H.y),I===0&&Ee===!0&&ve.copy(H);break;case"v":oe=y(De);for(let I=0,k=oe.length;I<k;I++)H.y+=oe[I],z.x=H.x,z.y=H.y,j.lineTo(H.x,H.y),I===0&&Ee===!0&&ve.copy(H);break;case"l":oe=y(De);for(let I=0,k=oe.length;I<k;I+=2)H.x+=oe[I+0],H.y+=oe[I+1],z.x=H.x,z.y=H.y,j.lineTo(H.x,H.y),I===0&&Ee===!0&&ve.copy(H);break;case"c":oe=y(De);for(let I=0,k=oe.length;I<k;I+=6)j.bezierCurveTo(H.x+oe[I+0],H.y+oe[I+1],H.x+oe[I+2],H.y+oe[I+3],H.x+oe[I+4],H.y+oe[I+5]),z.x=H.x+oe[I+2],z.y=H.y+oe[I+3],H.x+=oe[I+4],H.y+=oe[I+5],I===0&&Ee===!0&&ve.copy(H);break;case"s":oe=y(De);for(let I=0,k=oe.length;I<k;I+=4)j.bezierCurveTo(x(H.x,z.x),x(H.y,z.y),H.x+oe[I+0],H.y+oe[I+1],H.x+oe[I+2],H.y+oe[I+3]),z.x=H.x+oe[I+0],z.y=H.y+oe[I+1],H.x+=oe[I+2],H.y+=oe[I+3],I===0&&Ee===!0&&ve.copy(H);break;case"q":oe=y(De);for(let I=0,k=oe.length;I<k;I+=4)j.quadraticCurveTo(H.x+oe[I+0],H.y+oe[I+1],H.x+oe[I+2],H.y+oe[I+3]),z.x=H.x+oe[I+0],z.y=H.y+oe[I+1],H.x+=oe[I+2],H.y+=oe[I+3],I===0&&Ee===!0&&ve.copy(H);break;case"t":oe=y(De);for(let I=0,k=oe.length;I<k;I+=2){const he=x(H.x,z.x),Ne=x(H.y,z.y);j.quadraticCurveTo(he,Ne,H.x+oe[I+0],H.y+oe[I+1]),z.x=he,z.y=Ne,H.x=H.x+oe[I+0],H.y=H.y+oe[I+1],I===0&&Ee===!0&&ve.copy(H)}break;case"a":oe=y(De,[3,4],7);for(let I=0,k=oe.length;I<k;I+=7){if(oe[I+5]==0&&oe[I+6]==0)continue;const he=H.clone();H.x+=oe[I+5],H.y+=oe[I+6],z.x=H.x,z.y=H.y,o(j,oe[I],oe[I+1],oe[I+2],oe[I+3],oe[I+4],he,H),I===0&&Ee===!0&&ve.copy(H)}break;case"Z":case"z":j.currentPath.autoClose=!0,j.currentPath.curves.length>0&&(H.copy(ve),j.currentPath.currentPoint.copy(H),be=!0);break;default:console.warn(me)}Ee=!1}return j}function s(X){if(!(!X.sheet||!X.sheet.cssRules||!X.sheet.cssRules.length))for(let j=0;j<X.sheet.cssRules.length;j++){const H=X.sheet.cssRules[j];if(H.type!==1)continue;const z=H.selectorText.split(/,/gm).filter(Boolean).map(ve=>ve.trim());for(let ve=0;ve<z.length;ve++){const be=Object.fromEntries(Object.entries(H.style).filter(([,Ee])=>Ee!==""));se[z[ve]]=Object.assign(se[z[ve]]||{},be)}}}function o(X,j,H,z,ve,be,Ee,Te){if(j==0||H==0){X.lineTo(Te.x,Te.y);return}z=z*Math.PI/180,j=Math.abs(j),H=Math.abs(H);const J=(Ee.x-Te.x)/2,Ae=(Ee.y-Te.y)/2,ae=Math.cos(z)*J+Math.sin(z)*Ae,me=-Math.sin(z)*J+Math.cos(z)*Ae;let ye=j*j,De=H*H;const oe=ae*ae,I=me*me,k=oe/ye+I/De;if(k>1){const Fe=Math.sqrt(k);j=Fe*j,H=Fe*H,ye=j*j,De=H*H}const he=ye*I+De*oe,Ne=(ye*De-he)/he;let ge=Math.sqrt(Math.max(0,Ne));ve===be&&(ge=-ge);const we=ge*j*me/H,Ge=-ge*H*ae/j,Ue=Math.cos(z)*we-Math.sin(z)*Ge+(Ee.x+Te.x)/2,Je=Math.sin(z)*we+Math.cos(z)*Ge+(Ee.y+Te.y)/2,st=a(1,0,(ae-we)/j,(me-Ge)/H),ut=a((ae-we)/j,(me-Ge)/H,(-ae-we)/j,(-me-Ge)/H)%(Math.PI*2);X.currentPath.absellipse(Ue,Je,j,H,st,st+ut,be===0,z)}function a(X,j,H,z){const ve=X*H+j*z,be=Math.sqrt(X*X+j*j)*Math.sqrt(H*H+z*z);let Ee=Math.acos(Math.max(-1,Math.min(1,ve/be)));return X*z-j*H<0&&(Ee=-Ee),Ee}function l(X){const j=_(X.getAttribute("x")||0),H=_(X.getAttribute("y")||0),z=_(X.getAttribute("rx")||X.getAttribute("ry")||0),ve=_(X.getAttribute("ry")||X.getAttribute("rx")||0),be=_(X.getAttribute("width")),Ee=_(X.getAttribute("height")),Te=1-.551915024494,J=new xa;return J.moveTo(j+z,H),J.lineTo(j+be-z,H),(z!==0||ve!==0)&&J.bezierCurveTo(j+be-z*Te,H,j+be,H+ve*Te,j+be,H+ve),J.lineTo(j+be,H+Ee-ve),(z!==0||ve!==0)&&J.bezierCurveTo(j+be,H+Ee-ve*Te,j+be-z*Te,H+Ee,j+be-z,H+Ee),J.lineTo(j+z,H+Ee),(z!==0||ve!==0)&&J.bezierCurveTo(j+z*Te,H+Ee,j,H+Ee-ve*Te,j,H+Ee-ve),J.lineTo(j,H+ve),(z!==0||ve!==0)&&J.bezierCurveTo(j,H+ve*Te,j+z*Te,H,j+z,H),J}function c(X){function j(be,Ee,Te){const J=_(Ee),Ae=_(Te);ve===0?z.moveTo(J,Ae):z.lineTo(J,Ae),ve++}const H=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,z=new xa;let ve=0;return X.getAttribute("points").replace(H,j),z.currentPath.autoClose=!0,z}function u(X){function j(be,Ee,Te){const J=_(Ee),Ae=_(Te);ve===0?z.moveTo(J,Ae):z.lineTo(J,Ae),ve++}const H=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,z=new xa;let ve=0;return X.getAttribute("points").replace(H,j),z.currentPath.autoClose=!1,z}function h(X){const j=_(X.getAttribute("cx")||0),H=_(X.getAttribute("cy")||0),z=_(X.getAttribute("r")||0),ve=new Wa;ve.absarc(j,H,z,0,Math.PI*2);const be=new xa;return be.subPaths.push(ve),be}function p(X){const j=_(X.getAttribute("cx")||0),H=_(X.getAttribute("cy")||0),z=_(X.getAttribute("rx")||0),ve=_(X.getAttribute("ry")||0),be=new Wa;be.absellipse(j,H,z,ve,0,Math.PI*2);const Ee=new xa;return Ee.subPaths.push(be),Ee}function m(X){const j=_(X.getAttribute("x1")||0),H=_(X.getAttribute("y1")||0),z=_(X.getAttribute("x2")||0),ve=_(X.getAttribute("y2")||0),be=new xa;return be.moveTo(j,H),be.lineTo(z,ve),be.currentPath.autoClose=!1,be}function v(X,j){j=Object.assign({},j);let H={};if(X.hasAttribute("class")){const Ee=X.getAttribute("class").split(/\s/).filter(Boolean).map(Te=>Te.trim());for(let Te=0;Te<Ee.length;Te++)H=Object.assign(H,se["."+Ee[Te]])}X.hasAttribute("id")&&(H=Object.assign(H,se["#"+X.getAttribute("id")]));function z(Ee,Te,J){J===void 0&&(J=function(ae){return ae.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),ae}),X.hasAttribute(Ee)&&(j[Te]=J(X.getAttribute(Ee))),H[Ee]&&(j[Te]=J(H[Ee])),X.style&&X.style[Ee]!==""&&(j[Te]=J(X.style[Ee]))}function ve(Ee){return Math.max(0,Math.min(1,_(Ee)))}function be(Ee){return Math.max(0,_(Ee))}return z("fill","fill"),z("fill-opacity","fillOpacity",ve),z("fill-rule","fillRule"),z("opacity","opacity",ve),z("stroke","stroke"),z("stroke-opacity","strokeOpacity",ve),z("stroke-width","strokeWidth",be),z("stroke-linejoin","strokeLineJoin"),z("stroke-linecap","strokeLineCap"),z("stroke-miterlimit","strokeMiterLimit",be),z("visibility","visibility"),j}function x(X,j){return X-(j-X)}function y(X,j,H){if(typeof X!="string")throw new TypeError("Invalid input: "+typeof X);const z={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},ve=0,be=1,Ee=2,Te=3;let J=ve,Ae=!0,ae="",me="";const ye=[];function De(he,Ne,ge){const we=new SyntaxError('Unexpected character "'+he+'" at index '+Ne+".");throw we.partial=ge,we}function oe(){ae!==""&&(me===""?ye.push(Number(ae)):ye.push(Number(ae)*Math.pow(10,Number(me)))),ae="",me=""}let I;const k=X.length;for(let he=0;he<k;he++){if(I=X[he],Array.isArray(j)&&j.includes(ye.length%H)&&z.FLAGS.test(I)){J=be,ae=I,oe();continue}if(J===ve){if(z.WHITESPACE.test(I))continue;if(z.DIGIT.test(I)||z.SIGN.test(I)){J=be,ae=I;continue}if(z.POINT.test(I)){J=Ee,ae=I;continue}z.COMMA.test(I)&&(Ae&&De(I,he,ye),Ae=!0)}if(J===be){if(z.DIGIT.test(I)){ae+=I;continue}if(z.POINT.test(I)){ae+=I,J=Ee;continue}if(z.EXP.test(I)){J=Te;continue}z.SIGN.test(I)&&ae.length===1&&z.SIGN.test(ae[0])&&De(I,he,ye)}if(J===Ee){if(z.DIGIT.test(I)){ae+=I;continue}if(z.EXP.test(I)){J=Te;continue}z.POINT.test(I)&&ae[ae.length-1]==="."&&De(I,he,ye)}if(J===Te){if(z.DIGIT.test(I)){me+=I;continue}if(z.SIGN.test(I)){if(me===""){me+=I;continue}me.length===1&&z.SIGN.test(me)&&De(I,he,ye)}}z.WHITESPACE.test(I)?(oe(),J=ve,Ae=!1):z.COMMA.test(I)?(oe(),J=ve,Ae=!0):z.SIGN.test(I)?(oe(),J=be,ae=I):z.POINT.test(I)?(oe(),J=Ee,ae=I):De(I,he,ye)}return oe(),ye}const g=["mm","cm","in","pt","pc","px"],A={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function _(X){let j="px";if(typeof X=="string"||X instanceof String)for(let z=0,ve=g.length;z<ve;z++){const be=g[z];if(X.endsWith(be)){j=be,X=X.substring(0,X.length-be.length);break}}let H;return j==="px"&&t.defaultUnit!=="px"?H=A.in[t.defaultUnit]/t.defaultDPI:(H=A[j][t.defaultUnit],H<0&&(H=A[j].in*t.defaultDPI)),H*parseFloat(X)}function M(X){if(!(X.hasAttribute("transform")||X.nodeName==="use"&&(X.hasAttribute("x")||X.hasAttribute("y"))))return null;const j=R(X);return W.length>0&&j.premultiply(W[W.length-1]),fe.copy(j),W.push(j),j}function R(X){const j=new Tt,H=te;if(X.nodeName==="use"&&(X.hasAttribute("x")||X.hasAttribute("y"))){const z=_(X.getAttribute("x")),ve=_(X.getAttribute("y"));j.translate(z,ve)}if(X.hasAttribute("transform")){const z=X.getAttribute("transform").split(")");for(let ve=z.length-1;ve>=0;ve--){const be=z[ve].trim();if(be==="")continue;const Ee=be.indexOf("("),Te=be.length;if(Ee>0&&Ee<Te){const J=be.slice(0,Ee),Ae=y(be.slice(Ee+1));switch(H.identity(),J){case"translate":if(Ae.length>=1){const ae=Ae[0];let me=0;Ae.length>=2&&(me=Ae[1]),H.translate(ae,me)}break;case"rotate":if(Ae.length>=1){let ae=0,me=0,ye=0;ae=Ae[0]*Math.PI/180,Ae.length>=3&&(me=Ae[1],ye=Ae[2]),re.makeTranslation(-me,-ye),ue.makeRotation(ae),F.multiplyMatrices(ue,re),re.makeTranslation(me,ye),H.multiplyMatrices(re,F)}break;case"scale":if(Ae.length>=1){const ae=Ae[0];let me=ae;Ae.length>=2&&(me=Ae[1]),H.scale(ae,me)}break;case"skewX":Ae.length===1&&H.set(1,Math.tan(Ae[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":Ae.length===1&&H.set(1,0,0,Math.tan(Ae[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":Ae.length===6&&H.set(Ae[0],Ae[2],Ae[4],Ae[1],Ae[3],Ae[5],0,0,1);break}}j.premultiply(H)}}return j}function b(X,j){function H(Ee){Q.set(Ee.x,Ee.y,1).applyMatrix3(j),Ee.set(Q.x,Q.y)}function z(Ee){const Te=Ee.xRadius,J=Ee.yRadius,Ae=Math.cos(Ee.aRotation),ae=Math.sin(Ee.aRotation),me=new Z(Te*Ae,Te*ae,0),ye=new Z(-J*ae,J*Ae,0),De=me.applyMatrix3(j),oe=ye.applyMatrix3(j),I=te.set(De.x,oe.x,0,De.y,oe.y,0,0,0,1),k=re.copy(I).invert(),ge=ue.copy(k).transpose().multiply(k).elements,we=L(ge[0],ge[1],ge[4]),Ge=Math.sqrt(we.rt1),Ue=Math.sqrt(we.rt2);if(Ee.xRadius=1/Ge,Ee.yRadius=1/Ue,Ee.aRotation=Math.atan2(we.sn,we.cs),!((Ee.aEndAngle-Ee.aStartAngle)%(2*Math.PI)<Number.EPSILON)){const st=re.set(Ge,0,0,0,Ue,0,0,0,1),ut=ue.set(we.cs,we.sn,0,-we.sn,we.cs,0,0,0,1),Fe=st.multiply(ut).multiply(I),Dt=St=>{const{x:ft,y:Ze}=new Z(Math.cos(St),Math.sin(St),0).applyMatrix3(Fe);return Math.atan2(Ze,ft)};Ee.aStartAngle=Dt(Ee.aStartAngle),Ee.aEndAngle=Dt(Ee.aEndAngle),P(j)&&(Ee.aClockwise=!Ee.aClockwise)}}function ve(Ee){const Te=V(j),J=T(j);Ee.xRadius*=Te,Ee.yRadius*=J;const Ae=Te>Number.EPSILON?Math.atan2(j.elements[1],j.elements[0]):Math.atan2(-j.elements[3],j.elements[4]);Ee.aRotation+=Ae,P(j)&&(Ee.aStartAngle*=-1,Ee.aEndAngle*=-1,Ee.aClockwise=!Ee.aClockwise)}const be=X.subPaths;for(let Ee=0,Te=be.length;Ee<Te;Ee++){const Ae=be[Ee].curves;for(let ae=0;ae<Ae.length;ae++){const me=Ae[ae];me.isLineCurve?(H(me.v1),H(me.v2)):me.isCubicBezierCurve?(H(me.v0),H(me.v1),H(me.v2),H(me.v3)):me.isQuadraticBezierCurve?(H(me.v0),H(me.v1),H(me.v2)):me.isEllipseCurve&&(Y.set(me.aX,me.aY),H(Y),me.aX=Y.x,me.aY=Y.y,D(j)?z(me):ve(me))}}}function P(X){const j=X.elements;return j[0]*j[4]-j[1]*j[3]<0}function D(X){const j=X.elements,H=j[0]*j[3]+j[1]*j[4];if(H===0)return!1;const z=V(X),ve=T(X);return Math.abs(H/(z*ve))>Number.EPSILON}function V(X){const j=X.elements;return Math.sqrt(j[0]*j[0]+j[1]*j[1])}function T(X){const j=X.elements;return Math.sqrt(j[3]*j[3]+j[4]*j[4])}function L(X,j,H){let z,ve,be,Ee,Te;const J=X+H,Ae=X-H,ae=Math.sqrt(Ae*Ae+4*j*j);return J>0?(z=.5*(J+ae),Te=1/z,ve=X*Te*H-j*Te*j):J<0?ve=.5*(J-ae):(z=.5*ae,ve=-.5*ae),Ae>0?be=Ae+ae:be=Ae-ae,Math.abs(be)>2*Math.abs(j)?(Te=-2*j/be,Ee=1/Math.sqrt(1+Te*Te),be=Te*Ee):Math.abs(j)===0?(be=1,Ee=0):(Te=-.5*be/j,be=1/Math.sqrt(1+Te*Te),Ee=Te*be),Ae>0&&(Te=be,be=-Ee,Ee=Te),{rt1:z,rt2:ve,cs:be,sn:Ee}}const G=[],se={},W=[],te=new Tt,re=new Tt,ue=new Tt,F=new Tt,Y=new Ce,Q=new Z,fe=new Tt,xe=new DOMParser().parseFromString(e,"image/svg+xml");return r(xe.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:G,xml:xe.documentElement}}static createShapes(e){const r={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},i={loc:r.ORIGIN,t:0};function s(x,y,g,A){const _=x.x,M=y.x,R=g.x,b=A.x,P=x.y,D=y.y,V=g.y,T=A.y,L=(b-R)*(P-V)-(T-V)*(_-R),G=(M-_)*(P-V)-(D-P)*(_-R),se=(T-V)*(M-_)-(b-R)*(D-P),W=L/se,te=G/se;if(se===0&&L!==0||W<=0||W>=1||te<0||te>1)return null;if(L===0&&se===0){for(let re=0;re<2;re++)if(o(re===0?g:A,x,y),i.loc==r.ORIGIN){const ue=re===0?g:A;return{x:ue.x,y:ue.y,t:i.t}}else if(i.loc==r.BETWEEN){const ue=+(_+i.t*(M-_)).toPrecision(10),F=+(P+i.t*(D-P)).toPrecision(10);return{x:ue,y:F,t:i.t}}return null}else{for(let F=0;F<2;F++)if(o(F===0?g:A,x,y),i.loc==r.ORIGIN){const Y=F===0?g:A;return{x:Y.x,y:Y.y,t:i.t}}const re=+(_+W*(M-_)).toPrecision(10),ue=+(P+W*(D-P)).toPrecision(10);return{x:re,y:ue,t:W}}}function o(x,y,g){const A=g.x-y.x,_=g.y-y.y,M=x.x-y.x,R=x.y-y.y,b=A*R-M*_;if(x.x===y.x&&x.y===y.y){i.loc=r.ORIGIN,i.t=0;return}if(x.x===g.x&&x.y===g.y){i.loc=r.DESTINATION,i.t=1;return}if(b<-Number.EPSILON){i.loc=r.LEFT;return}if(b>Number.EPSILON){i.loc=r.RIGHT;return}if(A*M<0||_*R<0){i.loc=r.BEHIND;return}if(Math.sqrt(A*A+_*_)<Math.sqrt(M*M+R*R)){i.loc=r.BEYOND;return}let P;A!==0?P=M/A:P=R/_,i.loc=r.BETWEEN,i.t=P}function a(x,y){const g=[],A=[];for(let _=1;_<x.length;_++){const M=x[_-1],R=x[_];for(let b=1;b<y.length;b++){const P=y[b-1],D=y[b],V=s(M,R,P,D);V!==null&&g.find(T=>T.t<=V.t+Number.EPSILON&&T.t>=V.t-Number.EPSILON)===void 0&&(g.push(V),A.push(new Ce(V.x,V.y)))}}return A}function l(x,y,g){const A=new Ce;y.getCenter(A);const _=[];return g.forEach(M=>{M.boundingBox.containsPoint(A)&&a(x,M.points).forEach(b=>{_.push({identifier:M.identifier,isCW:M.isCW,point:b})})}),_.sort((M,R)=>M.point.x-R.point.x),_}function c(x,y,g,A,_){(_==null||_==="")&&(_="nonzero");const M=new Ce;x.boundingBox.getCenter(M);const R=[new Ce(g,M.y),new Ce(A,M.y)],b=l(R,x.boundingBox,y);b.sort((G,se)=>G.point.x-se.point.x);const P=[],D=[];b.forEach(G=>{G.identifier===x.identifier?P.push(G):D.push(G)});const V=P[0].point.x,T=[];let L=0;for(;L<D.length&&D[L].point.x<V;)T.length>0&&T[T.length-1]===D[L].identifier?T.pop():T.push(D[L].identifier),L++;if(T.push(x.identifier),_==="evenodd"){const G=T.length%2===0,se=T[T.length-2];return{identifier:x.identifier,isHole:G,for:se}}else if(_==="nonzero"){let G=!0,se=null,W=null;for(let te=0;te<T.length;te++){const re=T[te];G?(W=y[re].isCW,G=!1,se=re):W!==y[re].isCW&&(W=y[re].isCW,G=!0)}return{identifier:x.identifier,isHole:G,for:se}}else console.warn('fill-rule: "'+_+'" is currently not implemented.')}let u=999999999,h=-999999999,p=e.subPaths.map(x=>{const y=x.getPoints();let g=-999999999,A=999999999,_=-999999999,M=999999999;for(let R=0;R<y.length;R++){const b=y[R];b.y>g&&(g=b.y),b.y<A&&(A=b.y),b.x>_&&(_=b.x),b.x<M&&(M=b.x)}return h<=_&&(h=_+1),u>=M&&(u=M-1),{curves:x.curves,points:y,isCW:Ds.isClockWise(y),identifier:-1,boundingBox:new Wb(new Ce(M,A),new Ce(_,g))}});p=p.filter(x=>x.points.length>1);for(let x=0;x<p.length;x++)p[x].identifier=x;const m=p.map(x=>c(x,p,u,h,e.userData?e.userData.style.fillRule:void 0)),v=[];return p.forEach(x=>{if(!m[x.identifier].isHole){const g=new ja;g.curves=x.curves,m.filter(_=>_.isHole&&_.for===x.identifier).forEach(_=>{const M=p[_.identifier],R=new Wa;R.curves=M.curves,g.holes.push(R)}),v.push(g)}}),v}static getStrokeStyle(e,t,r,i,s){return e=e!==void 0?e:1,t=t!==void 0?t:"#000",r=r!==void 0?r:"miter",i=i!==void 0?i:"butt",s=s!==void 0?s:4,{strokeColor:t,strokeWidth:e,strokeLineJoin:r,strokeLineCap:i,strokeMiterLimit:s}}static pointsToStroke(e,t,r,i){const s=[],o=[],a=[];if($m.pointsToStrokeWithBuffers(e,t,r,i,s,o,a)===0)return null;const l=new Pt;return l.setAttribute("position",new lt(s,3)),l.setAttribute("normal",new lt(o,3)),l.setAttribute("uv",new lt(a,2)),l}static pointsToStrokeWithBuffers(e,t,r,i,s,o,a,l){const c=new Ce,u=new Ce,h=new Ce,p=new Ce,m=new Ce,v=new Ce,x=new Ce,y=new Ce,g=new Ce,A=new Ce,_=new Ce,M=new Ce,R=new Ce,b=new Ce,P=new Ce,D=new Ce,V=new Ce;r=r!==void 0?r:12,i=i!==void 0?i:.001,l=l!==void 0?l:0,e=Ae(e);const T=e.length;if(T<2)return 0;const L=e[0].equals(e[T-1]);let G,se=e[0],W;const te=t.strokeWidth/2,re=1/(T-1);let ue=0,F,Y,Q,fe,xe=!1,Oe=0,X=l*3,j=l*2;H(e[0],e[1],c).multiplyScalar(te),y.copy(e[0]).sub(c),g.copy(e[0]).add(c),A.copy(y),_.copy(g);for(let ae=1;ae<T;ae++){G=e[ae],ae===T-1?L?W=e[1]:W=void 0:W=e[ae+1];const me=c;if(H(se,G,me),h.copy(me).multiplyScalar(te),M.copy(G).sub(h),R.copy(G).add(h),F=ue+re,Y=!1,W!==void 0){H(G,W,u),h.copy(u).multiplyScalar(te),b.copy(G).sub(h),P.copy(G).add(h),Q=!0,h.subVectors(W,se),me.dot(h)<0&&(Q=!1),ae===1&&(xe=Q),h.subVectors(W,G),h.normalize();const ye=Math.abs(me.dot(h));if(ye>Number.EPSILON){const De=te/ye;h.multiplyScalar(-De),p.subVectors(G,se),m.copy(p).setLength(De).add(h),D.copy(m).negate();const oe=m.length(),I=p.length();p.divideScalar(I),v.subVectors(W,G);const k=v.length();switch(v.divideScalar(k),p.dot(D)<I&&v.dot(D)<k&&(Y=!0),V.copy(m).add(G),D.add(G),fe=!1,Y?Q?(P.copy(D),R.copy(D)):(b.copy(D),M.copy(D)):be(),t.strokeLineJoin){case"bevel":Ee(Q,Y,F);break;case"round":Te(Q,Y),Q?ve(G,M,b,F,0):ve(G,P,R,F,1);break;case"miter":case"miter-clip":default:const he=te*t.strokeMiterLimit/oe;if(he<1)if(t.strokeLineJoin!=="miter-clip"){Ee(Q,Y,F);break}else Te(Q,Y),Q?(v.subVectors(V,M).multiplyScalar(he).add(M),x.subVectors(V,b).multiplyScalar(he).add(b),z(M,F,0),z(v,F,0),z(G,F,.5),z(G,F,.5),z(v,F,0),z(x,F,0),z(G,F,.5),z(x,F,0),z(b,F,0)):(v.subVectors(V,R).multiplyScalar(he).add(R),x.subVectors(V,P).multiplyScalar(he).add(P),z(R,F,1),z(v,F,1),z(G,F,.5),z(G,F,.5),z(v,F,1),z(x,F,1),z(G,F,.5),z(x,F,1),z(P,F,1));else Y?(Q?(z(g,ue,1),z(y,ue,0),z(V,F,0),z(g,ue,1),z(V,F,0),z(D,F,1)):(z(g,ue,1),z(y,ue,0),z(V,F,1),z(y,ue,0),z(D,F,0),z(V,F,1)),Q?b.copy(V):P.copy(V)):Q?(z(M,F,0),z(V,F,0),z(G,F,.5),z(G,F,.5),z(V,F,0),z(b,F,0)):(z(R,F,1),z(V,F,1),z(G,F,.5),z(G,F,.5),z(V,F,1),z(P,F,1)),fe=!0;break}}else be()}else be();!L&&ae===T-1&&J(e[0],A,_,Q,!0,ue),ue=F,se=G,y.copy(b),g.copy(P)}if(!L)J(G,M,R,Q,!1,F);else if(Y&&s){let ae=V,me=D;xe!==Q&&(ae=D,me=V),Q?(fe||xe)&&(me.toArray(s,0*3),me.toArray(s,3*3),fe&&ae.toArray(s,1*3)):(fe||!xe)&&(me.toArray(s,1*3),me.toArray(s,3*3),fe&&ae.toArray(s,0*3))}return Oe;function H(ae,me,ye){return ye.subVectors(me,ae),ye.set(-ye.y,ye.x).normalize()}function z(ae,me,ye){s&&(s[X]=ae.x,s[X+1]=ae.y,s[X+2]=0,o&&(o[X]=0,o[X+1]=0,o[X+2]=1),X+=3,a&&(a[j]=me,a[j+1]=ye,j+=2)),Oe+=3}function ve(ae,me,ye,De,oe){c.copy(me).sub(ae).normalize(),u.copy(ye).sub(ae).normalize();let I=Math.PI;const k=c.dot(u);Math.abs(k)<1&&(I=Math.abs(Math.acos(k))),I/=r,h.copy(me);for(let he=0,Ne=r-1;he<Ne;he++)p.copy(h).rotateAround(ae,I),z(h,De,oe),z(p,De,oe),z(ae,De,.5),h.copy(p);z(p,De,oe),z(ye,De,oe),z(ae,De,.5)}function be(){z(g,ue,1),z(y,ue,0),z(M,F,0),z(g,ue,1),z(M,F,0),z(R,F,1)}function Ee(ae,me,ye){me?ae?(z(g,ue,1),z(y,ue,0),z(M,F,0),z(g,ue,1),z(M,F,0),z(D,F,1),z(M,ye,0),z(b,ye,0),z(D,ye,.5)):(z(g,ue,1),z(y,ue,0),z(R,F,1),z(y,ue,0),z(D,F,0),z(R,F,1),z(R,ye,1),z(D,ye,0),z(P,ye,1)):ae?(z(M,ye,0),z(b,ye,0),z(G,ye,.5)):(z(R,ye,1),z(P,ye,0),z(G,ye,.5))}function Te(ae,me){me&&(ae?(z(g,ue,1),z(y,ue,0),z(M,F,0),z(g,ue,1),z(M,F,0),z(D,F,1),z(M,ue,0),z(G,F,.5),z(D,F,1),z(G,F,.5),z(b,ue,0),z(D,F,1)):(z(g,ue,1),z(y,ue,0),z(R,F,1),z(y,ue,0),z(D,F,0),z(R,F,1),z(R,ue,1),z(D,F,0),z(G,F,.5),z(G,F,.5),z(D,F,0),z(P,ue,1)))}function J(ae,me,ye,De,oe,I){switch(t.strokeLineCap){case"round":oe?ve(ae,ye,me,I,.5):ve(ae,me,ye,I,.5);break;case"square":if(oe)c.subVectors(me,ae),u.set(c.y,-c.x),h.addVectors(c,u).add(ae),p.subVectors(u,c).add(ae),De?(h.toArray(s,1*3),p.toArray(s,0*3),p.toArray(s,3*3)):(h.toArray(s,1*3),a[3*2+1]===1?p.toArray(s,3*3):h.toArray(s,3*3),p.toArray(s,0*3));else{c.subVectors(ye,ae),u.set(c.y,-c.x),h.addVectors(c,u).add(ae),p.subVectors(u,c).add(ae);const k=s.length;De?(h.toArray(s,k-1*3),p.toArray(s,k-2*3),p.toArray(s,k-4*3)):(p.toArray(s,k-2*3),h.toArray(s,k-1*3),p.toArray(s,k-4*3))}break}}function Ae(ae){let me=!1;for(let De=1,oe=ae.length-1;De<oe;De++)if(ae[De].distanceTo(ae[De+1])<i){me=!0;break}if(!me)return ae;const ye=[];ye.push(ae[0]);for(let De=1,oe=ae.length-1;De<oe;De++)ae[De].distanceTo(ae[De+1])>=i&&ye.push(ae[De]);return ye.push(ae[ae.length-1]),ye}}}var gte=`uniform vec2 uMouse;\r
uniform vec2 texSize;\r
uniform sampler2D alphaMap;\r
uniform sampler2D silhoutteAlpha;\r
uniform sampler2D windmillAlpha;\r
uniform float uTime;\r
uniform vec2 uMousePos;\r
uniform float uScrollOffset;\r
uniform float uAngleOffset;

varying vec2 vUv;

vec3 color = vec3(1.0, 0.0, 0.0);\r
const float PI = 3.1415926535897932384626433832795;\r
const vec2 HALF = vec2(0.5);

float deg2rad(float deg)\r
{\r
    return deg*PI/180.0;\r
}

vec3 hueShift( vec3 color, float hueAdjust )\r
{\r
    const vec3  kRGBToYPrime = vec3 (0.299, 0.587, 0.114);\r
    const vec3  kRGBToI      = vec3 (0.596, -0.275, -0.321);\r
    const vec3  kRGBToQ      = vec3 (0.212, -0.523, 0.311);

    const vec3  kYIQToR     = vec3 (1.0, 0.956, 0.621);\r
    const vec3  kYIQToG     = vec3 (1.0, -0.272, -0.647);\r
    const vec3  kYIQToB     = vec3 (1.0, -1.107, 1.704);

    float   YPrime  = dot (color, kRGBToYPrime);\r
    float   I       = dot (color, kRGBToI);\r
    float   Q       = dot (color, kRGBToQ);\r
    float   hue     = atan (Q, I);\r
    float   chroma  = sqrt (I * I + Q * Q);

    hue += hueAdjust;

    Q = chroma * sin (hue);\r
    I = chroma * cos (hue);

    vec3    yIQ   = vec3 (YPrime, I, Q);

    return vec3( dot (yIQ, kYIQToR), dot (yIQ, kYIQToG), dot (yIQ, kYIQToB) );

}

void main()\r
{\r
    float xMultiplier = 0.01;\r
    
    vec4 alphaMapped = texture2D(alphaMap, vUv);\r
    vec4 silhoutteAlphad = abs(texture2D(silhoutteAlpha, vec2(vUv.x - (uMousePos.x*xMultiplier), vUv.y - 0.0))-1.0);

    vec2 windmillUv = vec2((vUv.x+0.34)- (uMousePos.x*xMultiplier), vUv.y+0.02);\r
    float aspect = texSize.x/texSize.y;

    float sinFactor = sin(deg2rad(uTime*100.0));\r
    float cosFactor = cos(deg2rad(uTime*100.0));

    mat2 rotMat = mat2(cosFactor, sinFactor, -sinFactor, cosFactor);\r
    
    

    windmillUv -= HALF.xy;\r
    windmillUv *= rotMat;\r
    windmillUv.x += 0.5;\r
    windmillUv.y += 0.5;

    vec4 windmillAlphad = abs(texture2D(windmillAlpha, vec2(windmillUv.x, windmillUv.y))-1.0);\r
    

    float sky = (((max(0.0, (vUv.y - 0.1))))*3.2);\r
    float horizon = min(1.0, floor((vUv.y + 0.1 + (uAngleOffset*0.1)) + 0.5));\r
    horizon*=silhoutteAlphad.x;\r
    horizon*=windmillAlphad.x;\r
    vec3 land = vec3(horizon, horizon, horizon);\r
    land.x = 0.6;\r
    land.z += 0.6;

    float strength = (floor((0.07 - abs(uAngleOffset*uAngleOffset*0.3))/distance(vUv, ( vec2(uMousePos.x, max(-0.5,((uMousePos.y - uScrollOffset) + uAngleOffset ))) + vec2(0.5, 0.5)))))*horizon;\r
    float glow = 0.1*(0.05/distance(vUv, ( vec2(uMousePos.x, max(-0.5,((uMousePos.y - uScrollOffset) + uAngleOffset ))) + vec2(0.5, 0.5))));\r
    
    vec3 tint = vec3(0.7,0.4,1.0);\r
    tint = hueShift(tint, uAngleOffset + uAngleOffset);

    float lightness = 1.0;\r
    float saturation = (0.25 - abs((uMouse.y-0.5)*0.1));

    color = hueShift(color, uMouse.x/4.0);\r
    vec3 color2 = hueShift(color, vUv.x);\r
    vec3 color3 = hueShift(color, (1.0-vUv.y));\r
    color*= color2;\r
    color+=vec3(strength*tint.x, strength*tint.y, strength*tint.z);

    color*=lightness;\r
    color.r = max(saturation, color.r);\r
    color.g = max(saturation, color.g);\r
    color.b = max(saturation, color.b);\r
    color*=sky*land;\r
    color*=color+vec3(0.80);\r
    \r
    vec4 colora = vec4(color, alphaMapped.x);\r
    gl_FragColor = vec4(colora);\r
}`,vte=`varying vec4 pos;\r
varying vec2 vUv;

void main()\r
{\r
    vec4 modelPosition = modelMatrix * vec4(position, 1.0);\r
    vec4 viewPosition = viewMatrix * modelPosition;\r
    vec4 projectedPosition = projectionMatrix * viewPosition;\r
    gl_Position = projectedPosition;

    pos = modelPosition;\r
    vUv = uv;\r
}`;function yte(n){const e=new $m,t=new Ka,{alphaMap:r,silhoutteAlpha:i,windmillAlpha:s}=ul({alphaMap:"./images/backdrop.jpg",silhoutteAlpha:"./images/backdrop_silhouttes.jpg",windmillAlpha:"./images/backdrop_windmill.jpg"});r.minFilter=Ct,r.magFilter=jt,i.minFilter=Ct,i.magFilter=jt,s.minFilter=Ct,s.magFilter=jt;const o=new Gr({vertexShader:vte,fragmentShader:gte,uniforms:{texSize:{value:new Ce(1080,1080)},uResolution:{type:"v2",value:new Ce(window.innerWidth,window.innerHeight).multiplyScalar(window.devicePixelRatio)},uMouse:{type:"v2",value:new Ce(1,1).multiplyScalar(window.devicePixelRatio)},uMousePos:{type:"v2",value:new Ce(1,1).multiplyScalar(window.devicePixelRatio)},alphaMap:{value:r},silhoutteAlpha:{value:i},windmillAlpha:{value:s},uTime:{value:0},uScrollOffset:{value:0},uAngleOffset:{value:0}},transparent:!0,alphaTest:.4}),a=w.useRef(),l=Og();return w.useState(!1),Gi((c,u)=>{o.uniforms.uMouse.value.set(c.pointer.x*(Math.PI*2),c.pointer.y).multiplyScalar(window.devicePixelRatio),nc.damp(o.uniforms.uMousePos.value,o.uniforms.uMousePos.value.set(c.pointer.x,c.pointer.y).multiplyScalar(window.devicePixelRatio),.9,u),o.uniforms.uScrollOffset.value=l.range(0,1/3),o.uniforms.uTime.value=c.clock.elapsedTime,o.uniforms.uAngleOffset.value=Jh.damp(o.uniforms.uAngleOffset.value,Math.tan(c.camera.rotation.x)*(Math.abs(c.camera.position.z)+30)/(16.6+o.uniforms.uScrollOffset.value*30)*.5,4,u)}),e.load("./images/backdrop.svg",function(c){const u=c.paths,h=new no;for(let p=0;p<u.length;p++){const m=u[p],v=o,x=$m.createShapes(m);for(let y=0;y<x.length;y++){const g=x[y],A=new rp(g),_=new Cn(A,v);h.add(_)}}h.scale.x=n.scale[0],h.scale.y=n.scale[1],h.scale.z=n.scale[2],h.position.x=n.position[0],h.position.y=n.position[1],h.position.z=n.position[2],t.add(h)}),N.jsx(N.Fragment,{children:N.jsx("mesh",{ref:a,material:o,position:[n.position[0]+63.5,n.position[1]-14.5,n.position[2]],children:N.jsx("planeGeometry",{center:!0,args:[127,127]})})})}function _te(n){const{color:e,ormMap:t,normal:r}=ul({color:"./mark/textures/running_boy_pattern_basecolor.jpg",ormMap:"./mark/textures/running_boy_pattern_OcclusionRoughnessMetallic.jpg",normal:"./mark/textures/running_boy_pattern_normal.jpg"});e.colorSpace=un,e.flipY=!1,e.minFilter=Ct,e.magFilter=jt,t.colorSpace=xi,t.flipY=!1,t.minFilter=Ct,t.magFilter=jt,r.colorSpace=xi,r.flipY=!1,r.minFilter=Ct,r.magFilter=jt;const{scene:i,nodes:s,animations:o}=Ec("./mark/glTF/runningBoy.gltf"),{ref:a,mixer:l,names:c,actions:u,clips:h}=J4(o,i);return i.scale.set(17,17,17),i.rotation.set(-Math.PI*.1,Math.PI*.1,0),w.useLayoutEffect(()=>{i.children[0].material.map=e,i.children[0].material.metalness=1,i.children[0].material.metalnessMap=t,i.children[0].material.roughness=1,i.children[0].material.roughnessMap=t,i.children[0].material.normal=r}),w.useEffect(()=>{u.animation_0.play()}),N.jsx(N.Fragment,{children:N.jsx("group",{position:[n.position[0],n.position[1],n.position[2]],children:N.jsx("primitive",{object:i})})})}var xte=`varying vec2 vUv;

void main(){\r
    vec4 modelPosition = modelMatrix * vec4(position, 1.0);\r
    vec4 viewPosition = viewMatrix * modelPosition;\r
    vec4 projectedPosition = projectionMatrix * viewPosition;

    gl_Position = projectedPosition;

    vUv = uv;\r
}`,Ete=`uniform sampler2D alpha;\r
uniform sampler2D slide1;\r
uniform sampler2D slide2;\r
uniform sampler2D slide3;\r
uniform sampler2D slide4;\r
uniform sampler2D slide5;\r
uniform sampler2D slide6;\r
uniform sampler2D slide7;

varying vec2 vUv;

void main(){\r
    
    vec4 alphaTex = texture2D(alpha, vUv);\r
    vec4 slide1Tex = texture2D(slide1, vUv);\r
    vec4 slide2Tex = texture2D(slide2, vUv);\r
    vec4 slide3Tex = texture2D(slide3, vUv);\r
    vec4 slide4Tex = texture2D(slide4, vUv);\r
    vec4 slide5Tex = texture2D(slide5, vUv);\r
    vec4 slide6Tex = texture2D(slide6, vUv);\r
    vec4 slide7Tex = texture2D(slide7, vUv);

    vec3 slider = (vec3(slide6Tex.r*0.2, slide6Tex.r*0.2, slide6Tex.r*0.26)*2.10);\r

    \r
    gl_FragColor = vec4(slider, alphaTex.x);\r
}`;function Ate(n){const{alpha:e,slide1:t,slide2:r,slide3:i,slide4:s,slide5:o,slide6:a,slide7:l}=ul({alpha:"./images/slideshowAlpha.jpg",slide1:"./images/1.jpg",slide2:"./images/2.jpg",slide3:"./images/3.jpg",slide4:"./images/4.jpg",slide5:"./images/5.jpg",slide6:"./images/6.jpg",slide7:"./images/7.jpg"}),c=new Gr({vertexShader:xte,fragmentShader:Ete,uniforms:{alpha:{value:e},slide1:{value:t},slide2:{value:r},slide3:{value:i},slide4:{value:s},slide5:{value:o},slide6:{value:a},slide7:{value:l}},transparent:!0});return N.jsx(N.Fragment,{children:N.jsx("mesh",{material:c,position:n.position,children:N.jsx("planeGeometry",{args:[192,108]})})})}function wte(n){const{scene:e,nodes:t,animations:r}=Ec("./cow/glTF/cow.gltf"),{ref:i,mixer:s,names:o,actions:a,clips:l}=J4(r,e),{color:c,normal:u,ormMap:h}=ul({color:"./cow/textures/cow_color.jpg",normal:"./cow/textures/cow_normal.jpg",ormMap:"./cow/textures/cow_OcclusionRoughnessMetallic.png"});return c.colorSpace=un,c.flipY=!1,c.minFilter=Ct,c.magFilter=jt,u.colorSpace=xi,u.flipY=!1,u.minFilter=Ct,u.magFilter=jt,h.colorSpace=xi,h.flipY=!1,h.minFilter=Ct,h.magFilter=jt,e.scale.set(8,8,8),e.rotation.set(-Math.PI*.03,Math.PI*.2,Math.PI*.1),w.useLayoutEffect(()=>{e.children[0].material.map=c,e.children[0].material.normalMap=u,e.children[0].material.roughness=1,e.children[0].material.roughnessMap=h,e.children[0].material.metalness=1,e.children[0].material.metalnessMap=h}),w.useEffect(()=>{a.animation_0.play()}),N.jsx(N.Fragment,{children:N.jsx("group",{position:[n.position[0],n.position[1],n.position[2]],children:N.jsx("primitive",{object:e})})})}function Ste(n){const{scene:e,nodes:t,animations:r}=Ec("./tunnel/glTF/tunnel.gltf");return e.scale.set(120,120,120),e.rotation.set(0,Math.PI,0),w.useLayoutEffect(()=>{e.children[0].material=n.material}),N.jsx(N.Fragment,{children:N.jsx("group",{position:[n.position[0],n.position[1],n.position[2]],children:N.jsx("primitive",{object:e})})})}w.createContext();function Mte(){const{perfVisible:n,perfPosition:e}=th("Performance Monitor",{perfPosition:{options:["top-left","bottom-left","bottom-right"]},perfVisible:!0}),{uSurfaceColor:t,uDepthColor:r,uColorOffset:i,uColorMultiplier:s,uBigWavesElevation:o,uBigWavesFrequency:a}=th("Sea",{uSurfaceColor:"#ff001f",uDepthColor:"#007aff",uColorOffset:0,uColorMultiplier:.1,uBigWavesElevation:.2*100/2,uBigWavesFrequency:[1.5/100,4/100]}),{fogColor:l,fogNear:c,fogFar:u}=th("Fog",{fogColor:"#1B2431",fogNear:{value:1,min:0,max:100,step:.001},fogFar:{value:280,min:0,max:300,step:.1}}),h=0,p=new Gr({vertexShader:rte,fragmentShader:ite,uniforms:{uBigWavesElevation:{value:o},uBigWavesFrequency:{value:a},uTime:{value:h},uSurfaceColor:{value:new Xe(t)},uBigWavesSpeed:{value:.75},uDepthColor:{value:new Xe(r)},uColorOffset:{value:i},uColorMultiplier:{value:s},fogColor:{value:new Xe(l)},fogNear:{value:c},fogFar:{value:u}},fog:!0,wireframe:!1}),{alpha:m,doodles:v}=ul({alpha:"./tunnel/textures/tunnel_Alpha.jpg",doodles:"./tunnel/textures/doodle_Alpha.jpg"});m.flipY=!1,m.minFilter=Ct,m.magFilter=N3,v.flipY=!1,v.minFilter=Ct,v.magFilter=N3;const x=new Gr({vertexShader:ote,fragmentShader:ste,uniforms:{alpha:{value:m},doodles:{value:v},fogColor:{value:new Xe(l)},fogNear:{value:c},fogFar:{value:u},uTime:{value:h},uMouse:{type:"v2",value:new Ce(1,1).multiplyScalar(window.devicePixelRatio)},uMousePos:{type:"v2",value:new Ce(1,1).multiplyScalar(window.devicePixelRatio)}},fog:!0,transparent:!0});return x.depthWrite=!1,Gi((y,g)=>(p.uniforms.uTime.value=y.clock.elapsedTime,x.uniforms.uTime.value=y.clock.elapsedTime,x.uniforms.uMouse.value.set(y.pointer.x*(Math.PI*2),y.pointer.y).multiplyScalar(window.devicePixelRatio),nc.damp(x.uniforms.uMousePos.value,x.uniforms.uMousePos.value.set(y.pointer.x,y.pointer.y).multiplyScalar(window.devicePixelRatio),.9,g),y.camera)),N.jsxs(N.Fragment,{children:[n&&N.jsx(nte,{position:e}),N.jsx("fog",{attach:"fog",args:[l,c,u]}),N.jsx("directionalLight",{color:"white",position:[30,14,5],intensity:1}),N.jsx(w.Suspense,{fallback:null,children:N.jsx(pj,{files:"hdr/studio_small_04_1k.hdr",children:N.jsx(mj,{"position-z":-5,scale:4,color:"red",intensity:2,form:"ring"})})}),N.jsx(w.Suspense,{fallback:null,children:N.jsxs(JV,{damping:.2,pages:3,children:[N.jsx(Cq,{}),N.jsx(Ate,{position:[0,130,-50]}),N.jsx(_te,{position:[56,136,-40]}),N.jsx(wte,{position:[-70,110,-42]}),N.jsx(Ste,{material:x,position:[0,140,-100]}),N.jsx(yte,{scale:[.1,-.1,.1],position:[-64,148,-30]}),N.jsx("group",{"rotation-y":Math.PI*(1/4),children:N.jsx("mesh",{material:p,scale:[100,100,1],"rotation-x":-Math.PI*.5,position:[0,-25,-100],children:N.jsx("planeGeometry",{args:[10,10,128,128]})})}),N.jsx(ZV,{html:!0,style:{width:"100%"},children:N.jsx(pte,{})})]})})]})}const Cte=Ny.createRoot(document.querySelector("#root"));Cte.render(N.jsxs(N.Fragment,{children:[N.jsx(TP,{hidden:!0,collapsed:!0}),N.jsx("div",{className:"parent",children:N.jsxs(yT,{gl:{toneMappingExposure:1,outputColorSpace:un},shadows:!0,camera:{fov:45,near:.1,far:200,position:[-4,3,30]},dpr:[1,1.5],children:[N.jsx("color",{args:["#1B2431"],attach:"background"}),N.jsx(Mte,{})]})})]}));export{zr as B,Xe as C,qr as D,lo as F,Fb as I,Ct as L,h4 as M,yf as P,I8 as R,kt as S,yn as T,j8 as U,Ce as V,p4 as a,Er as b,ri as c,tf as d,Qt as e,Tt as f,Cn as g,Pt as h,lt as i,Di as j,yt as k,Z as l};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=index-CPP7KueY.js.map
